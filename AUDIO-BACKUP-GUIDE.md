# ğŸµ éŸ³é¢‘å¤‡ä»½å®Œæ•´æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—æä¾›äº†å®Œæ•´çš„éŸ³é¢‘æ–‡ä»¶å¤‡ä»½å’Œæ¢å¤ç­–ç•¥ï¼Œç¡®ä¿å³ä½¿ Archive.org CDN å‡ºç°é—®é¢˜ï¼Œä½ çš„åº”ç”¨ä¹Ÿèƒ½å¿«é€Ÿæ¢å¤ã€‚

---

## ğŸ› ï¸ å¤‡ä»½å·¥å…·

é¡¹ç›®æä¾›äº†3ä¸ªè‡ªåŠ¨åŒ–å·¥å…·æ¥ç®¡ç†éŸ³é¢‘å¤‡ä»½ï¼š

### 1. **å¤‡ä»½ä¸‹è½½å·¥å…·** (`tools/backup-audio-from-archive.js`)

ä» Archive.org ä¸‹è½½æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶åˆ°æœ¬åœ°ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# ä¸‹è½½åˆ°é»˜è®¤ç›®å½• ./audio-backup
node tools/backup-audio-from-archive.js

# ä¸‹è½½åˆ°è‡ªå®šä¹‰ç›®å½•
node tools/backup-audio-from-archive.js ./my-backup-folder
```

**åŠŸèƒ½ï¼š**
- âœ… è‡ªåŠ¨ä» Archive.org ä¸‹è½½æ‰€æœ‰213+éŸ³é¢‘æ–‡ä»¶
- âœ… æ–­ç‚¹ç»­ä¼ ï¼ˆè·³è¿‡å·²å­˜åœ¨çš„æ–‡ä»¶ï¼‰
- âœ… æ™ºèƒ½é‡è¯•æœºåˆ¶
- âœ… è‡ªåŠ¨éªŒè¯å¤‡ä»½å®Œæ•´æ€§
- âœ… è¯¦ç»†çš„è¿›åº¦å’Œç»Ÿè®¡æŠ¥å‘Š

### 2. **æ¸…å•ç”Ÿæˆå·¥å…·** (`tools/generate-audio-manifest.js`)

ç”ŸæˆéŸ³é¢‘æ–‡ä»¶æ¸…å•ï¼Œç”¨äºéªŒè¯å’Œæ–‡æ¡£è®°å½•ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# ç”Ÿæˆ JSON æ¸…å•
node tools/generate-audio-manifest.js json

# ç”Ÿæˆ CSV æ¸…å•
node tools/generate-audio-manifest.js csv

# ç”Ÿæˆ Markdown æ¸…å•
node tools/generate-audio-manifest.js markdown

# ç”Ÿæˆæ‰€æœ‰æ ¼å¼
node tools/generate-audio-manifest.js all
```

**è¾“å‡ºæ–‡ä»¶ï¼š**
- `audio-manifest.json` - æœºå™¨å¯è¯»æ ¼å¼
- `audio-manifest.csv` - Excel/è¡¨æ ¼æ ¼å¼
- `audio-manifest.md` - äººç±»å¯è¯»æ–‡æ¡£

### 3. **é“¾æ¥éªŒè¯å·¥å…·** (`tools/verify-archive-links.js`)

éªŒè¯ Archive.org ä¸Šæ‰€æœ‰éŸ³é¢‘é“¾æ¥çš„å¯ç”¨æ€§ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# å®Œæ•´éªŒè¯ï¼ˆæ‰€æœ‰213ä¸ªé“¾æ¥ï¼‰
node tools/verify-archive-links.js

# è¯¦ç»†æ¨¡å¼ï¼ˆæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çŠ¶æ€ï¼‰
node tools/verify-archive-links.js --verbose

# å¿«é€Ÿå¥åº·æ£€æŸ¥ï¼ˆéšæœºé‡‡æ ·10ä¸ªï¼‰
node tools/verify-archive-links.js --quick

# è‡ªå®šä¹‰é‡‡æ ·æ•°é‡
node tools/verify-archive-links.js --quick 20
```

**åŠŸèƒ½ï¼š**
- âœ… HEAD è¯·æ±‚éªŒè¯ï¼ˆä¸ä¸‹è½½æ–‡ä»¶å†…å®¹ï¼‰
- âœ… è¶…æ—¶æ£€æµ‹ï¼ˆ10ç§’ï¼‰
- âœ… ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
- âœ… ä¿å­˜æ— æ•ˆé“¾æ¥åˆ—è¡¨åˆ° JSON

---

## ğŸ“… æ¨èå¤‡ä»½ç­–ç•¥

### æ¯æ—¥ä»»åŠ¡
- [ ] **å¿«é€Ÿå¥åº·æ£€æŸ¥**ï¼ˆ1åˆ†é’Ÿï¼‰
  ```bash
  node tools/verify-archive-links.js --quick
  ```
  å¦‚æœå¥åº·åˆ†æ•° < 95%ï¼Œç«‹å³è¿è¡Œå®Œæ•´éªŒè¯

### æ¯å‘¨ä»»åŠ¡
- [ ] **å®Œæ•´é“¾æ¥éªŒè¯**ï¼ˆ15åˆ†é’Ÿï¼‰
  ```bash
  node tools/verify-archive-links.js --verbose
  ```
  æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„å¤±æ•ˆé“¾æ¥

### æ¯æœˆä»»åŠ¡
- [ ] **å®Œæ•´å¤‡ä»½ä¸‹è½½**ï¼ˆ30-60åˆ†é’Ÿï¼‰
  ```bash
  node tools/backup-audio-from-archive.js ./monthly-backup-2025-01
  ```

- [ ] **éªŒè¯å¤‡ä»½å®Œæ•´æ€§**
  - æ£€æŸ¥æ–‡ä»¶æ•°é‡ï¼šåº”ä¸º 213 ä¸ª
  - æ£€æŸ¥æ€»å¤§å°ï¼šåº”ä¸ºæ•°ç™¾MB
  - è¿è¡ŒéªŒè¯è„šæœ¬ç¡®è®¤

- [ ] **ä¸Šä¼ åˆ°äº‘å­˜å‚¨**
  - å‹ç¼©å¤‡ä»½æ–‡ä»¶å¤¹ï¼š
    ```bash
    # Windows
    Compress-Archive -Path ./monthly-backup-2025-01 -DestinationPath backup-2025-01.zip

    # macOS/Linux
    zip -r backup-2025-01.zip ./monthly-backup-2025-01
    ```
  - ä¸Šä¼ åˆ° Google Drive / OneDrive / Dropbox
  - åˆ é™¤æœ¬åœ°å¤‡ä»½æ–‡ä»¶å¤¹ï¼ˆä¿ç•™å‹ç¼©åŒ…ï¼‰

### æ¯å­£åº¦ä»»åŠ¡
- [ ] **å¤‡ä»½å®¡è®¡**
  - éªŒè¯äº‘å­˜å‚¨å¤‡ä»½å®Œæ•´æ€§
  - æµ‹è¯•ä»å¤‡ä»½æ¢å¤ï¼ˆæŠ½æ ·æµ‹è¯•ï¼‰
  - æ›´æ–°å¤‡ä»½æ–‡æ¡£

---

## ğŸ’¾ å¤‡ä»½å­˜å‚¨æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šäº‘å­˜å‚¨å¤‡ä»½ï¼ˆæ¨èï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… è‡ªåŠ¨åŒæ­¥
- âœ… ç‰ˆæœ¬æ§åˆ¶
- âœ… è·¨è®¾å¤‡è®¿é—®
- âœ… ç¾éš¾æ¢å¤ä¿æŠ¤

**æ¨èæœåŠ¡ï¼š**
1. **Google Drive** (15GB å…è´¹)
2. **OneDrive** (5GB å…è´¹)
3. **Dropbox** (2GB å…è´¹)

**æ“ä½œæ­¥éª¤ï¼š**
```bash
# 1. ä¸‹è½½å¤‡ä»½
node tools/backup-audio-from-archive.js ./audio-backup-$(date +%Y-%m)

# 2. å‹ç¼©
zip -r audio-backup-$(date +%Y-%m).zip ./audio-backup-$(date +%Y-%m)

# 3. ä¸Šä¼ åˆ°äº‘å­˜å‚¨ï¼ˆä½¿ç”¨å„å¹³å°çš„åŒæ­¥æ–‡ä»¶å¤¹ï¼‰
mv audio-backup-*.zip ~/Google\ Drive/Sound-Healing-Backups/

# 4. æ¸…ç†æœ¬åœ°æ–‡ä»¶
rm -rf ./audio-backup-$(date +%Y-%m)
```

### æ–¹æ¡ˆ2ï¼šæœ¬åœ°å¤–ç½®ç¡¬ç›˜

**ä¼˜ç‚¹ï¼š**
- âœ… å®Œå…¨æ§åˆ¶
- âœ… æ— å­˜å‚¨é™åˆ¶
- âœ… å¿«é€Ÿæ¢å¤

**æ“ä½œæ­¥éª¤ï¼š**
```bash
# ç›´æ¥å¤‡ä»½åˆ°å¤–ç½®ç¡¬ç›˜
node tools/backup-audio-from-archive.js /Volumes/ExternalDrive/Sound-Healing-Backup
```

### æ–¹æ¡ˆ3ï¼šNAS ç½‘ç»œå­˜å‚¨

**ä¼˜ç‚¹ï¼š**
- âœ… è‡ªåŠ¨å¤‡ä»½
- âœ… RAID å†—ä½™
- âœ… å±€åŸŸç½‘å¿«é€Ÿè®¿é—®

---

## ğŸš¨ åº”æ€¥æ¢å¤æ–¹æ¡ˆ

### åœºæ™¯1ï¼šArchive.org ä¸´æ—¶ä¸å¯ç”¨

**ç—‡çŠ¶ï¼š**
- éƒ¨åˆ†éŸ³é¢‘æ— æ³•åŠ è½½
- åŠ è½½è¶…æ—¶
- ç”¨æˆ·çœ‹åˆ°"âš ï¸ éŸ³é¢‘åŠ è½½å¤±è´¥"æç¤º

**å¿«é€Ÿå¤„ç†ï¼š**
1. **ä¸è¦æƒŠæ…Œ** - åº”ç”¨å·²å®ç°é‡è¯•æœºåˆ¶ï¼ˆ3æ¬¡ï¼‰
2. **æ£€æŸ¥ Archive.org çŠ¶æ€**ï¼šhttps://archive.org
3. **è¿è¡Œå¿«é€ŸéªŒè¯**ï¼š
   ```bash
   node tools/verify-archive-links.js --quick 20
   ```
4. **é€šçŸ¥ç”¨æˆ·** - åœ¨åº”ç”¨ä¸­æ·»åŠ å…¬å‘Š

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ç¼“å­˜çš„éŸ³é¢‘ï¼ˆService Worker å·²ç¼“å­˜çƒ­é—¨æ›²ç›®ï¼‰
- å¼•å¯¼ç”¨æˆ·æ’­æ”¾å…¶ä»–å¯ç”¨éŸ³é¢‘

### åœºæ™¯2ï¼šArchive.org é•¿æœŸä¸å¯ç”¨

**ç—‡çŠ¶ï¼š**
- æ‰€æœ‰éŸ³é¢‘å‡æ— æ³•åŠ è½½
- éªŒè¯è„šæœ¬æ˜¾ç¤º 0% å¥åº·åˆ†æ•°

**æ¢å¤æ­¥éª¤ï¼š**

#### æ­¥éª¤ 1ï¼šä»å¤‡ä»½æ¢å¤éŸ³é¢‘æ–‡ä»¶
```bash
# ä»äº‘å­˜å‚¨ä¸‹è½½æœ€æ–°å¤‡ä»½
# è§£å‹åˆ°é¡¹ç›®ç›®å½•
unzip backup-2025-01.zip

# ç§»åŠ¨åˆ° assets/audio
mv audio-backup-2025-01/* assets/audio/
```

#### æ­¥éª¤ 2ï¼šä¿®æ”¹é…ç½®æŒ‡å‘æœ¬åœ°æ–‡ä»¶
ç¼–è¾‘ `assets/js/audio-config.js`:
```javascript
const AUDIO_CONFIG = {
    // åŸæ¥ï¼š
    // baseUrl: 'https://archive.org/download/sound-healing-collection/',

    // æ”¹ä¸ºï¼ˆVercel éƒ¨ç½²ï¼‰ï¼š
    baseUrl: 'https://soundflows.app/assets/audio/',

    // æˆ–æ”¹ä¸ºï¼ˆæœ¬åœ°å¼€å‘ï¼‰ï¼š
    // baseUrl: '/assets/audio/',

    categories: {
        // ... ä¿æŒä¸å˜
    }
};
```

#### æ­¥éª¤ 3ï¼šæ›´æ–° .gitignoreï¼ˆä¸´æ—¶ï¼‰
æ³¨é‡Šæ‰éŸ³é¢‘æ–‡ä»¶æ’é™¤è§„åˆ™ï¼š
```gitignore
# ä¸´æ—¶å…è®¸éŸ³é¢‘æ–‡ä»¶æäº¤ï¼ˆç´§æ€¥æ¢å¤ï¼‰
# assets/audio/**/*.mp3
# assets/audio/**/*.wav
# ...
```

#### æ­¥éª¤ 4ï¼šéƒ¨ç½²æ›´æ–°
```bash
git add assets/audio/
git add assets/js/audio-config.js
git commit -m "ğŸš¨ ç´§æ€¥æ¢å¤ï¼šä½¿ç”¨æœ¬åœ°éŸ³é¢‘æ–‡ä»¶"
git push origin main
```

**æ³¨æ„ï¼š**
- âš ï¸ è¿™ä¼šå¤§å¹…å¢åŠ ä»“åº“å¤§å°
- âš ï¸ Vercel æœ‰ 100MB éƒ¨ç½²é™åˆ¶ï¼Œå¯èƒ½éœ€è¦å‡çº§è®¡åˆ’
- âœ… æ¢å¤åå°½å¿«å¯»æ‰¾æ›¿ä»£ CDN

### åœºæ™¯3ï¼šåˆ‡æ¢åˆ°å¤‡ç”¨ CDN

**æ¨èå¤‡ç”¨ CDNï¼š**
1. **Cloudinary** (å…è´¹10GB)
2. **imgix** (å…è´¹1000å¼ å›¾)
3. **Bunny CDN** (ä»˜è´¹ï¼Œæ€§ä»·æ¯”é«˜)

**æ“ä½œæ­¥éª¤ï¼š**
1. ä¸Šä¼ å¤‡ä»½åˆ°æ–° CDN
2. ä¿®æ”¹ `audio-config.js` ä¸­çš„ `baseUrl`
3. æµ‹è¯•éªŒè¯ï¼š`node tools/verify-archive-links.js`
4. éƒ¨ç½²æ›´æ–°

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### è‡ªåŠ¨åŒ–ç›‘æ§è„šæœ¬

åˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼ˆcron jobï¼‰ï¼š
```bash
# æ¯å¤©æ—©ä¸Š8ç‚¹éªŒè¯é“¾æ¥å¥åº·åº¦
0 8 * * * cd /path/to/project && node tools/verify-archive-links.js --quick >> logs/health-check.log 2>&1

# æ¯å‘¨æ—¥å‡Œæ™¨2ç‚¹å®Œæ•´å¤‡ä»½
0 2 * * 0 cd /path/to/project && node tools/backup-audio-from-archive.js ./weekly-backup && zip -r weekly-backup.zip ./weekly-backup && rm -rf ./weekly-backup
```

### å¥åº·åº¦æŒ‡æ ‡

| åˆ†æ•° | çŠ¶æ€ | è¡ŒåŠ¨ |
|------|------|------|
| 100% | ğŸŸ¢ å¥åº· | æ— éœ€æ“ä½œ |
| 95-99% | ğŸŸ¡ è‰¯å¥½ | ç›‘æ§æ— æ•ˆé“¾æ¥ |
| 85-94% | ğŸŸ  è­¦å‘Š | æ£€æŸ¥ Archive.org çŠ¶æ€ |
| < 85% | ğŸ”´ ç´§æ€¥ | å¯åŠ¨åº”æ€¥æ¢å¤æ–¹æ¡ˆ |

---

## ğŸ“ å¤‡ä»½æ£€æŸ¥æ¸…å•

### å¤‡ä»½å‰
- [ ] ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
- [ ] ç¡®è®¤æœ‰è¶³å¤Ÿç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘ 1GBï¼‰
- [ ] è¿è¡Œé“¾æ¥éªŒè¯ç¡®è®¤æºæ–‡ä»¶å¯ç”¨

### å¤‡ä»½ä¸­
- [ ] ç›‘æ§ä¸‹è½½è¿›åº¦
- [ ] æ£€æŸ¥é”™è¯¯æ—¥å¿—
- [ ] éªŒè¯ä¸‹è½½æ–‡ä»¶çš„å®Œæ•´æ€§

### å¤‡ä»½å
- [ ] è¿è¡ŒéªŒè¯è„šæœ¬ç¡®è®¤æ‰€æœ‰æ–‡ä»¶å·²ä¸‹è½½
- [ ] ç”Ÿæˆæ¸…å•æ–‡ä»¶ï¼ˆJSON/CSV/Markdownï¼‰
- [ ] å‹ç¼©å¤‡ä»½æ–‡ä»¶å¤¹
- [ ] ä¸Šä¼ åˆ°äº‘å­˜å‚¨
- [ ] æ›´æ–°å¤‡ä»½è®°å½•ï¼ˆæ—¥æœŸã€æ–‡ä»¶æ•°ã€å¤§å°ï¼‰
- [ ] æµ‹è¯•æ¢å¤æµç¨‹ï¼ˆæŠ½æ ·ï¼‰

---

## ğŸ”§ é«˜çº§æŠ€å·§

### 1. å¢é‡å¤‡ä»½
```bash
# åªä¸‹è½½æ–°å¢æˆ–ä¿®æ”¹çš„æ–‡ä»¶
rsync -avz --progress \
  /path/to/archive-backup/ \
  /path/to/incremental-backup/
```

### 2. å¹¶è¡Œä¸‹è½½åŠ é€Ÿ
ä¿®æ”¹ `backup-audio-from-archive.js` ä¸­çš„å»¶è¿Ÿï¼š
```javascript
// ä» 200ms æ”¹ä¸º 50msï¼ˆéœ€è¦ç¨³å®šç½‘ç»œï¼‰
await new Promise(resolve => setTimeout(resolve, 50));
```

### 3. åˆ†ç±»å¤‡ä»½
åªå¤‡ä»½ç‰¹å®šåˆ†ç±»ï¼š
```javascript
// ä¿®æ”¹è„šæœ¬åªå¤„ç†ç‰¹å®šåˆ†ç±»
const categoriesToBackup = ['meditation', 'Rain', 'Chakra'];
```

---

## â“ å¸¸è§é—®é¢˜

**Q: å¤‡ä»½éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ**
A: å®Œæ•´å¤‡ä»½çº¦30-60åˆ†é’Ÿï¼ˆ213ä¸ªæ–‡ä»¶ï¼Œå–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰

**Q: å¤‡ä»½å ç”¨å¤šå°‘ç©ºé—´ï¼Ÿ**
A: çº¦ 500MB-1GBï¼ˆæœªå‹ç¼©ï¼‰ï¼Œå‹ç¼©åçº¦ 300-500MB

**Q: å¤šä¹…å¤‡ä»½ä¸€æ¬¡ï¼Ÿ**
A: å»ºè®®æ¯æœˆå®Œæ•´å¤‡ä»½ä¸€æ¬¡ï¼Œæ¯å‘¨å¿«é€ŸéªŒè¯

**Q: äº‘å­˜å‚¨å…è´¹ç©ºé—´ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿ**
A:
1. ä½¿ç”¨å¤šä¸ªäº‘æœåŠ¡åˆ†æ•£å­˜å‚¨
2. å®šæœŸåˆ é™¤æ—§å¤‡ä»½ï¼ˆä¿ç•™æœ€è¿‘3ä¸ªæœˆï¼‰
3. è€ƒè™‘ä»˜è´¹å‡çº§æˆ–ä½¿ç”¨æœ¬åœ°å¤–ç½®ç¡¬ç›˜

**Q: å¦‚ä½•éªŒè¯å¤‡ä»½æ˜¯å¦æˆåŠŸï¼Ÿ**
A:
```bash
# æ£€æŸ¥æ–‡ä»¶æ•°é‡
find ./audio-backup -name "*.mp3" | wc -l
# åº”è¯¥æ˜¾ç¤º 213

# è¿è¡ŒéªŒè¯è„šæœ¬
node tools/backup-audio-from-archive.js ./audio-backup
# æŸ¥çœ‹ç»Ÿè®¡æŠ¥å‘Š
```

---

## ğŸ“ æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹ `assets/AUDIO-MANAGEMENT.md` äº†è§£éŸ³é¢‘ç®¡ç†è¯¦æƒ…
2. æ£€æŸ¥ `invalid-links-report.json` æŸ¥çœ‹å…·ä½“é”™è¯¯
3. æäº¤ GitHub Issue å¯»æ±‚å¸®åŠ©

---

**æœ€åæ›´æ–°**: 2025-01-10
**ç‰ˆæœ¬**: 1.0.0
