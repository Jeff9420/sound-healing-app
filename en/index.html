<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="build-version" content="v3.0.0-ui-redesign-20251108">
    <base href="/">
    <!-- 🚀 FIXED EMOJI ENCODING: 2025-11-08 - Restored from commit 64dd550 -->

    <!-- Primary Meta Tags -->
    <title>Sleep Better with SoundFlows | Rain Sounds, White Noise & Sound Healing App</title>
    <meta name="title" content="Sleep Better with SoundFlows | Rain Sounds, White Noise & Sound Healing App">
    <meta name="description" content="SoundFlows is a free online sound healing app with 213+ rain sounds, white noise and meditation tracks to improve sleep, focus and anxiety — no app download required, just press play in your browser.">
    <meta name="keywords" content="meditation music,rain sounds for sleeping,white noise,nature sounds,sleep sounds,free meditation music,guided meditation,sleep meditation,chakra healing,healing sounds,sound healing,relaxation music,stress relief music,singing bowl,hypnosis audio,ambient sounds,fireplace sounds,water sounds,声音疗愈,冥想音乐,雨声睡眠,白噪�?自然音效,睡眠音乐,放松音乐,减压音乐,颂钵音疗,脉轮疗愈,催眠音频,潜意识疗�?>
    <meta name="author" content="Sound Healing Team">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="en-US">
    <meta name="revisit-after" content="7 days">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.soundflows.app/en/">

    <!-- Alternate Language Versions (hreflang) - Path-based multilingual structure -->
    <link rel="alternate" hreflang="en" href="https://www.soundflows.app/en/">
    <link rel="alternate" hreflang="zh-Hans" href="https://www.soundflows.app/zh/">
    <link rel="alternate" hreflang="x-default" href="https://www.soundflows.app/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.soundflows.app/">
    <meta property="og:title" content="Sleep Better with SoundFlows | Rain Sounds, White Noise & Sound Healing App">
    <meta property="og:description" content="SoundFlows is a free online sound healing app with 213+ rain sounds, white noise and meditation tracks to improve sleep, focus and anxiety — no app download required, just press play in your browser.">
    <meta property="og:image" content="https://www.soundflows.app/assets/images/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="SoundFlows - Free Rain Sounds & White Noise for Better Sleep">
    <meta property="og:site_name" content="SoundFlows">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="zh_CN">
    <meta property="og:locale:alternate" content="ja_JP">
    <meta property="og:locale:alternate" content="ko_KR">
    <meta property="og:locale:alternate" content="es_ES">
    <meta property="og:updated_time" content="2025-10-01T00:00:00+00:00">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.soundflows.app/">
    <meta name="twitter:title" content="Sleep Better with SoundFlows | Rain Sounds, White Noise & Sound Healing App">
    <meta name="twitter:description" content="SoundFlows is a free online sound healing app with 213+ rain sounds, white noise and meditation tracks to improve sleep, focus and anxiety.">
    <meta name="twitter:image" content="https://www.soundflows.app/assets/images/twitter-card.jpg">
    <meta name="twitter:image:alt" content="SoundFlows - Free Rain Sounds & White Noise for Better Sleep">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">

    <!-- Theme Color -->
    <meta name="theme-color" content="#6666ff">
    <meta name="msapplication-TileColor" content="#6666ff">

    <!-- Preconnect to External Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- �?Archive.org CDN预连�?- 优化音频/视频加载速度 -->
    <link rel="preconnect" href="https://media.soundflows.app">
    <link rel="dns-prefetch" href="https://media.soundflows.app">

    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5KF3894B');</script>
    <!-- End Google Tag Manager -->

    <!-- Google Analytics 4 (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4NZR3HR3J1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      // 配置GA4测量ID
      gtag('config', 'G-4NZR3HR3J1', {
        'send_page_view': true,
        'anonymize_ip': true,
        'cookie_flags': 'SameSite=None;Secure'
      });

      // 自定义事件追�?- 音频播放
      window.trackAudioPlay = function(category, trackName) {
        if (typeof gtag !== 'undefined') {
          gtag('event', 'audio_play', {
            'event_category': 'Audio',
            'event_label': category + ' - ' + trackName,
            'audio_category': category,
            'track_name': trackName
          });
        }
      };

      // 自定义事件追�?- 语言切换
      window.trackLanguageChange = function(language) {
        if (typeof gtag !== 'undefined') {
          gtag('event', 'language_change', {
            'event_category': 'Engagement',
            'event_label': language
          });
        }
      };

      // 自定义事件追踪 - 睡眠定时器
      window.trackSleepTimer = function(minutes) {
        if (typeof gtag !== 'undefined') {
          gtag('event', 'sleep_timer_set', {
            'event_category': 'Feature',
            'event_label': minutes + ' minutes',
            'timer_duration': minutes
          });
        }
      };

      // 自定义事件追踪 - 分享点击
      window.trackShare = function(platform) {
        if (typeof gtag !== 'undefined') {
          gtag('event', 'share', {
            'event_category': 'Social',
            'event_label': platform,
            'method': platform
          });
        }
      };
    </script>

    <!-- Preload Critical Resources -->
    <link rel="preload" href="assets/css/index-styles.css?v=20251115-modal" as="style">
    <link rel="preload" href="assets/js/audio-config.js" as="script">
    <link rel="preload" href="assets/js/i18n-system.js" as="script">
    <link rel="preload" href="assets/js/index-app.js" as="script">
  
    <!-- External Stylesheets -->
    <link rel="stylesheet" href="assets/css/global-theme.css">
    <link rel="stylesheet" href="assets/css/index-styles.css?v=20251115-modal">
    <link rel="stylesheet" href="assets/css/history-favorites.css">
    <link rel="stylesheet" href="assets/css/mixer.css">
    <link rel="stylesheet" href="assets/css/stats-dashboard.css">
    <link rel="stylesheet" href="assets/css/accessibility.css">
    <link rel="stylesheet" href="assets/css/notification-preferences.css">
    <link rel="stylesheet" href="assets/css/color-contrast-fixes.css">

    <!-- 移动端优化CSS -->
    <link rel="stylesheet" href="assets/css/mobile-optimized.css">
    <link rel="stylesheet" href="assets/css/mobile-enhancement.css">
    <link rel="stylesheet" href="assets/css/touch-target-optimization.css">

    <!-- 主题系统CSS -->
    <link rel="stylesheet" href="assets/css/theme-system.css">

    <link rel="stylesheet" href="assets/css/focus-mode.css">
    
    <!-- UI Redesign v2.0 CSS -->
    <link rel="stylesheet" href="assets/css/redesign-v2.css">

    <!-- Audio Card Redesign - Recommended Design (Frosted Glass + Gradient Border) -->
    <link rel="stylesheet" href="assets/css/audio-card-redesign.css">

    <!-- Category Shortcuts Redesign - Navigation Cards (Frosted Glass + Gradient Border) -->
    <link rel="stylesheet" href="assets/css/category-shortcuts-redesign.css">

    <!-- Analytics Configuration (Load before analytics.js) -->
    <script src="assets/js/analytics-config.js"></script>

    <!-- Amplitude Web SDK with Autocapture -->
    <script src="https://cdn.amplitude.com/script/b6c4ebe3ec4d16c8f5fd258d29653cfc.js"></script>
    <script>
        (function initAmplitudeSafely() {
            try {
                var amplitude = window.amplitude;

                if (!amplitude || typeof amplitude.init !== 'function') {
                    console.warn('Amplitude SDK 未就绪，跳过初始化');
                    return;
                }

                if (typeof amplitude.add === 'function' &&
                    window.sessionReplay &&
                    typeof window.sessionReplay.plugin === 'function') {
                    amplitude.add(window.sessionReplay.plugin({ sampleRate: 1 }));
                }

                amplitude.init('b6c4ebe3ec4d16c8f5fd258d29653cfc', {
                    "fetchRemoteConfig": true,
                    "autocapture": {
                        "attribution": true,
                        "fileDownloads": true,
                        "formInteractions": true,
                        "pageViews": true,
                        "sessions": true,
                        "elementInteractions": true,
                        "networkTracking": true,
                        "webVitals": true,
                        "frustrationInteractions": true
                    }
                });
            } catch (error) {
                console.warn('Amplitude 初始化失败:', error);
            }
        })();
    </script>

    <!-- Schema.org FAQPage Markup for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How do I use white noise and rain sounds to fall asleep faster?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Choose gentle rain or white noise from our sleep sounds collection, set volume to 50-60% (loud enough to mask disruptions but not distracting), and optionally use the sleep timer for 30-60 minutes. The consistent background noise masks sudden environmental sounds that can prevent sleep onset, helping you fall asleep 38% faster according to sleep research studies. Use the same sound nightly to build a Pavlovian sleep association."
          }
        },
        {
          "@type": "Question",
          "name": "What's the best meditation music for focus and concentration?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For deep focus work, use binaural beats in the alpha range (8-13Hz) with headphones, or ambient instrumental music without lyrics. For meditation practice, try guided meditations if you're a beginner, or Tibetan singing bowls for experienced meditators. Keep volume low (30-50%) so the music supports but doesn't dominate your attention. Studies show properly selected focus music can improve task performance by 15-20%."
          }
        },
        {
          "@type": "Question",
          "name": "Can calming sounds really reduce anxiety and stress?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! Research shows that ocean waves, gentle rain, and slow ambient music activate your parasympathetic nervous system (your body's calm down mechanism), reducing cortisol (stress hormone) by up to 45%. Effects typically begin within 3-5 minutes as breathing naturally slows, with measurable stress reduction around 10-15 minutes. For panic attacks, focus on slow breathing (4 seconds in, 6 seconds out) while listening to calm ocean waves or rain. Daily practice builds a calm reserve that lowers baseline anxiety over time."
          }
        },
        {
          "@type": "Question",
          "name": "Do healing frequencies like 432Hz and 528Hz actually work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The scientific evidence on specific healing frequencies like 432Hz and 528Hz is mixed and still emerging. Some studies suggest 432Hz music may reduce stress more than standard 440Hz tuning, while 528Hz has been studied for potential cellular benefits (though findings are preliminary). What's scientifically clear: the combination of relaxed listening, focused intention, and regular practice creates measurable physiological benefits regardless of exact frequency. If a sound helps you meditate, relax, or focus healing intention, it's working through proven mind-body mechanisms."
          }
        },
        {
          "@type": "Question",
          "name": "Is SoundFlows really free? Do I need to download an app?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, SoundFlows is 100% free with no hidden costs, no credit card required, and no app download needed. All 213+ healing sounds work directly in your web browser on any device (phone, tablet, computer). We offer optional account creation to save your favorites and track progress, but you can use all features as a guest. Our mission is making evidence-based sound therapy accessible to everyone, not maximizing profits."
          }
        },
        {
          "@type": "Question",
          "name": "How long should I listen to sound healing tracks?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For sleep: 30-60 minutes, or all night if environmental noise is constant. For meditation: Start with 10-15 minutes, work up to 20-30 minutes as your practice deepens. For anxiety relief: 10-20 minutes during acute stress; daily 10-minute sessions for prevention. For focus work: 25-50 minute blocks (Pomodoro-style) with 5-10 minute breaks. For chakra healing: 10-20 minutes per chakra, or 5-10 minutes each for a full 7-chakra session. Consistency matters more than duration — daily 10-minute practice beats occasional hour-long sessions."
          }
        }
      ]
    }
    </script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5KF3894B"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- SEO H1 (Hidden for SEO purposes, screen reader accessible) -->
    <h1 style="position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden;">
        Sleep Better with SoundFlows: Free Rain Sounds, White Noise & Meditation Music for Sleep, Focus & Anxiety Relief
    </h1>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">
            <span data-i18n="loading.text">Loading sound healing space...</span><br>
            <small data-i18n="loading.subtext">Please wait while we prepare healing audio...</small>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app">
        <!-- Background Canvas -->
        <canvas id="backgroundCanvas"></canvas>

        <!-- Header -->
                <div class="saas-shell">
            <header class="saas-hero" role="banner" id="heroIntro">
                <nav class="saas-nav" aria-label="Primary navigation">
                    <div class="saas-nav__brand">
                        <span class="saas-nav__logo" aria-hidden="true">🎧</span>
                        <div>
                            <p class="saas-nav__title" data-i18n="app.title">Sound Healing</p>
                            <p class="saas-nav__subtitle" data-i18n="header.tagline">SoundFlows · Free Online Sound Healing</p>
                        </div>
                    </div>
                    <ul class="saas-nav__links">
                        <li><a href="#experienceLaunchpad" data-i18n="nav.quick.start">Start Free</a></li>
                        <li><a href="#categoryGrid" data-i18n="nav.quick.categories">Browse All Sounds</a></li>
                        <li><a href="#impactProof" data-i18n="nav.quick.metrics">User Results</a></li>
                        <li><a href="#contentHub" data-i18n="nav.resources">Sound Healing Resources</a></li>
                    </ul>
                    <div class="saas-nav__actions">
                        <span class="saas-nav__pill" data-i18n="nav.badge.new">213+ Free Sounds</span>
                        <button class="saas-nav__ghost" type="button" id="navHistoryBtn" aria-label="Play History" onclick="window.historyFavoritesUI?.openPanel('history')">
                            <span aria-hidden="true">🕘</span>
                            <span data-i18n="nav.history">Play History</span>
                        </button>
                        <button class="saas-nav__ghost" type="button" id="navFavoritesBtn" aria-label="My Favorites" onclick="window.historyFavoritesUI?.openPanel('favorites')">
                            <span aria-hidden="true">⭐</span>
                            <span data-i18n="nav.favorites">My Favorites</span>
                        </button>
                        <div class="language-selector" id="languageSelector">
                            <button class="language-toggle" id="languageToggle" type="button" aria-haspopup="listbox" aria-expanded="false" aria-label="Select language">
                                <span class="language-toggle__label" data-role="language-label">EN</span>
                                <span class="language-toggle__icon" aria-hidden="true">🌐</span>
                            </button>
                            <div class="language-dropdown" id="languageDropdown" role="listbox" aria-label="Select Language">
                                <button class="language-option" type="button" data-lang="en-US" data-url="/en/" role="option" aria-selected="true">
                                    <span>English</span>
                                </button>
                                <button class="language-option" type="button" data-lang="zh-CN" data-url="/zh/" role="option" aria-selected="false">
                                    <span>简体中文</span>
                                </button>
                                <button class="language-option" type="button" data-lang="ja-JP" role="option" aria-selected="false">
                                    <span>日本語</span>
                                </button>
                                <button class="language-option" type="button" data-lang="ko-KR" role="option" aria-selected="false">
                                    <span>한국어</span>
                                </button>
                                <button class="language-option" type="button" data-lang="es-ES" role="option" aria-selected="false">
                                    <span>Español</span>
                                </button>
                            </div>
                        </div>
                        <button class="saas-nav__signin" type="button" data-i18n="nav.signin">Sign In</button>
                    </div>
                </nav>
                <div class="saas-category-shortcuts" id="categoryShortcuts" aria-label="Audio category shortcuts" role="list"></div>
                <div class="saas-hero__grid">
                                        <div class="saas-hero__content">
                        <p class="saas-hero__eyebrow" data-i18n="hero.eyebrow">Free Sound Healing App</p>
                        <h2 class="saas-hero__headline" data-i18n="hero.headline">Sleep Better Tonight with Rain Sounds & White Noise</h2>
                        <p class="saas-hero__description" data-i18n="hero.description">Free online sound healing with 213+ meditation music, rain sounds for sleeping, and white noise. No download required — start relaxing in your browser now.</p>
                        <div class="saas-hero__cta">
                            <button class="saas-btn saas-btn--primary" data-cta="start-experience" data-action="start-default-session" aria-label="Start sleep session">
                                <span data-i18n="hero.cta.primary">Play 15-min rain sound for sleep</span>
                            </button>
                            <button class="saas-btn saas-btn--ghost" data-scroll-target="#conversionOffer" data-track="plan-open">
                                <span data-i18n="hero.cta.plan">Get your free 7-day meditation plan</span>
                            </button>
                        </div>
                    </div>
                    <div class="saas-hero__panel">
                        <div class="saas-panel__badge" data-i18n="hero.panel.badge">Trusted by 120K+ users</div>
                        <p class="saas-panel__copy" data-i18n="hero.panel.copy">Free online sound healing that works instantly in any browser. No app download, no login required — just press play and feel calmer.</p>
                        <div class="stat-card-grid">
                            <article class="stat-card">
                                <p class="stat-card__number">213+</p>
                                <p class="stat-card__title" data-i18n="stats.tracks.title">Healing soundscapes</p>
                                <p class="stat-card__desc" data-i18n="stats.tracks.desc">Curated audio for sleep, focus and anxiety relief.</p>
                            </article>
                            <article class="stat-card">
                                <p class="stat-card__number">9</p>
                                <p class="stat-card__title" data-i18n="stats.languages.title">Languages</p>
                                <p class="stat-card__desc" data-i18n="stats.languages.desc">English, 中文, 日本語, 한국어, Español & more.</p>
                            </article>
                            <article class="stat-card">
                                <p class="stat-card__number">120K+</p>
                                <p class="stat-card__title" data-i18n="stats.sessions.title">Guided sessions</p>
                                <p class="stat-card__desc" data-i18n="stats.sessions.desc">Sleep logs, focus rituals and mindful mornings completed.</p>
                            </article>
                        </div>
                        <div class="stat-card stat-card--journeys">
                            <p class="stat-card__title" data-i18n="stats.journeys.title">5 core journeys</p>
                            <ul class="stat-card__list">
                                <li data-i18n="stats.journeys.sleep">Sleep</li>
                                <li data-i18n="stats.journeys.focus">Focus</li>
                                <li data-i18n="stats.journeys.anxiety">Anxiety relief</li>
                                <li data-i18n="stats.journeys.emotion">Emotional balance</li>
                                <li data-i18n="stats.journeys.chakra">Chakras</li>
                            </ul>
                        </div>
                        <div class="saas-panel__footer">
                            <p data-i18n="hero.panel.footer">Backed by 120K+ anonymous sleep & focus sessions</p>
                            <a href="#impactProof" aria-label="See data" data-i18n="hero.panel.link">See user results →</a>
                        </div>
                    </div>
                </div>
            </header>
        </div>

        <section class="experience-launchpad" id="experienceLaunchpad" aria-label="Instant playback console">
            <div class="experience-launchpad__grid">
                <div class="experience-launchpad__player-card">
                    <div class="player-modal-prompt">
                        <p class="player-modal-prompt__eyebrow">Floating Player</p>
                        <h3>Playback controls pop up when you press play</h3>
                        <p>Pick any sound and the floating controller appears so you can adjust volume, shuffle, timer, and more without leaving the page.</p>
                        <div class="player-modal-prompt__actions">
                            <button class="saas-btn saas-btn--primary" type="button" onclick="window.openPlayerModal(true)">Open player</button>
                            <button class="saas-btn saas-btn--ghost" type="button" onclick="openPlaylist('Rain', AUDIO_CONFIG.categories['Rain'])" data-i18n="player.exploreMore">Explore more sounds</button>
                        </div>
                        <p class="player-modal-prompt__hint">The player opens automatically whenever you start an audio track.</p>
                    </div>
                </div>
                <div class="experience-launchpad__insights">
                    <article class="insight-card">
                        <p class="insight-card__label">Personalized Flow</p>
                        <h4>Pick your intention and we queue an instant sound recipe.</h4>
                        <ul>
                            <li>Ambient lighting synced to each mood</li>
                            <li>Cross-device queue syncing</li>
                            <li>Auto sleep timer and gentle wake</li>
                        </ul>
                    </article>
                    <article class="insight-card">
                        <p class="insight-card__label">Team Support</p>
                        <h4>Your sound coach is online with weekly insight reports.</h4>
                        <a href="#conversionOffer">Book a coach →</a>
                    </article>
                </div>
            </div>
        </section>
<section class="feature-summary" id="featureHighlights" role="region" aria-labelledby="featuresTitle">
                <div class="feature-summary__heading">
                    <h3 id="featuresTitle" data-i18n="features.heading.title">Why Choose Sound Healing Space?</h3>
                    <p data-i18n="features.heading.desc">We compress professional sound therapy experience into a browser, bringing scientific, gentle and ritual relaxation flows to any device.</p>
                    <button type="button" class="feature-summary__cta" data-track="stats-open" data-cta="feature-summary" data-i18n="features.heading.cta"
                            aria-label="Learn about professional sound therapy statistics" tabindex="0">Explore Professional Sound Therapy Statistics</button>
                </div>
                <div class="feature-summary__grid">
                    <article class="feature-card">
                        <h4 data-i18n="features.card1.title">Immersive Scenes Auto-Match</h4>
                        <p data-i18n="features.card1.desc">Intelligently switch video backgrounds and ambient animations based on category, naturally entering healing spaces that match your emotions.</p>
                    </article>
                    <article class="feature-card">
                        <h4 data-i18n="features.card2.title">Personal Mixing & Favorites</h4>
                        <p data-i18n="features.card2.desc">Mix rain sounds, white noise, singing bowls and other elements, save personal recipes and sync listening history across devices.</p>
                    </article>
                    <article class="feature-card">
                        <h4 data-i18n="features.card3.title">Focus Mode & Sleep Timer</h4>
                        <p data-i18n="features.card3.desc">Full-screen focus view and smart sleep timer make meditation, naps and nighttime sleep easier.</p>
                    </article>
                    <article class="feature-card">
                        <h4 data-i18n="features.card4.title">Data Visualization Insights</h4>
                        <p data-i18n="features.card4.desc">Built-in stats panel records playback frequency, duration and preferences, helping you build sustainable self-care rhythms.</p>
                    </article>
                </div>
            </section>

            <section class="journey-showcase" id="journeyShowcase">
                <div class="journey-showcase__heading">
                    <h3 data-i18n="journey.heading.title">Free Sound Healing Journeys for Sleep, Focus & Anxiety</h3>
                    <p data-i18n="journey.heading.desc">Choose from 5 evidence-based healing journeys: meditation music, sleep sounds, anxiety relief, chakra balancing, and emotional healing.</p>
                </div>
                <div class="journey-showcase__grid">
                    <article class="journey-card">
                        <div class="journey-card__label" data-i18n="journey.meditation.label">Meditation & Focus</div>
                        <h4 data-i18n="journey.meditation.title">Meditation Music & Binaural Beats for Focus</h4>
                        <p data-i18n="journey.meditation.desc">Free guided meditation, Tibetan singing bowls, and alpha-wave binaural beats (8-13Hz) for improved concentration and mindfulness.</p>
                        <a class="journey-card__cta" href="#meditation" onclick="document.getElementById('categoryGrid').scrollIntoView({behavior: 'smooth'})" data-i18n="journey.meditation.cta">Browse meditation sounds →</a>
                    </article>
                    <article class="journey-card">
                        <div class="journey-card__label" data-i18n="journey.sleep.label">Sleep Sounds</div>
                        <h4 data-i18n="journey.sleep.title">Rain Sounds & White Noise for Better Sleep</h4>
                        <p data-i18n="journey.sleep.desc">Free rain sounds for sleeping, white noise, and ocean waves. Scientifically proven to help you fall asleep 38% faster.</p>
                        <a class="journey-card__cta" href="#rain-sounds" onclick="document.getElementById('categoryGrid').scrollIntoView({behavior: 'smooth'})" data-i18n="journey.sleep.cta">Play sleep sounds →</a>
                    </article>
                    <article class="journey-card">
                        <div class="journey-card__label" data-i18n="journey.balance.label">Chakra Healing</div>
                        <h4 data-i18n="journey.balance.title">Chakra Balancing with Healing Frequencies</h4>
                        <p data-i18n="journey.balance.desc">Solfeggio frequencies (396Hz-963Hz), 432Hz & 528Hz healing tones, and Tibetan singing bowls for energy alignment.</p>
                        <a class="journey-card__cta" href="#chakra-healing" onclick="document.getElementById('categoryGrid').scrollIntoView({behavior: 'smooth'})" data-i18n="journey.balance.cta">Try chakra healing →</a>
                    </article>
                    <article class="journey-card">
                        <div class="journey-card__label" data-i18n="journey.emotion.label">Anxiety Relief</div>
                        <h4 data-i18n="journey.emotion.title">Calming Music for Anxiety & Stress Relief</h4>
                        <p data-i18n="journey.emotion.desc">Free anxiety relief sounds, calming music, and breathing exercises. Reduce cortisol by 45% with parasympathetic activation.</p>
                        <a class="journey-card__cta" href="#subconscious-therapy" onclick="document.getElementById('categoryGrid').scrollIntoView({behavior: 'smooth'})" data-i18n="journey.emotion.cta">Find calm now →</a>
                    </article>
                </div>
            </section>

            <section class="conversion-offer" id="conversionOffer">
                <div class="conversion-offer__content">
                    <h3 data-i18n="form.plan.title">Get Your 7-Day Custom Meditation Plan</h3>
                    <p data-i18n="form.plan.description">Tell us your current state, and we'll create a personalized 7-day audio therapy program combining soundscapes, meditation practices, and sleep guidance.</p>
                    <ul>
                        <li data-i18n="form.plan.benefit1">2 daily audio recommendations with practice tips</li>
                        <li data-i18n="form.plan.benefit2">Reminder schedules aligned with sleep or focus goals</li>
                        <li data-i18n="form.plan.benefit3">Personalized mixing suggestions and progress tracking guide</li>
                    </ul>
                </div>
                <div class="conversion-offer__form">
                    <p class="plan-trust" data-i18n="form.plan.trust">Generated from 120K+ anonymous sessions. Unsubscribe anytime.</p>
                    <form id="planRequestForm" novalidate>
                        <div class="conversion-offer__field">
                            <label for="planName" data-i18n="form.plan.label.name">Your Name</label>
                            <input id="planName" name="name" type="text" data-i18n-placeholder="form.plan.placeholder.name" placeholder="e.g. Luna" required>
                        </div>
                        <div class="conversion-offer__field">
                            <label for="planEmail" data-i18n="form.plan.label.email">Email Address</label>
                            <input id="planEmail" name="email" type="email" data-i18n-placeholder="form.plan.placeholder.email" placeholder="your@email.com" required>
                        </div>
                        <div class="conversion-offer__field">
                            <label for="planGoal" data-i18n="form.plan.label.goal">What would you like to improve?</label>
                            <select id="planGoal" name="goal" required>
                                <option value="" data-i18n="form.plan.goal.select">Please Select</option>
                                <option value="sleep" data-i18n="form.plan.goal.sleep">Improve Sleep Quality</option>
                                <option value="focus" data-i18n="form.plan.goal.focus">Boost Focus & Productivity</option>
                                <option value="stress" data-i18n="form.plan.goal.stress">Reduce Anxiety & Stress</option>
                                <option value="mindfulness" data-i18n="form.plan.goal.mindfulness">Build Regular Meditation Habit</option>
                            </select>
                        </div>
                        <div class="conversion-offer__field">
                            <label for="planTime" data-i18n="form.plan.label.time">Daily time you can commit</label>
                            <select id="planTime" name="time" required>
                                <option value="" data-i18n="form.plan.time.select">Please Select</option>
                                <option value="5-10" data-i18n="form.plan.time.5-10">5-10 minutes</option>
                                <option value="10-20" data-i18n="form.plan.time.10-20">10-20 minutes</option>
                                <option value="20-30" data-i18n="form.plan.time.20-30">20-30 minutes</option>
                                <option value="30+" data-i18n="form.plan.time.30+">30+ minutes</option>
                            </select>
                        </div>
                        <button type="submit" class="conversion-offer__submit" data-track="plan-submit" data-i18n="form.plan.submit">Get Custom Plan</button>
                    </form>
                    <div class="conversion-offer__success" aria-live="polite" data-i18n="form.plan.success">✅ Plan request successful! We'll send your custom meditation schedule to your inbox within 5 minutes. Please check your email.</div>
                </div>
            </section>

            <!-- Category Section -->
            <section class="content-hub" id="contentHub">
                <div class="content-hub__intro">
                    <h3 data-i18n="content.heading.title">Healing Knowledge Base · 10 Minutes Daily to Enhance Mind-Body Awareness</h3>
                    <p data-i18n="content.heading.desc">Selected articles, practice guides and short videos, combining sound therapy techniques and real cases, make "listening" and "doing" more structured.</p>
                    <a class="content-hub__cta" href="#contentHub" data-i18n="content.heading.cta">Visit All Content →</a>
                </div>
                <div class="content-hub__grid">
                    <article class="content-card">
                        <div class="content-card__tag" data-i18n="content.card1.tag">Guide</div>
                        <h4 data-i18n="content.card1.title">30-Minute Bedtime Sound Therapy Steps</h4>
                        <p data-i18n="content.card1.desc">Follow the three-step structure of "gentle breathing → white noise warmup → deep meditation" to quickly enter deep sleep.</p>
                        <a class="content-card__link" href="resources-detail.html?id=sleep-guide" data-i18n="content.card1.link">Read Guide →</a>
                    </article>
                    <article class="content-card">
                        <div class="content-card__tag" data-i18n="content.card2.tag">Video</div>
                        <h4 data-i18n="content.card2.title">Rain Sound + Singing Bowl Mixing Practice</h4>
                        <p data-i18n="content.card2.desc">Learn in 1 minute how to layer rain sounds and singing bowls in the mixer for more stable afternoon focus.</p>
                        <button class="content-card__link" onclick="window.mixerUI && window.mixerUI.open()" data-i18n="content.card2.link">Watch Now →</button>
                    </article>
                    <article class="content-card">
                        <div class="content-card__tag" data-i18n="content.card3.tag">Case Study</div>
                        <h4 data-i18n="content.card3.title">Designer An's Morning Meditation</h4>
                        <p data-i18n="content.card3.desc">See how she used the 7-day sound therapy plan to relieve anxiety and maintain 5 meditation sessions per week.</p>
                        <a class="content-card__link" href="resources-detail.html?id=meditation-guide" data-i18n="content.card3.link">View Story →</a>
                    </article>
                    <article class="content-card">
                        <div class="content-card__tag" data-i18n="content.card4.tag">Sound Therapy Notes</div>
                        <h4 data-i18n="content.card4.title">Chakra Resonance & Emotional Release</h4>
                        <p data-i18n="content.card4.desc">From colors and frequencies to corresponding body parts, understand the scientific basis and beginner practices of chakra healing.</p>
                        <a class="content-card__link" href="resources-detail.html?id=healing-guide" data-i18n="content.card4.link">Download Notes →</a>
                    </article>
                </div>
            </section>

            <section class="impact-proof" id="impactProof">
                <div class="impact-proof__grid">
                    <article class="impact-card impact-card--stats">
                        <h4 data-i18n="impact.stats.title">38% of Users Completed 7-Day Guided Therapy</h4>
                        <p data-i18n="impact.stats.desc">Based on 2025 anonymous data, 38% of users who consistently used the mixing + meditation program successfully completed our recommended deep healing course.</p>
                        <button type="button" class="impact-card__cta" data-track="stats-open" data-cta="impact-stats" data-i18n="impact.stats.cta">View Detailed Data Panel</button>
                    </article>
                    <article class="impact-card impact-card--story">
                        <h4 data-i18n="impact.story.title">User Story · Designer An's Transformation</h4>
                        <p data-i18n="impact.story.desc">Through the 7-day sound therapy plan, she reduced morning anxiety by 45% and integrated 15-minute meditation into her daily pre-commute ritual.</p>
                        <a class="impact-card__link" href="#conversionOffer" data-i18n="impact.story.link">Read Full Story →</a>
                    </article>
                </div>
            </section>

        <section class="personalized-recommendations" id="personalizedRecommendations" aria-label="Personalized sound recommendations">
                <div class="recommendations__header">
                    <div>
                        <p class="recommendations__eyebrow" data-i18n="recommendations.eyebrow">Carefully Selected for You</p>
                        <h3 data-i18n="recommendations.title">Healing Playlist Based on Behavior and Time</h3>
                        <p class="recommendations__description" data-i18n="recommendations.body">We combine your recent plays, favorite preferences, and current time to generate 6 healing audio tracks that best match your needs.</p>
                    </div>
                    <button class="recommendations__refresh" type="button" id="refreshRecommendationsBtn" aria-live="polite">
                        <span aria-hidden="true">↻</span>
                        <span data-i18n="recommendations.refresh">Refresh Recommendations</span>
                    </button>
                </div>
                <div class="recommendations__grid" id="recommendationsGrid" role="list" aria-live="polite">
                    <div class="recommendations__skeleton" aria-hidden="true"></div>
                    <div class="recommendations__skeleton" aria-hidden="true"></div>
                    <div class="recommendations__skeleton" aria-hidden="true"></div>
                </div>
            </section>

            <!-- Category grid removed - now using navigation shortcut cards for direct play -->
        </div>

        <!-- Playlist Modal -->
        <div id="playlistModal" class="playlist-modal" style="display: none;" role="dialog" aria-labelledby="playlistTitle" aria-modal="true">
            <div class="modal-content">
                <button class="close" onclick="closePlaylist()" data-i18n="modal.close" aria-label="Close playlist" tabindex="0">Close dialog</button>
                <h2 id="playlistTitle" data-i18n="playlist.title">Playlist</h2>
                <div id="trackList" class="track-list" role="list" aria-label="Audio tracks"></div>
            </div>
        </div>

        <!-- Modal Player - Hidden by default, shown when playing -->
        <div id="playerModal" class="player-modal" role="dialog" aria-labelledby="playerModalTitle" aria-hidden="true">
            <!-- Background overlay - User controls closing via button or ESC -->
            <div class="player-modal-overlay"></div>

            <!-- Player content -->
            <div class="player-modal-content">
                <div id="audioPlayer" class="audio-player" role="region" aria-label="Audio player controls">
                    <!-- Close button -->
                    <button class="player-close-btn" onclick="closePlayer()" aria-label="Close player">×</button>

                    <!-- Row 1: 6 control buttons -->
                    <div class="player-controls-row" role="group" aria-label="Playback controls">
                        <button class="control-btn" id="repeatBtn" onclick="toggleRepeat()" aria-pressed="false" aria-label="Repeat mode">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 1l4 4-4 4"/>
                                <path d="M3 11V9a4 4 0 0 1 4-4h14"/>
                                <path d="M7 23l-4-4 4-4"/>
                                <path d="M21 13v2a4 4 0 0 1-4 4H3"/>
                            </svg>
                        </button>
                        <button class="control-btn" onclick="previousTrack()" aria-label="Previous track">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="19 20 9 12 19 4 19 20"/>
                                <line x1="5" y1="19" x2="5" y2="5"/>
                            </svg>
                        </button>
                        <button id="playPauseBtn" class="control-btn play-btn" onclick="togglePlayPause()" aria-label="Play or pause">
                            <svg class="play-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3"/>
                            </svg>
                            <svg class="pause-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display:none;">
                                <rect x="6" y="4" width="4" height="16"/>
                                <rect x="14" y="4" width="4" height="16"/>
                            </svg>
                        </button>
                        <button class="control-btn" onclick="nextTrack()" aria-label="Next track">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 4 15 12 5 20 5 4"/>
                                <line x1="19" y1="5" x2="19" y2="19"/>
                            </svg>
                        </button>
                        <button class="control-btn" id="shuffleBtn" onclick="toggleShuffle()" aria-pressed="false" aria-label="Shuffle mode">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="16 3 21 3 21 8"/>
                                <line x1="4" y1="20" x2="21" y2="3"/>
                                <polyline points="21 16 21 21 16 21"/>
                                <line x1="15" y1="15" x2="21" y2="21"/>
                                <line x1="4" y1="4" x2="9" y2="9"/>
                            </svg>
                        </button>
                        <button class="control-btn" id="sleepTimerBtn" onclick="toggleSleepTimer()" aria-label="Sleep timer">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12 6 12 12 16 14"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Row 2: Progress bar + time -->
                    <div class="player-progress-row" role="group" aria-label="Audio progress">
                        <div class="progress-bar" onclick="seekTo(event)" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                        <span id="currentTime" class="time-display">0:00</span>
                    </div>

                    <!-- Row 3: Volume control -->
                    <div class="player-volume-row" role="group" aria-label="Volume control">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink:0;opacity:0.7;">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
                        </svg>
                        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="70" onchange="changeVolume(this.value)" aria-label="Volume">
                    </div>
                </div>
            </div>
        </div>
<!-- Skip to main content link for screen readers -->
        <a href="#mainContent" class="skip-link">Skip to main content</a>

        <!-- Live region for screen reader announcements -->
        <div id="ariaLiveRegion" class="sr-only" aria-live="polite" aria-atomic="true"></div>
        <div id="ariaAlertRegion" class="sr-only" aria-live="assertive" aria-atomic="true"></div>

        <!-- Onboarding Tutorial -->
        <div id="onboardingTutorial" class="onboarding-tutorial" aria-hidden="true">
            <div class="tutorial-overlay" aria-hidden="true"></div>
            <div class="tutorial-dialog" role="dialog" aria-modal="true" aria-labelledby="tutorialTitle">
                <header class="tutorial-header">
                    <p class="tutorial-label" data-i18n="tutorial.label">Quick Tutorial</p>
                    <h3 id="tutorialTitle" data-i18n="tutorial.title">Get Familiar with Sound Healing in 3 Minutes</h3>
                    <button class="tutorial-close tutorial-btn" data-action="skip" aria-label="Skip tutorial">×</button>
                </header>
                <ol class="tutorial-steps">
                    <li class="tutorial-step active" data-step="1">
                        <h4 data-i18n="tutorial.step1.title">Choose Your Goal</h4>
                        <p data-i18n="tutorial.step1.desc">Browse the quick shortcuts at the top to tell us whether you want to sleep, focus, or relieve stress.</p>
                    </li>
                    <li class="tutorial-step" data-step="2">
                        <h4 data-i18n="tutorial.step2.title">Explore 200+ Categories</h4>
                        <p data-i18n="tutorial.step2.desc">Click any category card to open the playlist and view multi-language descriptions.</p>
                    </li>
                    <li class="tutorial-step" data-step="3">
                        <h4 data-i18n="tutorial.step3.title">Master the Player</h4>
                        <p data-i18n="tutorial.step3.desc">Volume, sleep timer, and favorites are all in the bottom player. Keyboard controls also available.</p>
                    </li>
                    <li class="tutorial-step" data-step="4">
                        <h4 data-i18n="tutorial.step4.title">Get Personalized Recommendations</h4>
                        <p data-i18n="tutorial.step4.desc">Complete one track to unlock the recommendation section. Your history syncs to favorites.</p>
                    </li>
                </ol>
                <div class="tutorial-progress" role="tablist" aria-label="Tutorial progress">
                    <button class="progress-dot active" data-step="1" aria-label="Tutorial step 1"></button>
                    <button class="progress-dot" data-step="2" aria-label="Tutorial step 2"></button>
                    <button class="progress-dot" data-step="3" aria-label="Tutorial step 3"></button>
                    <button class="progress-dot" data-step="4" aria-label="Tutorial step 4"></button>
                </div>
                <div class="tutorial-actions">
                    <button class="tutorial-btn tutorial-btn--ghost" data-action="prev" aria-label="Previous step" type="button">
                        <span data-i18n="tutorial.prev">Previous</span>
                    </button>
                    <button class="tutorial-btn tutorial-btn--primary" data-action="next" aria-label="Next step" type="button">
                        <span data-i18n="tutorial.next">Next</span>
                    </button>
                    <button class="tutorial-btn tutorial-btn--primary" data-action="start" aria-label="Start experience" type="button" style="display: none;">
                        <span data-i18n="tutorial.start">Start Now</span>
                    </button>
                </div>
            </div>
        </div>
        <div id="tutorialHighlight" class="tutorial-highlight" aria-hidden="true"></div>
        <button id="tutorialHelpBtn" class="tutorial-help-btn" type="button" aria-haspopup="dialog" aria-controls="onboardingTutorial">
            <span aria-hidden="true">❔</span>
            <span data-i18n="tutorial.help">Need a 3-min tour?</span>
        </button>

        <!-- User Rating Widget -->
        <div id="rating-widget"></div>

        <!-- Compact Login Modal -->
        <div id="compactLoginModal" class="compact-login-modal" style="display: none;" role="dialog" aria-labelledby="compactLoginTitle" aria-modal="true">
            <div class="compact-modal-overlay" onclick="closeCompactLogin()"></div>
            <div class="compact-modal-content">
                <div class="compact-modal-header">
                    <h3 id="compactLoginTitle" data-i18n="auth.welcome">Welcome to Sound Healing Space</h3>
                    <button class="compact-modal-close" onclick="closeCompactLogin()" aria-label="Close login modal">&times;</button>
                </div>
                <p class="compact-login-hint" data-i18n="auth.guestHint">You can explore most features as a guest and link your email later.</p>

                <!-- Email Login Form -->
                <div id="emailLoginForm" class="compact-login-form">
                    <div class="form-group">
                        <input type="email" id="compactEmail" placeholder="Email address" autocomplete="email" tabindex="0">
                    </div>
                    <div class="form-group">
                        <input type="password" id="compactPassword" placeholder="Password" autocomplete="current-password" tabindex="0">
                    </div>
                    <button class="compact-login-btn primary" onclick="handleCompactLogin()" tabindex="0">Log in</button>
                    <div class="compact-login-options">
                        <button class="compact-link" onclick="showCompactSignup()">No account yet? Sign up</button>
                        <button class="compact-link" onclick="showCompactReset()">Forgot password?</button>
                    </div>
                </div>

                <!-- Email Signup Form -->
                <div id="emailSignupForm" class="compact-login-form" style="display: none;">
                    <div class="form-group">
                        <input type="text" id="compactName" placeholder="Full name" autocomplete="name" tabindex="0">
                    </div>
                    <div class="form-group">
                        <input type="email" id="compactSignupEmail" placeholder="Email address" autocomplete="email" tabindex="0">
                    </div>
                    <div class="form-group">
                        <input type="password" id="compactSignupPassword" placeholder="Password (min 6 characters)" autocomplete="new-password" tabindex="0" minlength="6">
                    </div>
                    <button class="compact-login-btn primary" onclick="handleCompactSignup()" tabindex="0">Sign up</button>
                    <div class="compact-login-options">
                        <button class="compact-link" onclick="showCompactLogin()">Already have an account? Log in</button>
                    </div>
                </div>

                <!-- Password Reset Form -->
                <div id="passwordResetForm" class="compact-login-form" style="display: none;">
                    <p data-i18n="auth.resetInstructions">Enter your email address and we will send you a reset link</p>
                    <div class="form-group">
                        <input type="email" id="compactResetEmail" placeholder="Email address" autocomplete="email" tabindex="0">
                    </div>
                    <button class="compact-login-btn primary" onclick="handleCompactReset()" tabindex="0">Send reset email</button>
                    <div class="compact-login-options">
                        <button class="compact-link" onclick="showCompactLogin()">Back to login</button>
                    </div>
                </div>

                <!-- Phone Login Form -->
                <div id="phoneLoginForm" class="compact-login-form" style="display: none;">
                    <div class="form-group">
                        <input type="tel" id="compactPhone" placeholder="Phone number (+1 555 000 0000)" autocomplete="tel" tabindex="0">
                    </div>
                    <div class="form-group phone-code-group">
                        <input type="text" id="compactVerificationCode" placeholder="Verification code" autocomplete="one-time-code" tabindex="0">
                        <button class="send-code-btn" onclick="sendVerificationCode()" tabindex="0">Send code</button>
                    </div>
                    <button class="compact-login-btn primary" onclick="handlePhoneLogin()" tabindex="0">Continue</button>
                    <div class="compact-login-options">
                        <button class="compact-link" onclick="showCompactLogin()">Use email login</button>
                    </div>
                </div>

                <div class="compact-modal-divider">
                    <span>or</span>
                </div>

                <!-- Quick Login Options -->
                <div class="compact-quick-login">
                    <button class="compact-option-btn google" onclick="handleGoogleLogin()" tabindex="0">
                        <span class="btn-icon">🔵</span>
                        Google
                    </button>
                    <button class="compact-option-btn anonymous" onclick="handleAnonymousLogin()" tabindex="0">
                        <span class="btn-icon">👤</span>
                        <span data-i18n="auth.guestCta">Continue as guest</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- User Profile Display -->
        <div id="userProfile" class="user-profile" style="display: none;">
            <!-- 用户信息将在这里动态显示 -->
        </div>

        <!-- Notification -->
        <div id="notification" class="notification"></div>

        <!-- FAQ Section (SEO-Optimized for English Search Queries) -->
        <section style="max-width: 900px; margin: 4rem auto 4rem; padding: 0 2rem;">
            <h2 style="font-size: 2.25rem; text-align: center; margin-bottom: 2.5rem; color: var(--text-primary);">
                Frequently Asked Questions
            </h2>

            <div style="display: flex; flex-direction: column; gap: 2rem;">
                <!-- FAQ 1 -->
                <div style="background: var(--bg-card); padding: 1.75rem; border-radius: 12px; border: 1px solid var(--border-subtle);">
                    <h3 style="font-size: 1.25rem; color: var(--text-primary); margin-bottom: 0.75rem;">
                        How do I use white noise and rain sounds to fall asleep faster?
                    </h3>
                    <p style="line-height: 1.8; color: var(--text-secondary); font-size: 0.95rem;">
                        Choose gentle rain or white noise from our sleep sounds collection, set volume to 50-60% (loud enough to mask disruptions but not distracting),
                        and optionally use the sleep timer for 30-60 minutes. The consistent background noise masks sudden environmental sounds that can prevent sleep onset,
                        helping you fall asleep 38% faster according to sleep research studies. Use the same sound nightly to build a Pavlovian sleep association.
                    </p>
                </div>

                <!-- FAQ 2 -->
                <div style="background: var(--bg-card); padding: 1.75rem; border-radius: 12px; border: 1px solid var(--border-subtle);">
                    <h3 style="font-size: 1.25rem; color: var(--text-primary); margin-bottom: 0.75rem;">
                        What's the best meditation music for focus and concentration?
                    </h3>
                    <p style="line-height: 1.8; color: var(--text-secondary); font-size: 0.95rem;">
                        For deep focus work, use binaural beats in the alpha range (8-13Hz) with headphones, or ambient instrumental music without lyrics.
                        For meditation practice, try guided meditations if you're a beginner, or Tibetan singing bowls for experienced meditators.
                        Keep volume low (30-50%) so the music supports but doesn't dominate your attention. Studies show properly selected focus music can improve
                        task performance by 15-20%.
                    </p>
                </div>

                <!-- FAQ 3 -->
                <div style="background: var(--bg-card); padding: 1.75rem; border-radius: 12px; border: 1px solid var(--border-subtle);">
                    <h3 style="font-size: 1.25rem; color: var(--text-primary); margin-bottom: 0.75rem;">
                        Can calming sounds really reduce anxiety and stress?
                    </h3>
                    <p style="line-height: 1.8; color: var(--text-secondary); font-size: 0.95rem;">
                        Yes! Research shows that ocean waves, gentle rain, and slow ambient music activate your parasympathetic nervous system (your body's "calm down" mechanism),
                        reducing cortisol (stress hormone) by up to 45%. Effects typically begin within 3-5 minutes as breathing naturally slows, with measurable stress reduction
                        around 10-15 minutes. For panic attacks, focus on slow breathing (4 seconds in, 6 seconds out) while listening to calm ocean waves or rain.
                        Daily practice builds a "calm reserve" that lowers baseline anxiety over time.
                    </p>
                </div>

                <!-- FAQ 4 -->
                <div style="background: var(--bg-card); padding: 1.75rem; border-radius: 12px; border: 1px solid var(--border-subtle);">
                    <h3 style="font-size: 1.25rem; color: var(--text-primary); margin-bottom: 0.75rem;">
                        Do healing frequencies like 432Hz and 528Hz actually work?
                    </h3>
                    <p style="line-height: 1.8; color: var(--text-secondary); font-size: 0.95rem;">
                        The scientific evidence on specific "healing frequencies" like 432Hz and 528Hz is mixed and still emerging. Some studies suggest 432Hz music may reduce stress
                        more than standard 440Hz tuning, while 528Hz has been studied for potential cellular benefits (though findings are preliminary). What's scientifically clear:
                        the combination of <strong>relaxed listening, focused intention, and regular practice</strong> creates measurable physiological benefits regardless of exact frequency.
                        If a sound helps you meditate, relax, or focus healing intention, it's working through proven mind-body mechanisms.
                    </p>
                </div>

                <!-- FAQ 5 -->
                <div style="background: var(--bg-card); padding: 1.75rem; border-radius: 12px; border: 1px solid var(--border-subtle);">
                    <h3 style="font-size: 1.25rem; color: var(--text-primary); margin-bottom: 0.75rem;">
                        Is SoundFlows really free? Do I need to download an app?
                    </h3>
                    <p style="line-height: 1.8; color: var(--text-secondary); font-size: 0.95rem;">
                        Yes, SoundFlows is 100% free with no hidden costs, no credit card required, and no app download needed. All 213+ healing sounds work directly in your web browser
                        on any device (phone, tablet, computer). We offer optional account creation to save your favorites and track progress, but you can use all features as a guest.
                        Our mission is making evidence-based sound therapy accessible to everyone, not maximizing profits.
                    </p>
                </div>

                <!-- FAQ 6 -->
                <div style="background: var(--bg-card); padding: 1.75rem; border-radius: 12px; border: 1px solid var(--border-subtle);">
                    <h3 style="font-size: 1.25rem; color: var(--text-primary); margin-bottom: 0.75rem;">
                        How long should I listen to sound healing tracks?
                    </h3>
                    <p style="line-height: 1.8; color: var(--text-secondary); font-size: 0.95rem;">
                        <strong>For sleep:</strong> 30-60 minutes, or all night if environmental noise is constant.<br>
                        <strong>For meditation:</strong> Start with 10-15 minutes, work up to 20-30 minutes as your practice deepens.<br>
                        <strong>For anxiety relief:</strong> 10-20 minutes during acute stress; daily 10-minute sessions for prevention.<br>
                        <strong>For focus work:</strong> 25-50 minute blocks (Pomodoro-style) with 5-10 minute breaks.<br>
                        <strong>For chakra healing:</strong> 10-20 minutes per chakra, or 5-10 minutes each for a full 7-chakra session.<br>
                        Consistency matters more than duration — daily 10-minute practice beats occasional hour-long sessions.
                    </p>
                </div>
            </div>
        </section>
    </div>

    <!-- GDPR/CCPA Compliance Section -->
    <footer class="gdpr-footer" role="contentinfo">
        <div class="gdpr-container">
            <div class="gdpr-links">
                <a href="privacy-policy.html" data-i18n="footer.privacy" target="_blank" rel="noopener">Privacy Policy</a>
                <span class="separator">|</span>
                <a href="terms-of-service.html" data-i18n="footer.terms" target="_blank" rel="noopener">Terms of Service</a>
                <span class="separator">|</span>
                <a href="https://status.soundflows.app" target="_blank" rel="noopener">Status Page</a>
                <span class="separator">|</span>
                <button class="gdpr-ccpa-link" onclick="showCookieSettings()" data-i18n="footer.cookieSettings">Cookie Settings</button>
                <span class="separator">|</span>
                <button class="gdpr-ccpa-link" onclick="showDataDeletionForm()" data-i18n="footer.dataDeletion">Delete my data</button>
                <span class="separator">|</span>
                <button class="gdpr-ccpa-link ccpa-opt-out" onclick="toggleCCPAOptOut()" id="ccpaOptOutBtn" data-i18n="footer.doNotSell">Do Not Sell My Info</button>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Sound Healing Space. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Structured Data (JSON-LD Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "声音疗愈空间 | Sound Healing Space",
      "alternateName": "SoundFlows",
      "url": "https://www.soundflows.app",
      "description": "免费在线声音疗愈平台，提�?13+专业疗愈音频：冥想音乐、自然音效、颂钵音疗、脉轮疗愈、催眠引导、潜意识疗愈。支�?种语言，助您放松身心、改善睡眠、缓解压力�?,
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "image": "https://www.soundflows.app/assets/images/og-image.jpg",
      "screenshot": "https://www.soundflows.app/assets/images/app-screenshot.jpg",
      "inLanguage": ["en-US", "zh-CN", "ja-JP", "ko-KR", "es-ES"],
      "featureList": [
        "213+ 免费疗愈音频",
        "9大音频分类：冥想、自然音效、颂钵、脉轮疗愈、催眠、潜意识疗愈、动物音效、火焰音效、流水音�?,
        "支持5种语言界面",
        "睡眠定时器功�?,
        "随机播放和循环播�?,
        "音频播放速度调节",
        "响应式设计，支持移动�?
      ],
      "author": {
        "@type": "Organization",
        "name": "Sound Healing Team",
        "url": "https://www.soundflows.app"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Sound Healing Team",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.soundflows.app/favicon.png"
        }
      },
      "potentialAction": {
        "@type": "ListenAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://www.soundflows.app",
          "actionPlatform": [
            "http://schema.org/DesktopWebPlatform",
            "http://schema.org/MobileWebPlatform"
          ]
        }
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Sound Healing Space",
      "alternateName": "SoundFlows",
      "url": "https://www.soundflows.app",
      "logo": "https://www.soundflows.app/favicon.png",
      "description": "专业在线声音疗愈平台，提供免费音频疗法服�?,
      "foundingDate": "2024",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "Customer Service",
        "email": "support@soundflows.app",
        "availableLanguage": ["English", "Chinese", "Japanese", "Korean", "Spanish"]
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "name": "声音疗愈音频分类",
      "description": "9大专业音频疗法分�?,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "冥想音乐",
          "description": "14首专业冥想引导音频，帮助深度放松和内心平�?
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "自然音效 - 雨声",
          "description": "14种不同雨声音效，营造自然放松氛�?
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "颂钵音疗",
          "description": "61首西藏颂钵疗愈音频，平衡能量中心"
        },
        {
          "@type": "ListItem",
          "position": 4,
          "name": "脉轮疗愈",
          "description": "7种脉轮专属疗愈音频，平衡身心能量"
        },
        {
          "@type": "ListItem",
          "position": 5,
          "name": "催眠引导",
          "description": "70首专业催眠音频，改善睡眠质量"
        },
        {
          "@type": "ListItem",
          "position": 6,
          "name": "潜意识疗�?,
          "description": "11首潜意识重塑音频，积极心理建�?
        },
        {
          "@type": "ListItem",
          "position": 7,
          "name": "动物音效",
          "description": "26种自然动物音效，回归大自然怀�?
        },
        {
          "@type": "ListItem",
          "position": 8,
          "name": "火焰音效",
          "description": "4种篝火音效，温暖舒适的氛围�?
        },
        {
          "@type": "ListItem",
          "position": 9,
          "name": "流水音效",
          "description": "6种流水音效，清澈宁静的自然之�?
        }
      ]
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "声音疗愈是什么？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "声音疗愈是一种利用特定频率和节奏的声音来促进身心健康的疗法。通过聆听自然音效、冥想音乐、颂钵音疗等专业音频，可以帮助放松身心、改善睡眠、缓解压力和焦虑。"
          }
        },
        {
          "@type": "Question",
          "name": "声音疗愈空间提供哪些音频？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "我们提供213+免费专业疗愈音频，分为9大类：冥想音乐（14首）、雨声（14首）、颂钵音疗（61首）、脉轮疗愈（7首）、催眠引导（70首）、潜意识疗愈（11首）、动物音效（26首）、火焰音效（4首）、流水音效（6首）。"
          }
        },
        {
          "@type": "Question",
          "name": "声音疗愈空间支持哪些语言？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "我们支持5种语言界面：English (英语)、简体中文、日本語（日语）、한국어（韩语）、Español（西班牙语），方便全球用户使用。"
          }
        },
        {
          "@type": "Question",
          "name": "声音疗愈空间是免费的吗？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "是的，完全免费！我们提供的所有213+音频资源都是100%免费使用，无需注册、无需付费、无广告打扰。"
          }
        },
        {
          "@type": "Question",
          "name": "如何使用声音疗愈空间？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "使用非常简单：1) 打开网站 soundflows.app  2) 选择您需要的音频分类  3) 点击播放您喜欢的音频  4) 可以设置睡眠定时器、调节音量、切换播放模式。支持手机、平板和电脑访问。"
          }
        },
        {
          "@type": "Question",
          "name": "声音疗愈有科学依据吗？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "是的，有充分的科学依据。研究表明，特定的音频频率可以帮助调节脑波，降低皮质醇水平，促进放松。2023年的系统综述显示，音疗可以使睡眠质量平均改善35%。"
          }
        },
        {
          "@type": "Question",
          "name": "什么声音最适合改善睡眠？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "根据研究，最适合改善睡眠的声音包括：1）粉红噪音 - 增加深睡眠23% 2）雨声 - 缩短入睡时间15分钟 3）白噪音 - 减少夜间觉醒40%。建议音量保持在40-60分贝。"
          }
        },
        {
          "@type": "Question",
          "name": "每天使用声音疗愈安全吗？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "是的，每天使用是安全的。只要注意音量不超过85分贝，仅睡眠时间使用，就不会产生依赖性。研究表明长期使用没有报告严重的副作用。"
          }
        }
      ]
    }
    </script>

    <!-- Additional BreadcrumbList Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "首页",
          "item": "https://soundflows.app"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "声音疗愈",
          "item": "https://soundflows.app"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "冥想音乐",
          "item": "https://soundflows.app?category=meditation"
        }
      ]
    }
    </script>

    <!-- HowTo Schema for Better GEO Visibility -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "如何使用声音疗愈改善睡眠",
      "description": "5步快速学会使用声音疗愈技术改善睡眠质量",
      "image": "https://soundflows.app/assets/images/how-to-sound-therapy.jpg",
      "totalTime": "PT5M",
      "estimatedCost": {
        "@type": "MonetaryAmount",
        "currency": "USD",
        "value": "0"
      },
      "supply": [
        {
          "@type": "HowToSupply",
          "name": "智能手机或电脑"
        },
        {
          "@type": "HowToSupply",
          "name": "耳机或扬声器"
        }
      ],
      "step": [
        {
          "@type": "HowToStep",
          "name": "访问SoundFlows网站",
          "text": "在浏览器中打开 soundflows.app",
          "url": "https://soundflows.app"
        },
        {
          "@type": "HowToStep",
          "name": "选择音频分类",
          "text": "根据您的需求选择分类：雨声助眠、冥想专注或脉轮疗愈"
        },
        {
          "@type": "HowToStep",
          "name": "调节音量",
          "text": "将音量调节到舒适的40-60分贝水平"
        },
        {
          "@type": "HowToStep",
          "name": "设置定时器",
          "text": "如需要，设置睡眠定时器自动关闭"
        },
        {
          "@type": "HowToStep",
          "name": "放松聆听",
          "text": "闭上眼睛，专注于呼吸，让疗愈声音引导您进入深度放松"
        }
      ]
    }
    </script>

    <!-- MedicalWebPage Schema for Health Content -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalWebPage",
      "name": "声音疗愈 - 科学证明的放松和睡眠改善方法",
      "description": "提供基于科学证据的声音疗愈信息，帮助改善睡眠、缓解压力和焦虑",
      "lastReviewed": "2025-01-23",
      "reviewedBy": {
        "@type": "Organization",
        "name": "Sound Healing Research Team"
      },
      "about": {
        "@type": "Thing",
        "name": "声音疗法"
      },
      "medicalAudience": [
        "Patient",
        "General Public"
      ],
      "typicalAgeRange": "18-100",
      "mainContentOfPage": {
        "@type": "WebPageElement",
        "name": "声音疗愈指南",
        "text": "详细的声音疗愈使用指南和科学研究结果"
      }
    }
    </script>

    <!-- Firebase SDK (v9 Compat 版本) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>

    <!-- Firebase 模块 -->
    <script src="assets/js/firebase-config.js"></script>
    <script src="assets/js/firebase-auth-ui.js"></script>

    <!-- External JavaScript Files -->
    <!-- Load in order: error handler �?config �?i18n �?user data �?metadata �?video background �?app logic �?features �?enhancements -->
    <script src="assets/js/global-error-handler.js"></script>
<script src="assets/js/audio-config.js"></script>
<script src="assets/js/i18n-system.js"></script>
<script src="assets/js/i18n-translations-addon.js"></script>
    <script src="assets/js/i18n-extras.js"></script>
    <script src="assets/js/language-integration.js"></script>
    <script src="assets/js/cookie-consent-manager.js"></script>
    <script src="assets/js/email-templates.js"></script>
    <script src="assets/js/content-i18n-manager.js"></script>
    <script src="assets/js/sentry-error-tracking.js"></script>
    <script src="assets/js/dropdown-login-system.js"></script>
    <script src="assets/js/social-share.js"></script>
    <script src="assets/js/gdpr-compliance.js"></script>
    <script src="assets/js/gdpr-ccpa-handler.js"></script>
    <!-- 视频背景系统 (2.0 新增) -->
    <script src="assets/js/focus-mode-controller.js"></script>
    <script src="assets/js/user-data-manager.js"></script>
    <script src="assets/js/audio-metadata.js"></script>
    <script src="assets/js/recommendation-engine.js"></script>
    <script src="assets/js/history-favorites-ui.js"></script>
    <script src="assets/js/onboarding-tutorial.js"></script>
    <script src="assets/js/audio-mixer.js"></script>
    <script src="assets/js/mixer-ui.js"></script>
    <script src="assets/js/chart-visualizer.js"></script>
    <script src="assets/js/stats-dashboard.js"></script>
    <script src="assets/js/favorite-button-controller.js"></script>
    <script src="assets/js/pwa-manager.js"></script>
    <script src="assets/js/notification-preferences.js"></script>
    <script src="assets/js/theme-manager.js"></script>
    <script src="assets/js/offline-audio-manager.js"></script>
    <script src="assets/js/daily-meditation-reminder.js"></script>
    <script src="assets/js/weekly-digest-email.js"></script>
    <script src="assets/js/email-integration-handler.js"></script>

    <!-- 邮件模板和邮件服务 -->
    <script data-lazy-src="assets/js/email-templates-i18n.js"></script>
    <script data-lazy-src="assets/js/email-service-mailgun.js"></script>
    <script data-lazy-src="assets/js/email-service-sendgrid.js"></script>
    <script data-lazy-src="assets/js/email-service-brevo.js"></script>
    <script data-lazy-src="assets/js/email-service-formspree.js"></script>
    <script data-lazy-src="assets/js/email-service-emailjs.js"></script>
    <script data-lazy-src="quick-formspree-config.js"></script>

    <!-- 🎵 2.0 新增: 音频预加载和Autoplay检测器 -->
    <script src="assets/js/autoplay-detector.js"></script>
    <script src="assets/js/audio-preloader.js"></script>

<script>
        document.addEventListener('DOMContentLoaded', () => {
            const planButtons = document.querySelectorAll('[data-track="plan-open"]');
            const statsButtons = document.querySelectorAll('[data-track="stats-open"]');
            const personaToggle = document.querySelector('.header__persona-toggle');
            const personaNav = document.getElementById('personaMenu');
            const personaLinks = personaNav ? personaNav.querySelectorAll('.mega-menu__item') : [];
            const conversionSection = document.querySelector('#conversionOffer');
            const form = document.getElementById('planRequestForm');
            const successNotice = document.querySelector('.conversion-offer__success');
            const submitBtn = form ? form.querySelector('button[type="submit"]') : null;
            const mobileToast = document.getElementById('mobileToast');
            const toastCta = mobileToast ? mobileToast.querySelector('.mobile-toast__cta') : null;
            const toastClose = mobileToast ? mobileToast.querySelector('.mobile-toast__close') : null;
            const toastKey = 'planToastDismissed';

            const pushEvent = (name, detail = {}) => {
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({ event: name, ...detail });
                if (typeof gtag === 'function') {
                    gtag('event', name, detail);
                }
            };

            planButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const target = btn.dataset.scrollTarget ? document.querySelector(btn.dataset.scrollTarget) : conversionSection;
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                    pushEvent('plan_interest', {
                        cta_source: btn.dataset.cta || 'hero'
                    });
                    if (mobileToast) {
                        mobileToast.classList.remove('is-visible');
                        localStorage.setItem(toastKey, '1');
                    }
                });
            });

            statsButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    pushEvent('stats_open', {
                        cta_source: btn.dataset.cta || 'feature-summary'
                    });
                    if (window.statsDashboard && typeof window.statsDashboard.open === 'function') {
                        window.statsDashboard.open();
                    }
                });
            });

            if (personaToggle && personaNav) {
                const closePersona = () => {
                    personaNav.classList.remove('is-open');
                    personaToggle.setAttribute('aria-expanded', 'false');
                    personaNav.setAttribute('aria-hidden', 'true');
                };

                personaToggle.addEventListener('click', () => {
                    const isOpen = personaNav.classList.toggle('is-open');
                    personaToggle.setAttribute('aria-expanded', String(isOpen));
                    personaNav.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
                    if (isOpen) {
                        pushEvent('persona_open', {});
                    }
                });

                personaLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        pushEvent('persona_select', {
                            persona: link.dataset.cta || link.textContent.trim()
                        });
                        closePersona();
                    });
                });

                document.addEventListener('click', (evt) => {
                    if (!personaNav.contains(evt.target) && evt.target !== personaToggle) {
                        if (personaNav.classList.contains('is-open')) {
                            closePersona();
                        }
                    }
                });

                const mq = window.matchMedia('(min-width: 1024px)');
                const handleMQ = (e) => {
                    if (e.matches) {
                        personaNav.classList.remove('is-open');
                        personaToggle.setAttribute('aria-expanded', 'false');
                        personaNav.setAttribute('aria-hidden', 'false');
                    } else {
                        personaNav.setAttribute('aria-hidden', 'true');
                    }
                };
                mq.addEventListener('change', handleMQ);
                handleMQ(mq);
            }

            if (mobileToast) {
                const showToast = () => {
                    if (!mobileToast.classList.contains('is-visible')) {
                        mobileToast.classList.add('is-visible');
                    }
                };

                const scheduleToast = () => {
                    if (window.matchMedia('(max-width: 767px)').matches && !localStorage.getItem(toastKey)) {
                        setTimeout(() => {
                            if (!localStorage.getItem(toastKey)) {
                                showToast();
                            }
                        }, 8000);
                    }
                };

                scheduleToast();
                window.matchMedia('(max-width: 767px)').addEventListener('change', (mq) => {
                    if (mq.matches) {
                        scheduleToast();
                    } else {
                        mobileToast.classList.remove('is-visible');
                    }
                });

                if (toastCta) {
                    toastCta.addEventListener('click', () => {
                        mobileToast.classList.remove('is-visible');
                        localStorage.setItem(toastKey, '1');
                    });
                }

                if (toastClose) {
                    toastClose.addEventListener('click', () => {
                        mobileToast.classList.remove('is-visible');
                        localStorage.setItem(toastKey, '1');
                    });
                }
            }

            if (form) {
                form.addEventListener('submit', (event) => {
                    event.preventDefault();
                    const siteConfig = window.SITE_CONFIG || {};
                    if (!form.reportValidity()) {
                        pushEvent('plan_validation_error', {
                            reason: 'invalid_fields',
                            form_id: 'planRequestForm'
                        });
                        return;
                    }

                    if (successNotice) {
                        successNotice.classList.remove('is-visible');
                    }

                    const formData = new FormData(form);
                    const payload = {
                        name: (formData.get('name') || '').toString().trim(),
                        email: (formData.get('email') || '').toString().trim(),
                        goal: formData.get('goal') || '',
                        time: formData.get('time') || '',
                        form_id: 'planRequestForm',
                        funnel_step: 'plan_submit',
                        source: 'plan-request'
                    };

                    if (submitBtn) {
                        submitBtn.disabled = true;
                        submitBtn.textContent = 'Submitting...';
                    }

                    pushEvent('plan_submit', payload);

                    const emailAutomationPromise = window.emailAutomation && typeof window.emailAutomation.emitEvent === 'function'
                        ? window.emailAutomation.emitEvent('plan_submit', Object.assign({}, payload))
                        : Promise.resolve({ skipped: true });

                    const crmSender = window.crmBridge && typeof window.crmBridge.sendToCrm === 'function'
                        ? window.crmBridge.sendToCrm(siteConfig.planEndpoint, Object.assign({ event: 'plan_submit', form_name: 'conversionOffer' }, payload))
                        : Promise.resolve({ skipped: true });

                    crmSender.then(() => {
                        return emailAutomationPromise.then(() => {
                            pushEvent('plan_automation_success', Object.assign({
                                automation_status: 'success'
                            }, payload));
                        }).catch((automationError) => {
                            console.error('Plan email automation failed', automationError);
                            pushEvent('plan_automation_error', Object.assign({
                                automation_status: 'error',
                                error_message: automationError && automationError.message ? automationError.message : 'unknown_error'
                            }, payload));
                        });
                    }).then(() => {
                        if (successNotice) {
                            successNotice.classList.add('is-visible');
                        }
                        if (window.soundFlowsAnalytics && typeof window.soundFlowsAnalytics.trackConversion === 'function') {
                            window.soundFlowsAnalytics.trackConversion('plan_submit', payload.goal || '', {
                                source: 'plan-request',
                                crm_status: 'success',
                                form_id: 'planRequestForm'
                            });
                        }
                        pushEvent('plan_submit_success', Object.assign({ crm_status: 'success' }, payload));
                        form.reset();
                    }).catch((error) => {
                        console.error('Plan submission failed', error);
                        pushEvent('plan_submit_error', Object.assign({
                            crm_status: 'error',
                            error_message: error && error.message ? error.message : 'unknown_error'
                        }, payload));
                        alert('Submission failed. Please try again in a moment.');
                    }).finally(() => {
                        if (submitBtn) {
                            submitBtn.disabled = false;
                            submitBtn.textContent = 'Get Custom Plan';
                        }
                    });
                });
            }
        });
    </script>

    <script data-lazy-src="assets/js/crm-bridge.js"></script>
    <script data-lazy-src="assets/js/email-automation.js"></script>
    <script src="assets/js/gtm-events.js"></script>
    <script data-lazy-src="assets/js/content-hub.js"></script>
    <script data-lazy-src="assets/js/config.js"></script>
    <!-- Analytics Integration (Amplitude + GA4 + Clarity) -->
    <script data-lazy-src="assets/js/analytics.js"></script>
    <script src="assets/js/index-app.js"></script>
    <!-- Player Modal Controller - Modal player control -->
    <script src="assets/js/player-modal-controller.js"></script>
    <!-- UI Redesign v2.0 -->
    <script defer src="assets/js/ui-redesign-v2.js?v=20251108"></script>
    <!-- �?AudioManager兼容�?- 为旧模块提供window.audioManager -->
    <script src="assets/js/audioManager-compat.js"></script>
    <script data-lazy-src="assets/js/touch-gestures.js"></script>
    <script src="assets/js/accessibility-enhancements.js"></script>
    <!-- Keyboard Navigation and Screen Reader Support -->
    <script src="assets/js/accessibility-keyboard-navigation.js"></script>
    <!-- Accessibility Testing and Validation -->
    <script data-lazy-src="assets/js/accessibility-validator.js"></script>
    <!-- Performance Monitor for Canvas Animations -->
    <script data-lazy-src="assets/js/performance-monitor-overlay.js"></script>
    <!-- Color Contrast Validator for WCAG AA Compliance -->
    <script data-lazy-src="assets/js/color-contrast-validator.js"></script>
    <script>
        (function setupExperienceHelpers() {
            const lazyScripts = Array.from(document.querySelectorAll('script[data-lazy-src]'));
            let lazyLoaded = false;

            const loadLazyScripts = () => {
                if (lazyLoaded || !lazyScripts.length) {
                    return;
                }
                lazyLoaded = true;
                lazyScripts.forEach((placeholder) => {
                    const src = placeholder.getAttribute('data-lazy-src');
                    if (!src) {
                        return;
                    }
                    const script = document.createElement('script');
                    script.src = src;
                    script.defer = placeholder.defer;
                    script.async = placeholder.async;
                    document.body.appendChild(script);
                });
            };

            const hydrateOnIntent = () => {
                loadLazyScripts();
            };

            window.addEventListener('load', () => {
                setTimeout(loadLazyScripts, 1500);
            });
            document.addEventListener('pointerdown', hydrateOnIntent, { once: true, passive: true });
            document.addEventListener('focusin', hydrateOnIntent, { once: true });

            document.addEventListener('DOMContentLoaded', () => {
                const helpBtn = document.getElementById('tutorialHelpBtn');
                if (helpBtn) {
                    helpBtn.addEventListener('click', () => {
                        if (window.onboardingTutorial && typeof window.onboardingTutorial.show === 'function') {
                            window.onboardingTutorial.show();
                        }
                    });
                }

                const refreshBtn = document.getElementById('refreshRecommendationsBtn');
                if (refreshBtn) {
                    refreshBtn.addEventListener('click', () => {
                        if (typeof window.refreshPersonalizedRecommendations === 'function') {
                            window.refreshPersonalizedRecommendations(true);
                        }
                    });
                }
            });
        })();
    </script>


    <!-- Firebase 登录表单处理函数 -->
    <script>
        // 切换认证标签
        function switchAuthTab(tabName) {
            // 隐藏所有表单
            document.getElementById('loginForm').classList.remove('active');
            document.getElementById('signupForm').classList.remove('active');
            document.getElementById('resetForm').classList.remove('active');

            // 移除所有标签的active类
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // 显示选中的表单并激活标签
            switch(tabName) {
                case 'login':
                    document.getElementById('loginForm').classList.add('active');
                    document.querySelectorAll('.auth-tab')[0].classList.add('active');
                    break;
                case 'signup':
                    document.getElementById('signupForm').classList.add('active');
                    document.querySelectorAll('.auth-tab')[1].classList.add('active');
                    break;
                case 'reset':
                    document.getElementById('resetForm').classList.add('active');
                    document.querySelectorAll('.auth-tab')[2].classList.add('active');
                    break;
            }
        }

        // 处理登录
        async function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert(window.getI18nText('auth.filledEmail'));
                return;
            }

            if (window.firebaseAuthManager) {
                const result = await window.firebaseAuthManager.signInWithEmail(email, password);
                if (result) {
                    // 登录成功，关闭对话框
                    window.firebaseAuthManager.closeAuthDialog();
                    // 清空表单
                    document.getElementById('loginEmail').value = '';
                    document.getElementById('loginPassword').value = '';
                }
            } else {
                console.error('Firebase Auth Manager 未初始化');
            }
        }

        // 处理注册
        async function handleSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;

            if (!name || !email || !password) {
                alert(window.getI18nText('auth.filledEmail'));
                return;
            }

            if (password.length < 6) {
                alert(window.getI18nText('auth.passwordMinLength'));
                return;
            }

            if (window.firebaseAuthManager) {
                const result = await window.firebaseAuthManager.signUpWithEmail(email, password, name);
                if (result) {
                    // 注册成功，关闭对话框
                    window.firebaseAuthManager.closeAuthDialog();
                    // 清空表单
                    document.getElementById('signupName').value = '';
                    document.getElementById('signupEmail').value = '';
                    document.getElementById('signupPassword').value = '';
                }
            } else {
                console.error('Firebase Auth Manager 未初始化');
            }
        }

        // 处理Google登录
        async function handleGoogleLogin() {
            if (window.firebaseAuthManager) {
                const result = await window.firebaseAuthManager.signInWithGoogle();
                if (result) {
                    window.firebaseAuthManager.closeAuthDialog();
                }
            } else {
                console.error('Firebase Auth Manager 未初始化');
            }
        }

        // 处理匿名登录
        async function handleAnonymousLogin() {
            if (window.firebaseAuthManager) {
                const result = await window.firebaseAuthManager.signInAnonymously();
                if (result) {
                    window.firebaseAuthManager.closeAuthDialog();
                }
            } else {
                console.error('Firebase Auth Manager 未初始化');
            }
        }

        // 处理密码重置
        async function handlePasswordReset() {
            const email = document.getElementById('resetEmail').value;

            if (!email) {
                alert(window.getI18nText('auth.filledEmail'));
                return;
            }

            if (window.firebaseAuthManager) {
                const result = await window.firebaseAuthManager.sendPasswordResetEmail(email);
                if (result) {
                    // 重置邮件发送成功
                    alert(window.getI18nText('auth.resetEmailSent'));
                    window.firebaseAuthManager.closeAuthDialog();
                    document.getElementById('resetEmail').value = '';
                }
            } else {
                console.error('Firebase Auth Manager 未初始化');
            }
        }

        // 监听Enter键提交表单
        document.addEventListener('DOMContentLoaded', () => {
            // 登录表单
            const loginPassword = document.getElementById('loginPassword');
            if (loginPassword) {
                loginPassword.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        handleLogin();
                    }
                });
            }

            // 注册表单
            const signupPassword = document.getElementById('signupPassword');
            if (signupPassword) {
                signupPassword.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        handleSignup();
                    }
                });
            }

            // 重置表单
            const resetEmail = document.getElementById('resetEmail');
            if (resetEmail) {
                resetEmail.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        handlePasswordReset();
                    }
                });
            }
        });
    </script>

    <!-- 初始化主题管理器和每日提醒 -->
    <script>
        // 在DOM加载后初始化主题管理器和每日提醒
        document.addEventListener('DOMContentLoaded', () => {
            window.themeManager = new ThemeManager();
            console.log('✅ 主题管理器已初始化');

            // 初始化每日冥想提醒按钮状态
            if (window.dailyMeditationReminder) {
                updateReminderButton();

                // 监听音频播放事件，当用户完成冥想时标记练习
                if (window.audioManager) {
                    // 当音频播放完成时，可能表示完成了一次冥想练习
                    window.audioManager.addEventListener('audioEnded', () => {
                        // 可以自动标记，或者询问用户是否完成练习
                        console.log('音频播放结束，询问用户是否完成冥想练习');
                    });
                }
            }
        });

        // 更新提醒按钮状态
        function updateReminderButton() {
            const reminderBtn = document.getElementById('reminderBtn');
            const reminderText = document.getElementById('reminderText');

            if (window.dailyMeditationReminder) {
                const status = window.dailyMeditationReminder.getReminderStatus();

                if (status.isEnabled) {
                    reminderBtn.classList.add('has-streak');
                reminderText.textContent = `${status.streakDays} day streak`;
                } else {
                    reminderBtn.classList.remove('has-streak');
            reminderText.textContent = 'Daily reminder';
                }
            }
        }

        // 标记今日冥想练习完成
        function markMeditationPractice() {
            if (window.dailyMeditationReminder) {
                window.dailyMeditationReminder.markTodayPractice();
                updateReminderButton();
            }
        }

        // 添加全局函数供用户调用
        window.markMeditationPractice = markMeditationPractice;
    </script>
</body>
</html>




