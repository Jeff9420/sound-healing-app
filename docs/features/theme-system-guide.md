# ğŸ¨ ä¸»é¢˜ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

å£°éŸ³ç–—æ„ˆåº”ç”¨ç°åœ¨æ”¯æŒ**æ˜æš—ä¸»é¢˜åˆ‡æ¢**,ç”¨æˆ·å¯ä»¥æ ¹æ®ç¯å¢ƒå…‰çº¿å’Œä¸ªäººå–œå¥½é€‰æ‹©åˆé€‚çš„ä¸»é¢˜ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. **åŒä¸»é¢˜æ”¯æŒ**
- ğŸŒ™ **æ·±è‰²ä¸»é¢˜** (Dark Mode) - é»˜è®¤ä¸»é¢˜,é€‚åˆå¤œé—´ä½¿ç”¨
- â˜€ï¸ **æµ…è‰²ä¸»é¢˜** (Light Mode) - é€‚åˆç™½å¤©ä½¿ç”¨

### 2. **ä¸€é”®åˆ‡æ¢**
- ç‚¹å‡»å³ä¸Šè§’ä¸»é¢˜æŒ‰é’® (ğŸŒ™/â˜€ï¸) å³å¯åˆ‡æ¢
- å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»,è§†è§‰ä½“éªŒæµç•…
- å›¾æ ‡è‡ªåŠ¨æ›´æ–°:æ·±è‰²æ¨¡å¼æ˜¾ç¤ºğŸŒ™,æµ…è‰²æ¨¡å¼æ˜¾ç¤ºâ˜€ï¸

### 3. **è‡ªåŠ¨è®°å¿†**
- ç”¨æˆ·é€‰æ‹©çš„ä¸»é¢˜ä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨
- ä¸‹æ¬¡è®¿é—®è‡ªåŠ¨åº”ç”¨ä¸Šæ¬¡é€‰æ‹©çš„ä¸»é¢˜
- æ— éœ€é‡æ–°è®¾ç½®

### 4. **ç³»ç»Ÿä¸»é¢˜æ£€æµ‹**
- é¦–æ¬¡è®¿é—®æ—¶è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸»é¢˜åå¥½
- è·Ÿéšç³»ç»Ÿ `prefers-color-scheme` è®¾ç½®
- ç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢åä¼˜å…ˆä½¿ç”¨ç”¨æˆ·è®¾ç½®

### 5. **PWAæ”¯æŒ**
- ä¸»é¢˜è‰²è‡ªåŠ¨æ›´æ–° (meta theme-color)
- æ·±è‰²æ¨¡å¼: #1a1a2e
- æµ…è‰²æ¨¡å¼: #f8fafc

---

## ğŸ¨ ä¸»é¢˜è®¾è®¡

### æ·±è‰²ä¸»é¢˜ (Dark)

**é¢œè‰²æ–¹æ¡ˆ**:
```css
èƒŒæ™¯æ¸å˜: #1a1a2e â†’ #16213e â†’ #0f3460
æ–‡å­—é¢œè‰²: #eee (ä¸»), rgba(255,255,255,0.9) (æ¬¡)
å¡ç‰‡èƒŒæ™¯: rgba(255,255,255,0.05)
æŒ‰é’®èƒŒæ™¯: rgba(255,255,255,0.1)
å¼ºè°ƒè‰²: #FF6699 (ç²‰çº¢), #6666FF (ç´«è‰²)
```

**é€‚ç”¨åœºæ™¯**:
- å¤œé—´ä½¿ç”¨,å‡å°‘çœ¼ç›ç–²åŠ³
- ä½å…‰ç¯å¢ƒä¸‹é˜…è¯»
- èŠ‚çœOLEDå±å¹•ç”µé‡
- ä¸“æ³¨æ¨¡å¼ã€ç¡çœ è¾…åŠ©

### æµ…è‰²ä¸»é¢˜ (Light)

**é¢œè‰²æ–¹æ¡ˆ**:
```css
èƒŒæ™¯æ¸å˜: #f8fafc â†’ #e2e8f0 â†’ #cbd5e1
æ–‡å­—é¢œè‰²: #1a202c (ä¸»), #2d3748 (æ¬¡)
å¡ç‰‡èƒŒæ™¯: rgba(255,255,255,0.8)
æŒ‰é’®èƒŒæ™¯: rgba(0,0,0,0.05)
å¼ºè°ƒè‰²: #6666FF (ç´«è‰²), #FF6699 (ç²‰çº¢)
```

**é€‚ç”¨åœºæ™¯**:
- ç™½å¤©ä½¿ç”¨,æé«˜å¯è¯»æ€§
- æ˜äº®ç¯å¢ƒä¸‹é˜…è¯»
- ä¸“ä¸šåŠå…¬åœºæ™¯
- é•¿æ—¶é—´æµè§ˆ

---

## ğŸ”§ æŠ€æœ¯å®ç°

### CSSå˜é‡ç³»ç»Ÿ

ä¸»é¢˜é€šè¿‡CSSå˜é‡å®ç°,æ”¯æŒåŠ¨æ€åˆ‡æ¢:

```css
/* Dark Theme */
:root {
    --primary-bg: #1a1a2e;
    --text-primary: #eee;
    --card-bg: rgba(255, 255, 255, 0.05);
    /* ... æ›´å¤šå˜é‡ */
}

/* Light Theme */
[data-theme="light"] {
    --primary-bg: #f8fafc;
    --text-primary: #1a202c;
    --card-bg: rgba(255, 255, 255, 0.8);
    /* ... æ›´å¤šå˜é‡ */
}
```

### JavaScript API

**ThemeManagerç±»**æä¾›å®Œæ•´çš„ä¸»é¢˜ç®¡ç†:

```javascript
// åˆå§‹åŒ–
const themeManager = new ThemeManager();

// åˆ‡æ¢ä¸»é¢˜
themeManager.toggleTheme();

// è·å–å½“å‰ä¸»é¢˜
const currentTheme = themeManager.getCurrentTheme(); // 'dark' æˆ– 'light'

// åº”ç”¨ç‰¹å®šä¸»é¢˜
themeManager.currentTheme = 'light';
themeManager.applyTheme();
```

### æœ¬åœ°å­˜å‚¨

ä¸»é¢˜è®¾ç½®ä¿å­˜åœ¨localStorage:

```javascript
// é”®å: 'sound-healing-theme'
// å€¼: 'dark' æˆ– 'light'

localStorage.setItem('sound-healing-theme', 'light');
const savedTheme = localStorage.getItem('sound-healing-theme');
```

---

## ğŸ“± å“åº”å¼è®¾è®¡

### ç§»åŠ¨ç«¯ä¼˜åŒ–

ä¸»é¢˜åˆ‡æ¢æŒ‰é’®åœ¨ç§»åŠ¨ç«¯è‡ªåŠ¨è°ƒæ•´:
```css
@media (max-width: 768px) {
    .theme-toggle-btn {
        width: 36px;  /* æ¡Œé¢ç«¯: 40px */
        height: 36px;
        font-size: 1.1em;  /* æ¡Œé¢ç«¯: 1.2em */
    }
}
```

### è§¦æ‘¸ä¼˜åŒ–

- æœ€å°è§¦æ‘¸ç›®æ ‡: 36px Ã— 36px (ç§»åŠ¨ç«¯)
- æ‚¬æµ®æ•ˆæœ: æŒ‰é’®ä¸Šç§» + é˜´å½±å¢å¼º
- ç‚¹å‡»åé¦ˆ: æŒ‰é’®ä¸‹æ²‰åŠ¨ç”»

---

## ğŸŒ å¤šè¯­è¨€æ”¯æŒ

ä¸»é¢˜æŒ‰é’®æ ‡é¢˜å¯é€šè¿‡i18nç³»ç»Ÿç¿»è¯‘:

```javascript
// ä¸­æ–‡: "åˆ‡æ¢ä¸»é¢˜"
// English: "Toggle Theme"
// æ—¥æœ¬èª: "ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ"
// í•œêµ­ì–´: "í…Œë§ˆ ì „í™˜"
// EspaÃ±ol: "Cambiar Tema"
```

æ·»åŠ ç¿»è¯‘åˆ° `assets/js/i18n-system.js`:
```javascript
translations: {
    'zh-CN': {
        theme: {
            toggle: 'åˆ‡æ¢ä¸»é¢˜',
            dark: 'æ·±è‰²æ¨¡å¼',
            light: 'æµ…è‰²æ¨¡å¼'
        }
    },
    'en-US': {
        theme: {
            toggle: 'Toggle Theme',
            dark: 'Dark Mode',
            light: 'Light Mode'
        }
    }
    // ... å…¶ä»–è¯­è¨€
}
```

---

## ğŸ” æµè§ˆå™¨å…¼å®¹æ€§

### æ”¯æŒçš„ç‰¹æ€§

âœ… **CSSå˜é‡** (var()) - æ‰€æœ‰ç°ä»£æµè§ˆå™¨
âœ… **data-themeå±æ€§** - æ‰€æœ‰æµè§ˆå™¨
âœ… **localStorage** - æ‰€æœ‰æµè§ˆå™¨
âœ… **prefers-color-scheme** - Chrome 76+, Firefox 67+, Safari 12.1+

### é™çº§æ–¹æ¡ˆ

- ä¸æ”¯æŒCSSå˜é‡çš„æµè§ˆå™¨:ä½¿ç”¨é»˜è®¤æ·±è‰²ä¸»é¢˜
- localStorageä¸å¯ç”¨:æ¯æ¬¡è®¿é—®é‡ç½®ä¸ºç³»ç»Ÿä¸»é¢˜
- prefers-color-schemeä¸æ”¯æŒ:é»˜è®¤æ·±è‰²ä¸»é¢˜

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### åˆ‡æ¢æ€§èƒ½

- **CSSå˜é‡åˆ‡æ¢**: ~5ms
- **DOMæ›´æ–°**: ~10ms
- **è¿‡æ¸¡åŠ¨ç”»**: 300ms
- **æ€»è€—æ—¶**: < 20ms (ä¸å«åŠ¨ç”»)

### å†…å­˜å ç”¨

- ThemeManagerå®ä¾‹: ~5KB
- CSSå˜é‡å®šä¹‰: ~8KB
- æ€»è®¡: ~13KB

### ä¼˜åŒ–æªæ–½

1. **CSSå˜é‡å¤ç”¨**: å‡å°‘é‡å¤å®šä¹‰
2. **è¿‡æ¸¡åŠ¨ç”»æ§åˆ¶**: ä»…åœ¨å¿…è¦å…ƒç´ ä¸Šåº”ç”¨
3. **æ‡’åŠ è½½æ£€æµ‹**: ç³»ç»Ÿä¸»é¢˜åå¥½ä»…åœ¨éœ€è¦æ—¶æ£€æµ‹
4. **æ‰¹é‡DOMæ›´æ–°**: ä½¿ç”¨å•ä¸ªå±æ€§åˆ‡æ¢æ‰€æœ‰æ ·å¼

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### åŠŸèƒ½æµ‹è¯•

**æµ‹è¯•1: ä¸»é¢˜åˆ‡æ¢**
1. ç‚¹å‡»ä¸»é¢˜æŒ‰é’®
2. éªŒè¯é¡µé¢é¢œè‰²å˜åŒ–
3. éªŒè¯æŒ‰é’®å›¾æ ‡æ›´æ–° (ğŸŒ™ â†” â˜€ï¸)

**æµ‹è¯•2: ä¸»é¢˜æŒä¹…åŒ–**
1. åˆ‡æ¢åˆ°æµ…è‰²ä¸»é¢˜
2. åˆ·æ–°é¡µé¢
3. éªŒè¯ä¸»é¢˜ä¿æŒä¸ºæµ…è‰²

**æµ‹è¯•3: ç³»ç»Ÿä¸»é¢˜æ£€æµ‹**
1. æ¸…é™¤localStorage (dev tools)
2. è®¾ç½®ç³»ç»Ÿä¸ºæµ…è‰²æ¨¡å¼
3. åˆ·æ–°é¡µé¢
4. éªŒè¯åº”ç”¨ä½¿ç”¨æµ…è‰²ä¸»é¢˜

**æµ‹è¯•4: PWAä¸»é¢˜è‰²**
1. åˆ‡æ¢ä¸»é¢˜
2. æ£€æŸ¥meta theme-coloræ›´æ–°
3. åœ¨ä»»åŠ¡åˆ‡æ¢å™¨ä¸­éªŒè¯é¢œè‰²

### è§†è§‰æµ‹è¯•

æ£€æŸ¥ä»¥ä¸‹å…ƒç´ åœ¨ä¸¤ç§ä¸»é¢˜ä¸‹çš„æ˜¾ç¤º:

- âœ… èƒŒæ™¯æ¸å˜
- âœ… æ–‡å­—å¯è¯»æ€§
- âœ… å¡ç‰‡å¯¹æ¯”åº¦
- âœ… æŒ‰é’®å¯è§æ€§
- âœ… è¿›åº¦æ¡é¢œè‰²
- âœ… æ¨¡æ€æ¡†èƒŒæ™¯
- âœ… é€šçŸ¥æ ·å¼
- âœ… æ’­æ”¾å™¨æ§ä»¶

### æµè§ˆå™¨æµ‹è¯•

- Chrome (æ¡Œé¢ + ç§»åŠ¨)
- Firefox (æ¡Œé¢ + ç§»åŠ¨)
- Safari (æ¡Œé¢ + iOS)
- Edge (æ¡Œé¢)

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ä¸»é¢˜åˆ‡æ¢åéƒ¨åˆ†å…ƒç´ æœªæ›´æ–°?
**A:** æ£€æŸ¥è¯¥å…ƒç´ æ˜¯å¦ä½¿ç”¨äº†CSSå˜é‡ã€‚æœªä½¿ç”¨å˜é‡çš„ç¡¬ç¼–ç é¢œè‰²ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

**è§£å†³æ–¹æ¡ˆ**:
```css
/* é”™è¯¯ */
.element {
    background: #1a1a2e;  /* ç¡¬ç¼–ç  */
}

/* æ­£ç¡® */
.element {
    background: var(--primary-bg);  /* ä½¿ç”¨å˜é‡ */
}
```

### Q2: ä¸»é¢˜è®¾ç½®æœªä¿å­˜?
**A:** æ£€æŸ¥localStorageæ˜¯å¦å¯ç”¨(éšç§æ¨¡å¼ä¸‹å¯èƒ½è¢«ç¦ç”¨)ã€‚

**è¯Šæ–­**:
```javascript
try {
    localStorage.setItem('test', 'test');
    localStorage.removeItem('test');
    console.log('âœ… localStorageå¯ç”¨');
} catch (e) {
    console.error('âŒ localStorageä¸å¯ç”¨:', e);
}
```

### Q3: ç³»ç»Ÿä¸»é¢˜æ£€æµ‹å¤±æ•ˆ?
**A:** ç¡®ä¿æµè§ˆå™¨æ”¯æŒ`prefers-color-scheme`ã€‚

**æ£€æµ‹**:
```javascript
if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    console.log('ç³»ç»Ÿä½¿ç”¨æ·±è‰²æ¨¡å¼');
} else {
    console.log('ç³»ç»Ÿä½¿ç”¨æµ…è‰²æ¨¡å¼');
}
```

### Q4: ä¸»é¢˜åˆ‡æ¢åŠ¨ç”»å¡é¡¿?
**A:** æ£€æŸ¥CSSè¿‡æ¸¡æ˜¯å¦åº”ç”¨è¿‡å¤šã€‚

**ä¼˜åŒ–**:
```css
/* ä»…åœ¨å¿…è¦å±æ€§ä¸Šæ·»åŠ è¿‡æ¸¡ */
.element {
    transition: background-color 0.3s ease, color 0.3s ease;
    /* é¿å…: transition: all 0.3s; */
}
```

---

## ğŸš€ æœªæ¥æ‰©å±•

### è®¡åˆ’åŠŸèƒ½

1. **è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢**
   - æ ¹æ®æ—¶é—´è‡ªåŠ¨åˆ‡æ¢(å¦‚æ™šä¸Š8ç‚¹åè‡ªåŠ¨æ·±è‰²)
   - æ”¯æŒè‡ªå®šä¹‰åˆ‡æ¢æ—¶é—´

2. **æ›´å¤šä¸»é¢˜é€‰é¡¹**
   - é«˜å¯¹æ¯”åº¦ä¸»é¢˜
   - æŠ¤çœ¼æ¨¡å¼
   - è‡ªå®šä¹‰é…è‰²æ–¹æ¡ˆ

3. **ä¸»é¢˜åŒæ­¥**
   - è·¨è®¾å¤‡åŒæ­¥ä¸»é¢˜è®¾ç½®
   - äº‘ç«¯ä¿å­˜ç”¨æˆ·åå¥½

4. **ä¸»é¢˜é¢„è§ˆ**
   - åˆ‡æ¢å‰é¢„è§ˆä¸»é¢˜æ•ˆæœ
   - ä¸»é¢˜å¯¹æ¯”æ¨¡å¼

---

## ğŸ“ å¼€å‘è€…æ–‡æ¡£

### æ·»åŠ æ–°çš„ä¸»é¢˜å˜é‡

1. åœ¨ `theme-system.css` ä¸­å®šä¹‰å˜é‡:
```css
:root {
    --new-color: #value;
}

[data-theme="light"] {
    --new-color: #different-value;
}
```

2. åœ¨å…ƒç´ ä¸­ä½¿ç”¨:
```css
.element {
    color: var(--new-color);
}
```

### åˆ›å»ºæ–°ä¸»é¢˜

1. æ·»åŠ æ–°çš„data-theme:
```css
[data-theme="custom"] {
    --primary-bg: #custom-color;
    /* ... å…¶ä»–å˜é‡ */
}
```

2. æ›´æ–°ThemeManager:
```javascript
loadSavedTheme() {
    const validThemes = ['light', 'dark', 'custom'];
    if (validThemes.includes(savedTheme)) {
        this.currentTheme = savedTheme;
    }
}
```

### ä¸»é¢˜åˆ‡æ¢äº‹ä»¶

ç›‘å¬ä¸»é¢˜å˜åŒ–:
```javascript
window.addEventListener('themeChanged', (e) => {
    console.log('ä¸»é¢˜å·²åˆ‡æ¢è‡³:', e.detail.theme);
    // æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘
});

// åœ¨ThemeManagerä¸­è§¦å‘äº‹ä»¶
applyTheme() {
    // ... åº”ç”¨ä¸»é¢˜
    window.dispatchEvent(new CustomEvent('themeChanged', {
        detail: { theme: this.currentTheme }
    }));
}
```

---

## ğŸ“Š ä½¿ç”¨ç»Ÿè®¡

é€šè¿‡Google Analyticsè¿½è¸ªä¸»é¢˜ä½¿ç”¨:

```javascript
toggleTheme() {
    this.currentTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
    this.applyTheme();
    this.saveTheme();

    // è¿½è¸ªä¸»é¢˜åˆ‡æ¢
    if (typeof gtag !== 'undefined') {
        gtag('event', 'theme_toggle', {
            'event_category': 'Engagement',
            'event_label': this.currentTheme
        });
    }
}
```

---

## âœ… æ€»ç»“

**ä¸»é¢˜ç³»ç»Ÿç‰¹ç‚¹**:
- âœ… ç®€å•æ˜“ç”¨ - ä¸€é”®åˆ‡æ¢
- âœ… ç¾è§‚æµç•… - å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- âœ… æ™ºèƒ½è®°å¿† - è‡ªåŠ¨ä¿å­˜åå¥½
- âœ… ç³»ç»Ÿé›†æˆ - è·Ÿéšç³»ç»Ÿä¸»é¢˜
- âœ… æ€§èƒ½ä¼˜å¼‚ - CSSå˜é‡é«˜æ•ˆåˆ‡æ¢
- âœ… å®Œå…¨å“åº”å¼ - æ”¯æŒæ‰€æœ‰è®¾å¤‡

**ç”¨æˆ·ä»·å€¼**:
- ğŸ‘ï¸ å‡å°‘çœ¼ç›ç–²åŠ³
- ğŸ”‹ èŠ‚çœç”µé‡ (OLEDå±å¹•)
- ğŸ¯ æå‡ä½¿ç”¨ä½“éªŒ
- ğŸŒ é€‚åº”ä¸åŒç¯å¢ƒ

---

**ä½œè€…**: Sound Healing Team
**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-10-11
