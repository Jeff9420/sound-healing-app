# ğŸ“Š å¢å¼ºç»Ÿè®¡åŠŸèƒ½æŒ‡å—

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

å£°éŸ³ç–—æ„ˆåº”ç”¨çš„ç»Ÿè®¡ç³»ç»Ÿå·²å…¨é¢å‡çº§,æ–°å¢**ä¸“ä¸šå›¾è¡¨å¯è§†åŒ–**åŠŸèƒ½,å¸®åŠ©ç”¨æˆ·ç›´è§‚äº†è§£æ”¶å¬ä¹ æƒ¯å’Œä½¿ç”¨æ•°æ®ã€‚

---

## âœ¨ æ–°å¢åŠŸèƒ½

### 1. **Canvaså›¾è¡¨å¯è§†åŒ–** ğŸ¨

#### é¥¼å›¾ (Pie Chart)
- **ç”¨é€”**: æ˜¾ç¤ºåˆ†ç±»å æ¯”
- **æ•°æ®**: Top 5æœ€å¸¸å¬çš„åˆ†ç±»
- **ç‰¹æ€§**:
  - 12è‰²è°ƒè‰²æ¿,è‡ªåŠ¨é…è‰²
  - ç™¾åˆ†æ¯”æ ‡æ³¨ (å æ¯”>5%æ—¶æ˜¾ç¤º)
  - äº¤äº’å¼å›¾ä¾‹
  - æ‰‡å½¢åˆ†å‰²æ¸…æ™°

#### æŠ˜çº¿å›¾ (Line Chart)
- **ç”¨é€”**: è¶‹åŠ¿åˆ†æ
- **æ•°æ®**: æœ€è¿‘7å¤©æ’­æ”¾æ¬¡æ•°
- **ç‰¹æ€§**:
  - æ¸å˜å¡«å……æ•ˆæœ
  - æ•°æ®ç‚¹é«˜äº®æ˜¾ç¤º
  - ç½‘æ ¼çº¿å‚è€ƒ
  - Yè½´è‡ªåŠ¨ç¼©æ”¾

#### æŸ±çŠ¶å›¾ (Bar Chart)
- **ç”¨é€”**: æ•°æ®å¯¹æ¯”
- **æ•°æ®**: åˆ†ç±»æ’­æ”¾æ¬¡æ•°
  - æ¸å˜è‰²æŸ±å­
  - æ•°å€¼æ ‡ç­¾æ˜¾ç¤º
  - Xè½´æ ‡ç­¾è‡ªåŠ¨æ—‹è½¬ (é•¿æ–‡æœ¬)
  - æ‚¬æµ®æ•ˆæœ

#### ç¯å½¢å›¾ (Donut Chart)
- **ç”¨é€”**: è¿›åº¦å±•ç¤º
- **æ•°æ®**: æˆå°±å®Œæˆåº¦
- **ç‰¹æ€§**:
  - æ¸å˜è‰²åœ†ç¯
  - ç™¾åˆ†æ¯”ä¸­å¿ƒæ˜¾ç¤º
  - å¯è‡ªå®šä¹‰é¢œè‰²å’Œæ ‡ç­¾

### 2. **åŸæœ‰ç»Ÿè®¡åŠŸèƒ½** ğŸ“ˆ

#### æ¦‚è§ˆå¡ç‰‡
- ğŸµ æ€»æ’­æ”¾æ¬¡æ•°
- â° ç´¯è®¡æ”¶å¬æ—¶é•¿
- â­ æ”¶è—æ•°é‡
- ğŸ“ˆ æ—¥å‡æ’­æ”¾

#### HTMLå›¾è¡¨
- ğŸ“Š åˆ†ç±»æ¡å½¢å›¾
- ğŸ“… 7å¤©æ’­æ”¾è¶‹åŠ¿
- ğŸ† æˆå°±ç³»ç»Ÿ

---

## ğŸ¨ å›¾è¡¨ç³»ç»Ÿæ¶æ„

### ChartVisualizerç±»

**æ ¸å¿ƒæ–¹æ³•**:

```javascript
// 1. åˆ›å»ºé¥¼å›¾
chartVisualizer.createPieChart(canvasId, data, options);

// 2. åˆ›å»ºç¯å½¢å›¾
chartVisualizer.createDonutChart(canvasId, percentage, options);

// 3. åˆ›å»ºæŠ˜çº¿å›¾
chartVisualizer.createLineChart(canvasId, data, options);

// 4. åˆ›å»ºæŸ±çŠ¶å›¾
chartVisualizer.createBarChart(canvasId, data, options);

// 5. å¯¼å‡ºå›¾è¡¨
chartVisualizer.exportChart(canvasId, 'filename.png');
```

### æ•°æ®æ ¼å¼

**é€šç”¨æ ¼å¼**:
```javascript
[
    { label: 'åˆ†ç±»å', value: æ•°å€¼ },
    { label: 'ä¸‹ä¸€ä¸ª', value: æ•°å€¼ },
    // ...
]
```

**ç¤ºä¾‹ - åˆ†ç±»å æ¯”**:
```javascript
const categoryData = [
    { label: 'å†¥æƒ³éŸ³ä¹', value: 45 },
    { label: 'é›¨å£°', value: 32 },
    { label: 'é¢‚é’µéŸ³ç–—', value: 18 },
    { label: 'è„‰è½®ç–—æ„ˆ', value: 12 },
    { label: 'å‚¬çœ å¼•å¯¼', value: 8 }
];
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: äº†è§£æ”¶å¬åå¥½
**é—®é¢˜**: æˆ‘æœ€å–œæ¬¢å“ªç±»éŸ³é¢‘?
**è§£å†³**: æŸ¥çœ‹é¥¼å›¾,å¿«é€Ÿè¯†åˆ«Topåˆ†ç±»

### åœºæ™¯2: è¿½è¸ªä½¿ç”¨è¶‹åŠ¿
**é—®é¢˜**: æœ€è¿‘æ”¶å¬é¢‘ç‡å¦‚ä½•?
**è§£å†³**: æŸ¥çœ‹æŠ˜çº¿å›¾,åˆ†æ7å¤©è¶‹åŠ¿

### åœºæ™¯3: è®¾å®šæ”¶å¬ç›®æ ‡
**é—®é¢˜**: æˆ‘å¬äº†å¤šå°‘æ—¶é—´?
**è§£å†³**: æŸ¥çœ‹ç´¯è®¡æ—¶é•¿å¡ç‰‡å’Œæˆå°±ç³»ç»Ÿ

### åœºæ™¯4: æ•°æ®å¯¼å‡ºåˆ†äº«
**é—®é¢˜**: æƒ³ä¿å­˜ç»Ÿè®¡å›¾è¡¨
**è§£å†³**: ä½¿ç”¨exportChart()å¯¼å‡ºPNG

---

## ğŸ”§ æŠ€æœ¯å®ç°

### Canvasç»˜å›¾æµç¨‹

#### 1. é¥¼å›¾ç»˜åˆ¶
```javascript
// è®¡ç®—æ€»æ•°
const total = data.reduce((sum, item) => sum + item.value, 0);

// ç»˜åˆ¶æ‰‡å½¢
let startAngle = -Math.PI / 2;
data.forEach((item, index) => {
    const sliceAngle = (item.value / total) * 2 * Math.PI;
    const endAngle = startAngle + sliceAngle;

    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.arc(centerX, centerY, radius, startAngle, endAngle);
    ctx.closePath();
    ctx.fillStyle = colors[index];
    ctx.fill();

    startAngle = endAngle;
});
```

#### 2. æŠ˜çº¿å›¾ç»˜åˆ¶
```javascript
// æ‰¾å‡ºæœ€å¤§å€¼,ç¡®å®šYè½´èŒƒå›´
const maxValue = Math.max(...data.map(d => d.value));

// ç»˜åˆ¶æŠ˜çº¿
ctx.beginPath();
data.forEach((point, index) => {
    const x = padding + stepX * index;
    const y = padding + chartHeight - (point.value / maxValue) * chartHeight;

    if (index === 0) {
        ctx.moveTo(x, y);
    } else {
        ctx.lineTo(x, y);
    }
});
ctx.stroke();
```

### é¢œè‰²æ–¹æ¡ˆ

**è°ƒè‰²æ¿** (12è‰²):
```javascript
colors = [
    '#FF6B9D', '#C44569', '#FFA07A', '#FFD93D',
    '#6BCB77', '#4D96FF', '#9B59B6', '#E67E22',
    '#1ABC9C', '#E74C3C', '#3498DB', '#F39C12'
];
```

**è‡ªåŠ¨é…è‰²**: ä½¿ç”¨ `index % colors.length` å¾ªç¯åˆ†é…

**é¢œè‰²åŠ æ·±**:
```javascript
darkenColor(color, amount) {
    // RGBå€¼ä¹˜ä»¥ (1 - amount)
    // ä¾‹: darkenColor('#FF6B9D', 0.3) â†’ æ›´æ·±çš„ç²‰è‰²
}
```

### å“åº”å¼è®¾è®¡

**Canvaså°ºå¯¸**:
```javascript
// é¥¼å›¾: 300x300
<canvas id="categoryPieChart" width="300" height="300"></canvas>

// æŠ˜çº¿å›¾: 400x300
<canvas id="trendLineChart" width="400" height="300"></canvas>
```

**CSSé€‚é…**:
```css
.chart-container canvas {
    width: 100%;      /* å“åº”å¼å®½åº¦ */
    height: auto;     /* ä¿æŒæ¯”ä¾‹ */
    max-width: 100%;  /* é˜²æ­¢æº¢å‡º */
}
```

---

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

### ç½‘æ ¼å¸ƒå±€
```css
.visual-charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
}
```

### è§¦æ‘¸å‹å¥½
- å›¾è¡¨å®¹å™¨æœ€å°å®½åº¦: 300px
- é—´è·å……è¶³: 25px gap
- è‡ªé€‚åº”å•åˆ—/åŒåˆ—å¸ƒå±€

### æ€§èƒ½ä¼˜åŒ–
- **æ‡’æ¸²æŸ“**: ä»…åœ¨æ‰“å¼€ç»Ÿè®¡é¢æ¿æ—¶ç»˜åˆ¶
- **æ¸…ç©ºç”»å¸ƒ**: æ¯æ¬¡ç»˜åˆ¶å‰clearRect
- **é˜²æŠ–åŠ¨**: é¿å…é¢‘ç¹é‡ç»˜

---

## ğŸŒ ä¸»é¢˜æ”¯æŒ

### æ·±è‰²ä¸»é¢˜ (é»˜è®¤)
```css
.chart-container {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.chart-container h4 {
    color: rgba(255, 255, 255, 0.9);
}
```

### æµ…è‰²ä¸»é¢˜
```css
[data-theme="light"] .chart-container {
    background: rgba(0, 0, 0, 0.03);
    border-color: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .chart-container h4 {
    color: #2d3436;
}
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### åŠŸèƒ½æµ‹è¯•

**æµ‹è¯•1: å›¾è¡¨æ¸²æŸ“**
1. æ‰“å¼€ç»Ÿè®¡é¢æ¿ (ğŸ“Š æŒ‰é’®)
2. éªŒè¯é¥¼å›¾æ˜¾ç¤ºåˆ†ç±»å æ¯”
3. éªŒè¯æŠ˜çº¿å›¾æ˜¾ç¤º7å¤©è¶‹åŠ¿
4. æ£€æŸ¥å›¾ä¾‹å’Œæ ‡ç­¾æ­£ç¡®æ€§

**æµ‹è¯•2: æ— æ•°æ®å¤„ç†**
1. æ¸…ç©ºlocalStorage
2. æ‰“å¼€ç»Ÿè®¡é¢æ¿
3. éªŒè¯æ˜¾ç¤º"æš‚æ— æ•°æ®"æç¤º

**æµ‹è¯•3: ä¸»é¢˜åˆ‡æ¢**
1. åˆ‡æ¢åˆ°æµ…è‰²ä¸»é¢˜
2. æ‰“å¼€ç»Ÿè®¡é¢æ¿
3. éªŒè¯å›¾è¡¨é¢œè‰²é€‚é…æµ…è‰²èƒŒæ™¯

**æµ‹è¯•4: å¯¼å‡ºåŠŸèƒ½**
```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
chartVisualizer.exportChart('categoryPieChart', 'my-stats.png');
```
éªŒè¯ä¸‹è½½PNGæ–‡ä»¶

### æ•°æ®å‡†ç¡®æ€§æµ‹è¯•

**æ­¥éª¤**:
1. æ’­æ”¾3é¦–"å†¥æƒ³éŸ³ä¹"
2. æ’­æ”¾2é¦–"é›¨å£°"
3. æ’­æ”¾1é¦–"é¢‚é’µéŸ³ç–—"
4. æ‰“å¼€ç»Ÿè®¡é¢æ¿
5. éªŒè¯:
   - æ€»æ’­æ”¾æ¬¡æ•° = 6
   - é¥¼å›¾: å†¥æƒ³50%, é›¨å£°33%, é¢‚é’µ17%
   - æŠ˜çº¿å›¾ä»Šæ—¥ = 6

### æ€§èƒ½æµ‹è¯•

**æŒ‡æ ‡**:
- å›¾è¡¨ç»˜åˆ¶æ—¶é—´: < 50ms
- é¢æ¿æ‰“å¼€å»¶è¿Ÿ: < 100ms
- å†…å­˜å ç”¨: ~200KB

**æµ‹è¯•æ–¹æ³•**:
```javascript
console.time('chartRender');
window.statsDashboard.render();
console.timeEnd('chartRender');
```

---

## ğŸ“Š æ•°æ®ç»Ÿè®¡

### æ”¯æŒçš„æŒ‡æ ‡

#### åŸºç¡€æŒ‡æ ‡
- âœ… æ€»æ’­æ”¾æ¬¡æ•°
- âœ… ç´¯è®¡æ”¶å¬æ—¶é•¿ (å°æ—¶)
- âœ… æ”¶è—æ•°é‡
- âœ… æ—¥å‡æ’­æ”¾æ¬¡æ•°

#### åˆ†ç±»ç»Ÿè®¡
- âœ… æ¯ä¸ªåˆ†ç±»çš„æ’­æ”¾æ¬¡æ•°
- âœ… æ¯ä¸ªåˆ†ç±»çš„æ”¶å¬æ—¶é•¿
- âœ… Top 5çƒ­é—¨åˆ†ç±»

#### è¶‹åŠ¿åˆ†æ
- âœ… æœ€è¿‘7å¤©æ’­æ”¾æ¬¡æ•°
- âœ… é¦–æ¬¡æ’­æ”¾æ—¥æœŸ
- âœ… è¿ç»­æ”¶å¬å¤©æ•°

#### æˆå°±ç³»ç»Ÿ
- ğŸµ åˆæ¬¡ä½“éªŒ: æ’­æ”¾ç¬¬1é¦–
- ğŸ§ éŸ³ä¹çˆ±å¥½è€…: ç´¯è®¡10æ¬¡
- ğŸŒŸ ç–—æ„ˆè¾¾äºº: ç´¯è®¡50æ¬¡
- ğŸ‘‘ å£°éŸ³å¤§å¸ˆ: ç´¯è®¡100æ¬¡
- â° å…¥é—¨ç–—æ„ˆ: 1å°æ—¶
- â­ ç–—æ„ˆçˆ±å¥½è€…: 10å°æ—¶
- ğŸ† ç–—æ„ˆä¸“å®¶: 50å°æ—¶
- ğŸ”¥ 7å¤©åšæŒ: è¿ç»­7å¤©
- ğŸ’ æ”¶è—å®¶: æ”¶è—10ä¸ª
- ğŸ—ºï¸ æ¢ç´¢è€…: å¬å®Œæ‰€æœ‰åˆ†ç±»

---

## ğŸš€ æœªæ¥æ‰©å±•

### è®¡åˆ’åŠŸèƒ½

1. **æ›´å¤šå›¾è¡¨ç±»å‹** ğŸ¯
   - é›·è¾¾å›¾ (å¤šç»´åº¦åˆ†æ)
   - çƒ­åŠ›å›¾ (æ—¶é—´åˆ†å¸ƒ)
   - æ°”æ³¡å›¾ (åˆ†ç±»å¯¹æ¯”)
   - æ ‘çŠ¶å›¾ (å±‚çº§å…³ç³»)

2. **é«˜çº§åˆ†æ** ğŸ“ˆ
   - æ”¶å¬æ—¶é—´æ®µåˆ†æ (æ—©ä¸­æ™šåˆ†å¸ƒ)
   - å­£èŠ‚æ€§è¶‹åŠ¿åˆ†æ
   - å‘¨æœ«vså·¥ä½œæ—¥å¯¹æ¯”
   - éŸ³é¢‘æ—¶é•¿åå¥½

3. **ä¸ªæ€§åŒ–æŠ¥å‘Š** ğŸ“„
   - å‘¨æŠ¥/æœˆæŠ¥è‡ªåŠ¨ç”Ÿæˆ
   - PDFå¯¼å‡ºå®Œæ•´æŠ¥å‘Š
   - é‚®ä»¶å®šæœŸå‘é€ç»Ÿè®¡

4. **ç¤¾äº¤åˆ†äº«** ğŸŒ
   - åˆ†äº«ç»Ÿè®¡å›¾è¡¨åˆ°ç¤¾äº¤åª’ä½“
   - ç”Ÿæˆç²¾ç¾åˆ†äº«å¡ç‰‡
   - å¥½å‹å¯¹æ¯”åŠŸèƒ½

5. **AIæ´å¯Ÿ** ğŸ¤–
   - åŸºäºæ•°æ®çš„æ™ºèƒ½æ¨è
   - æ”¶å¬ä¹ æƒ¯åˆ†ææŠ¥å‘Š
   - ä¸ªæ€§åŒ–ç–—æ„ˆå»ºè®®

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å›¾è¡¨ä¸æ˜¾ç¤º?
**A**: æ£€æŸ¥ä»¥ä¸‹é¡¹:
1. ChartVisualizeræ˜¯å¦åŠ è½½
2. Canvaså…ƒç´ IDæ˜¯å¦æ­£ç¡®
3. æ˜¯å¦æœ‰ç»Ÿè®¡æ•°æ®

**è¯Šæ–­**:
```javascript
console.log('ChartVisualizer:', window.chartVisualizer);
console.log('Canvas:', document.getElementById('categoryPieChart'));
console.log('Stats:', window.userDataManager.getStatistics());
```

### Q2: å›¾è¡¨æ¨¡ç³Š?
**A**: Canvasåˆ†è¾¨ç‡é—®é¢˜

**è§£å†³**:
```javascript
// è®¾ç½®é«˜åˆ†è¾¨ç‡
const dpr = window.devicePixelRatio || 1;
canvas.width = 300 * dpr;
canvas.height = 300 * dpr;
ctx.scale(dpr, dpr);
```

### Q3: å¯¼å‡ºå›¾è¡¨å¤±è´¥?
**A**: æ£€æŸ¥æµè§ˆå™¨æƒé™å’ŒCanvasæ±¡æŸ“

**è§£å†³**:
```javascript
// ç¡®ä¿crossOriginè®¾ç½®æ­£ç¡®
const img = new Image();
img.crossOrigin = 'anonymous';
img.src = audioUrl;
```

### Q4: å›¾ä¾‹æ–‡æœ¬è¢«æˆªæ–­?
**A**: CanvasåŒºåŸŸä¸è¶³

**è§£å†³**:
```javascript
// å¢åŠ Canvaså®½åº¦æˆ–ç¼©çŸ­æ ‡ç­¾
const label = item.label.length > 12
    ? item.label.substring(0, 10) + '...'
    : item.label;
```

---

## ğŸ“ å¼€å‘è€…API

### åˆ›å»ºè‡ªå®šä¹‰å›¾è¡¨

```javascript
// 1. å‡†å¤‡æ•°æ®
const myData = [
    { label: 'A', value: 30 },
    { label: 'B', value: 50 },
    { label: 'C', value: 20 }
];

// 2. åˆ›å»ºCanvas
const canvas = document.createElement('canvas');
canvas.id = 'myChart';
canvas.width = 400;
canvas.height = 300;
document.body.appendChild(canvas);

// 3. ç»˜åˆ¶å›¾è¡¨
chartVisualizer.createBarChart('myChart', myData, {
    title: 'æˆ‘çš„ç»Ÿè®¡',
    colors: ['#FF6B9D', '#4D96FF', '#6BCB77']
});
```

### æ‰©å±•ChartVisualizer

```javascript
// æ·»åŠ æ–°å›¾è¡¨ç±»å‹
ChartVisualizer.prototype.createRadarChart = function(canvasId, data, options) {
    const canvas = document.getElementById(canvasId);
    const ctx = canvas.getContext('2d');

    // è‡ªå®šä¹‰ç»˜å›¾é€»è¾‘
    // ...
};
```

### ç›‘å¬å›¾è¡¨äº‹ä»¶

```javascript
// å›¾è¡¨æ¸²æŸ“å®Œæˆäº‹ä»¶
window.addEventListener('chartRendered', (e) => {
    console.log('å›¾è¡¨å·²æ¸²æŸ“:', e.detail);
});

// åœ¨ChartVisualizerä¸­è§¦å‘
createPieChart(canvasId, data) {
    // ... ç»˜å›¾é€»è¾‘

    window.dispatchEvent(new CustomEvent('chartRendered', {
        detail: { type: 'pie', canvasId, dataCount: data.length }
    }));
}
```

---

## âœ… æ€»ç»“

### æ ¸å¿ƒä¼˜åŠ¿
1. âœ… **å¯è§†åŒ–ç›´è§‚** - é¥¼å›¾/æŠ˜çº¿å›¾/æŸ±çŠ¶å›¾/ç¯å½¢å›¾
2. âœ… **æ€§èƒ½ä¼˜å¼‚** - Canvasé«˜æ•ˆç»˜åˆ¶,<50msæ¸²æŸ“
3. âœ… **ä¸»é¢˜é€‚é…** - æ·±è‰²/æµ…è‰²ä¸»é¢˜å®Œç¾æ”¯æŒ
4. âœ… **å“åº”å¼è®¾è®¡** - æ¡Œé¢/ç§»åŠ¨ç«¯è‡ªé€‚åº”
5. âœ… **å¯¼å‡ºåŠŸèƒ½** - PNGå›¾ç‰‡å¯¼å‡º

### ç”¨æˆ·ä»·å€¼
- ğŸ“Š æ¸…æ™°äº†è§£æ”¶å¬ä¹ æƒ¯
- ğŸ“ˆ è¿½è¸ªä½¿ç”¨è¶‹åŠ¿å˜åŒ–
- ğŸ¯ è®¾å®šä¸ªäººæ”¶å¬ç›®æ ‡
- ğŸ† è§£é”æˆå°±è·å¾—æ¿€åŠ±
- ğŸ’¾ å¯¼å‡ºåˆ†äº«ç»Ÿè®¡æˆæœ

### æŠ€æœ¯äº®ç‚¹
- çº¯JavaScript Canvasç»˜å›¾,æ— ç¬¬ä¸‰æ–¹åº“ä¾èµ–
- 12è‰²è‡ªåŠ¨é…è‰²ç³»ç»Ÿ
- æ™ºèƒ½æ ‡ç­¾å¸ƒå±€å’Œæ–‡æœ¬æˆªæ–­
- æ¸å˜è‰²å¡«å……å’Œè¾¹æ¡†æ•ˆæœ
- ä¸»é¢˜æ„ŸçŸ¥çš„é…è‰²æ–¹æ¡ˆ

---

**ä½œè€…**: Sound Healing Team
**ç‰ˆæœ¬**: 2.0.0
**æœ€åæ›´æ–°**: 2025-10-11
**æ–‡ä»¶**: chart-visualizer.js, stats-dashboard.js
