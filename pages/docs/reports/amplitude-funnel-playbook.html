<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amplitude 漏斗分析手册 | 文档资源中心</title>
    <meta name="description" content="记录如何在 Amplitude 中构建并维护内容转化漏斗，以及团队的例行复盘节奏。">
    <link rel="stylesheet" href="../../assets/css/resources.css">
</head>
<body>
    <div class="resources-wrapper">
        <a class="back-link" href="../index.html">← 返回文档中心</a>
        <section class="resources-hero">
            <span class="resource-category">数据报告</span>
            <h1>Amplitude 漏斗分析手册</h1>
            <p class="hero-desc">记录如何在 Amplitude 中构建并维护内容转化漏斗，以及团队的例行复盘节奏。</p>
            <p class="doc-updated">最后更新：2025-10-13</p>
            <div class="doc-tags"><span>analytics</span><span>funnel</span><span>amplitude</span></div>
        </section>
        <section class="resource-content">
<h1>Amplitude Funnel Playbook</h1>
<h2>Goal</h2>
<p>Track how each resource category contributes to conversions so the content team can double down on the formats that lead to demo requests or email sign-ups.</p>
<h2>Instrumentation Summary</h2>
<p>The site now emits the following structured events (via Google Analytics and Amplitude):</p>
<table>
<thead>
<tr>
<th>Event</th>
<th>Trigger</th>
<th>Key Properties</th>
</tr>
</thead>
<tbody><tr>
<td><code>content_detail_click</code></td>
<td>A visitor clicks into any resource card on <code>/pages/resources/index.html</code></td>
<td><code>content_category</code>, <code>content_category_name</code>, <code>content_type</code>, <code>slug</code>, <code>title</code>, <code>tag</code>, <code>position</code>, <code>source</code>, <code>stage</code> (defaults to <code>discover</code>)</td>
</tr>
<tr>
<td><code>content_cta_click</code></td>
<td>Click on hero CTA buttons, footer CTAs, or “view all” links on the resources hub</td>
<td><code>category</code> (<code>hero</code>, <code>footer</code>, or section id), <code>content_category</code>, <code>ctaId</code>, <code>stage</code>, <code>source</code></td>
</tr>
<tr>
<td><code>content_subscribe_submit</code></td>
<td>Visitor submits the resources email form</td>
<td><code>content_category</code>, <code>source</code>, <code>stage</code>, <code>email_domain</code>, <code>ctaId</code>, <code>form_id</code>, <code>funnel_step</code></td>
</tr>
<tr>
<td><code>resources_subscribe_success</code> / <code>resources_subscribe_error</code></td>
<td>CRM webhook succeeds or fails when subscribing via the resources form</td>
<td><code>crm_status</code>, <code>error_message</code> (optional), <code>email_domain</code>, <code>form_id</code>, <code>source</code></td>
</tr>
<tr>
<td><code>resources_subscribe_automation_success</code> / <code>resources_subscribe_automation_error</code></td>
<td>Email automation provider returns success/failure for resources form</td>
<td><code>automation_status</code>, <code>error_message</code> (optional), <code>email_domain</code>, <code>form_id</code>, <code>source</code></td>
</tr>
<tr>
<td><code>plan_submit</code></td>
<td>Homepage “领取定制计划”表单提交</td>
<td><code>name</code>, <code>email</code>, <code>goal</code>, <code>time</code>, <code>form_id</code>, <code>funnel_step</code>, <code>source</code></td>
</tr>
<tr>
<td><code>plan_submit_success</code> / <code>plan_submit_error</code></td>
<td>CRM webhook成功或失败后回调</td>
<td><code>crm_status</code>, <code>goal</code>, <code>error_message</code> (optional), <code>form_id</code>, <code>source</code></td>
</tr>
<tr>
<td><code>plan_automation_success</code> / <code>plan_automation_error</code></td>
<td>Email automation事件投递结果</td>
<td><code>automation_status</code>, <code>error_message</code> (optional), <code>form_id</code>, <code>source</code>, <code>goal</code></td>
</tr>
<tr>
<td><code>content_conversion</code></td>
<td>Fired together with GA <code>conversion</code> event when a CTA is considered a conversion (currently the resources subscribe form)</td>
<td>Inherits properties from <code>trackConversion</code>, including <code>conversion_type</code>, <code>content_stage</code>, <code>source</code>, <code>email_domain</code>, <code>cta_id</code>, <code>crm_status</code></td>
</tr>
<tr>
<td><code>scroll_depth</code></td>
<td>用户滚动超过 25/50/75/90/100%</td>
<td><code>percentage</code>, <code>path</code></td>
</tr>
<tr>
<td><code>video_play</code> / <code>video_progress</code> / <code>video_complete</code></td>
<td>页面内 <code>&lt;video&gt;</code> 元素播放、达到 25/50/75/95% 和播放完毕</td>
<td><code>video_id</code>, <code>video_title</code>, <code>percentage</code>, <code>duration</code>, <code>current_time</code>, <code>path</code></td>
</tr>
</tbody></table>
<blockquote>
<p>All events include the helper property <code>event_source = web</code> and inherit the optional ingestion metadata defined in <code>assets/js/analytics-config.js</code>.</p>
</blockquote>
<h2>Configuration Steps</h2>
<ol>
<li><strong>Amplitude API Key</strong>: open <code>assets/js/analytics-config.js</code> and populate <code>amplitudeApiKey</code> with the project’s API key. Deploy the change so the browser SDK can initialize.</li>
<li><strong>Verify Tracking</strong>: load the resources hub with <code>?analytics_debug=1</code> to确认 <code>scroll_depth</code>、<code>video_*</code>、<code>resources_subscribe</code>、<code>plan_submit</code> 等事件被送入 <code>dataLayer</code> 与 Amplitude Live View。</li>
<li><strong>CRM Endpoints</strong>: 在 <code>assets/js/config.js</code> 中配置 <code>subscribeEndpoint</code> 与 <code>planEndpoint</code> 指向 CRM Webhook，前端会在成功/失败时推送 <code>*_success</code>、<code>*_error</code> 事件。</li>
<li><strong>Email Automation</strong>: 为 <code>SITE_CONFIG.emailAutomation</code> 填写 <code>endpoint</code>、<code>listId</code>、<code>apiKey</code> 等信息，使 <code>window.emailAutomation.subscribe/emitEvent</code> 能把资源订阅与计划表单写入营销自动化平台。</li>
<li><strong>Default Tracking</strong>: the SDK automatically records sessions and page views. Update <code>amplitudeOptions.defaultTracking</code> if you want to include file downloads or remove form tracking.</li>
</ol>
<h2>Building the Funnel in Amplitude</h2>
<ol>
<li>Create a new Funnel chart.</li>
<li>Add the steps:<ul>
<li><strong>Step 1</strong> <code>content_detail_click</code> (filter <code>source = resources-index</code>).</li>
<li><strong>Step 2</strong> <code>content_cta_click</code> (filter <code>stage = consideration</code>).</li>
<li><strong>Step 3</strong> <code>plan_submit</code> 或 <code>content_subscribe_submit</code>（根据希望追踪的转化类型，可拆成两个漏斗）。为确保成功率分析，再补充一个虚拟步骤 <code>plan_submit_success</code> / <code>resources_subscribe_success</code>，并在“Completion”里比较 <code>crm_status = success</code> 的完成率。</li>
</ul>
</li>
<li>Use the “Breakdown” panel to split the funnel by <code>content_category_name</code> or <code>content_type</code>，并叠加 <code>crm_status</code> 判断是否因为接口失败导致流失。</li>
<li>Save the chart to a dashboard named <strong>“Content Conversion Funnel”</strong>.</li>
<li>Configure a weekly recurring email from that dashboard to the content/marketing stakeholders (Amplitude → More → Send via Email). This satisfies the “定期查看” requirement.</li>
</ol>
<h2>Dashboard Recommendations</h2>
<ul>
<li><strong>内容表现看板</strong>：包含柱状图对比 <code>content_cta_click</code> 按 <code>content_category_name</code> 的数量，以及折线图跟踪 <code>scroll_depth</code> 75% 以上的周趋势。</li>
<li><strong>线索质量看板</strong>：使用漏斗组件展示 <code>plan_submit → plan_submit_success</code>，再加表格统计 <code>goal</code> 字段与 <code>crm_status</code>。</li>
<li><strong>互动行为看板</strong>：结合 <code>video_play</code>、<code>video_progress</code>、<code>video_complete</code> 观察视频留存，辅以 <code>resources_subscribe_automation_success</code> 监控邮件自动化健康度。</li>
<li>建议在 Amplitude 中为上述看板配置 “Send via Email → Weekly” 报告，覆盖内容、市场与产品团队。</li>
</ul>
<h2>Operating Cadence</h2>
<ul>
<li><strong>Weekly</strong>: review funnel conversion rates and click-through from Step 1 to Step 3. Annotate major content launches in the dashboard to correlate lifts.</li>
<li><strong>Monthly</strong>: export the chart CSV and share insights in the team retro. Prioritise the top two converting categories for new production.</li>
<li><strong>Quarterly</strong>: revisit the <code>trackConversion</code> call if additional conversion points (e.g., demo bookings or resource downloads) should be counted.</li>
</ul>
<h2>Next Extensions</h2>
<ul>
<li>Instrument resource detail pages with their own <code>content_cta_click</code> events once those pages host specific CTAs.</li>
<li>Map Amplitude user IDs to CRM records by setting <code>setUserId</code> after authentication (if a login flow is introduced).</li>
<li>Layer cohorts (new vs returning visitors) in the funnel breakdown to understand how loyalty impacts conversions.</li>
</ul>

        </section>
    </div>
</body>
</html>