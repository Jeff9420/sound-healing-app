<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- SEO Meta Tags -->
    <title>SoundFlows - Free Sleep Sounds with Smart Timer | 213+ Healing Sounds</title>
    <meta name="description" content="Free sound healing app with 213+ meditation music and rain sounds. Smart 60-min sleep timer with gentle fade-out. No signup, 100% free forever. Start sleeping better tonight.">
    <meta name="keywords" content="sleep sounds, meditation music, rain sounds, sleep timer, white noise, healing sounds, free meditation app">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://soundflows.app/saas-landing.html">
    <meta property="og:title" content="SoundFlows - Free Sleep Sounds with Smart Timer">
    <meta property="og:description" content="213+ free healing sounds with smart 60-min sleep timer. Gentle fade-out, no wake-ups. 100% free forever.">
    <meta property="og:image" content="https://soundflows.app/assets/images/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://soundflows.app/saas-landing.html">
    <meta property="twitter:title" content="SoundFlows - Free Sleep Sounds with Smart Timer">
    <meta property="twitter:description" content="213+ free healing sounds with smart 60-min sleep timer. Gentle fade-out, no wake-ups. 100% free forever.">
    <meta property="twitter:image" content="https://soundflows.app/assets/images/twitter-image.jpg">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/main.css">

    <!-- SaaS Component Styles -->
    <link rel="stylesheet" href="assets/css/saas-hero.css">
    <link rel="stylesheet" href="assets/css/saas-benefits.css">
    <link rel="stylesheet" href="assets/css/saas-features.css">
    <link rel="stylesheet" href="assets/css/saas-how-it-works.css">
    <link rel="stylesheet" href="assets/css/saas-social-proof.css">
    <link rel="stylesheet" href="assets/css/saas-pricing.css">
    <link rel="stylesheet" href="assets/css/saas-faq.css">
    <link rel="stylesheet" href="assets/css/saas-footer.css">

    <!-- Global Styles -->
    <style>
        :root {
            --color-bg-dark: #0b0704;
            --color-text-light: #fdf3e5;
            --color-primary: #6666ff;
            --color-accent: #f6a93b;
            --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            /* CRITICAL: Ensure html can scroll */
            height: auto !important;
            overflow: visible !important;
            overflow-y: auto !important;
        }

        body {
            font-family: var(--font-body);
            background: var(--color-bg-dark);
            color: var(--color-text-light);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            /* CRITICAL: Override main.css line 1133 which sets overflow:hidden */
            height: auto !important;
            min-height: 100vh !important;
            overflow: visible !important;
            overflow-y: auto !important;
        }

        /* Loading Indicator */
        .page-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-bg-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .page-loading.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            display: none;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(102, 102, 255, 0.3);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Smooth Scroll Padding */
        section {
            scroll-margin-top: 80px;
        }

        /* CRITICAL: Ensure all buttons and links are clickable */
        button, a, .saas-btn, [data-cta], [role="button"] {
            pointer-events: auto !important;
            cursor: pointer !important;
        }

        /* Ensure main content is above any fixed elements */
        main, #mainContent {
            position: relative !important;
            z-index: 1 !important;
            pointer-events: auto !important;
        }
    </style>
</head>
<body>
    <!-- Loading Indicator -->
    <div class="page-loading" id="pageLoading">
        <div class="loading-spinner"></div>
    </div>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Hero Section -->
        <div id="heroSectionContainer"></div>

        <!-- Benefits Section -->
        <div id="benefitsSectionContainer"></div>

        <!-- Features Section -->
        <div id="featuresSectionContainer"></div>

        <!-- How It Works Section -->
        <div id="howItWorksSectionContainer"></div>

        <!-- Social Proof Section -->
        <div id="socialProofSectionContainer"></div>

        <!-- Pricing Section -->
        <div id="pricingSectionContainer"></div>

        <!-- FAQ Section -->
        <div id="faqSectionContainer"></div>

        <!-- Footer -->
        <div id="footerContainer"></div>
    </main>

    <!-- i18n System Scripts (in correct order) -->
    <script src="assets/js/i18n-system.js"></script>
    <script src="assets/js/i18n-translations-addon.js"></script>
    <script src="assets/js/i18n-saas-extensions.js"></script>
    <script src="assets/js/i18n-saas-complete-translations.js"></script>
    <script src="assets/js/i18n-saas-integrator.js"></script>

    <!-- Component Loader Script -->
    <script>
        /**
         * Load and inject HTML components dynamically
         * This approach keeps components modular while creating a single-page experience
         */
        (function() {
            'use strict';

            console.log('üöÄ Starting SaaS Landing Page initialization...');

            // Component configuration
            const components = [
                { id: 'heroSectionContainer', file: 'components/saas-hero-section.html' },
                { id: 'benefitsSectionContainer', file: 'components/saas-benefits-section.html' },
                { id: 'featuresSectionContainer', file: 'components/saas-features-section.html' },
                { id: 'howItWorksSectionContainer', file: 'components/saas-how-it-works-section.html' },
                { id: 'socialProofSectionContainer', file: 'components/saas-social-proof-section.html' },
                { id: 'pricingSectionContainer', file: 'components/saas-pricing-section.html' },
                { id: 'faqSectionContainer', file: 'components/saas-faq-section.html' },
                { id: 'footerContainer', file: 'components/saas-footer.html' }
            ];

            // Load component HTML
            async function loadComponent(component) {
                try {
                    const response = await fetch(component.file);
                    if (!response.ok) {
                        throw new Error(`Failed to load ${component.file}: ${response.status}`);
                    }
                    const html = await response.text();
                    const container = document.getElementById(component.id);
                    if (container) {
                        container.innerHTML = html;
                        console.log(`‚úÖ Loaded: ${component.file}`);
                    } else {
                        console.warn(`‚ö†Ô∏è Container not found: ${component.id}`);
                    }
                } catch (error) {
                    console.error(`‚ùå Error loading ${component.file}:`, error);

                    // Show user-friendly error message
                    const container = document.getElementById(component.id);
                    if (container && error.message.includes('Failed to fetch')) {
                        container.innerHTML = `
                            <div style="background: rgba(239, 68, 68, 0.1); border: 2px solid #ef4444; border-radius: 12px; padding: 2rem; margin: 2rem; text-align: center;">
                                <h2 style="color: #ef4444; margin-bottom: 1rem;">‚ö†Ô∏è ÁªÑ‰ª∂Âä†ËΩΩÂ§±Ë¥•</h2>
                                <p style="color: #fdf3e5; margin-bottom: 1rem;">Ê≠§È°µÈù¢ÈúÄË¶ÅÈÄöËøá HTTP ÊúçÂä°Âô®ËÆøÈóÆÔºå‰∏çËÉΩÁõ¥Êé•ÊâìÂºÄHTMLÊñá‰ª∂„ÄÇ</p>
                                <p style="color: rgba(253, 243, 229, 0.7); font-size: 0.9rem; margin-bottom: 1.5rem;">
                                    ÂéüÂõ†ÔºöÊµèËßàÂô®ÂÆâÂÖ®Á≠ñÁï•ÈòªÊ≠¢‰∫Ü‰ªé file:// ÂçèËÆÆÂä†ËΩΩÊú¨Âú∞Êñá‰ª∂„ÄÇ
                                </p>
                                <div style="background: rgba(11, 7, 4, 0.8); border-radius: 8px; padding: 1rem; margin: 1rem 0; text-align: left;">
                                    <p style="color: #6666ff; font-weight: bold; margin-bottom: 0.5rem;">Ëß£ÂÜ≥ÊñπÊ≥ïÔºö</p>
                                    <pre style="color: #a3e635; margin: 0;">python -m http.server 8000</pre>
                                    <p style="color: rgba(253, 243, 229, 0.7); margin-top: 0.5rem;">ÁÑ∂ÂêéËÆøÈóÆ: http://localhost:8000/saas-landing.html</p>
                                </div>
                            </div>
                        `;
                    }
                }
            }

            // Load all components
            async function loadAllComponents() {
                console.log('üì¶ Loading components...');
                const loadPromises = components.map(comp => loadComponent(comp));
                await Promise.all(loadPromises);
                console.log('‚úÖ All components loaded!');
                return true;
            }

            // Initialize page
            async function initializePage() {
                try {
                    // Load components
                    await loadAllComponents();

                    // Wait for i18n to be ready
                    await waitForI18n();

                    // Initialize interactive features
                    initializeInteractivity();

                    // Hide loading indicator
                    hideLoadingIndicator();

                    console.log('üéâ SaaS Landing Page ready!');
                } catch (error) {
                    console.error('‚ùå Page initialization error:', error);
                    hideLoadingIndicator();
                }
            }

            // Wait for i18n system to be ready
            function waitForI18n() {
                return new Promise((resolve) => {
                    if (typeof window.i18n !== 'undefined') {
                        console.log('‚úÖ i18n system ready');
                        resolve();
                        return;
                    }

                    // Listen for i18n ready events
                    const checkInterval = setInterval(() => {
                        if (typeof window.i18n !== 'undefined') {
                            clearInterval(checkInterval);
                            console.log('‚úÖ i18n system ready');
                            resolve();
                        }
                    }, 100);

                    // Fallback timeout
                    setTimeout(() => {
                        clearInterval(checkInterval);
                        console.warn('‚ö†Ô∏è i18n system timeout - proceeding anyway');
                        resolve();
                    }, 5000);
                });
            }

            // Initialize interactive features
            function initializeInteractivity() {
                // Smooth scroll for anchor links
                document.addEventListener('click', function(e) {
                    const target = e.target.closest('a[href^="#"]');
                    if (target) {
                        e.preventDefault();
                        const id = target.getAttribute('href').slice(1);
                        const element = document.getElementById(id);
                        if (element) {
                            element.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });

                // FAQ accordion functionality
                initializeFAQAccordion();

                // Lazy load animations (fade in on scroll)
                initializeScrollAnimations();

                // CTA button tracking
                initializeCTATracking();

                console.log('‚úÖ Interactive features initialized');
            }

            // FAQ Accordion
            function initializeFAQAccordion() {
                // Wait a bit for FAQ component to load
                setTimeout(() => {
                    const faqItems = document.querySelectorAll('.faq-item__question');
                    faqItems.forEach(question => {
                        question.addEventListener('click', function() {
                            const item = this.closest('.faq-item');
                            const wasActive = item.classList.contains('active');

                            // Close all items
                            document.querySelectorAll('.faq-item').forEach(i => {
                                i.classList.remove('active');
                            });

                            // Open clicked item if it wasn't active
                            if (!wasActive) {
                                item.classList.add('active');
                            }
                        });
                    });
                    console.log('‚úÖ FAQ accordion initialized');
                }, 1000);
            }

            // Scroll animations - DISABLED for debugging
            function initializeScrollAnimations() {
                // TEMPORARILY DISABLED - This was causing content to be invisible
                // The opacity: 0 setting was preventing content from showing

                console.log('‚ö†Ô∏è Scroll animations temporarily disabled for debugging');
                console.log('‚úÖ All content will be visible immediately');

                // Make sure all sections are visible
                setTimeout(() => {
                    const sections = document.querySelectorAll('section[class*="saas-"]');
                    sections.forEach(section => {
                        section.style.opacity = '1';
                        section.style.transform = 'translateY(0)';
                    });
                    console.log(`‚úÖ Made ${sections.length} sections visible`);
                }, 500);
            }

            // CTA button tracking
            function initializeCTATracking() {
                // Global click handler for all elements
                document.addEventListener('click', function(e) {
                    console.log('üñ±Ô∏è Click detected on:', e.target.tagName, e.target.className);

                    const cta = e.target.closest('[data-cta]');
                    if (cta) {
                        e.preventDefault(); // Prevent default action
                        const ctaName = cta.getAttribute('data-cta');
                        const action = cta.getAttribute('data-action');
                        console.log('üéØ CTA clicked:', ctaName, 'action:', action);

                        // Handle specific CTA actions
                        handleCTAAction(cta);
                    }

                    // Also handle regular links
                    const link = e.target.closest('a[href]');
                    if (link && !cta) {
                        const href = link.getAttribute('href');
                        console.log('üîó Link clicked:', href);
                        // Let the link work normally if it's not a CTA
                    }

                    // Handle buttons without data-cta
                    const button = e.target.closest('button');
                    if (button && !cta) {
                        console.log('üîò Button clicked (no data-cta)');
                    }
                }, true); // Use capture phase to catch all clicks
            }

            // Handle CTA actions
            function handleCTAAction(cta) {
                const action = cta.getAttribute('data-action');

                switch(action) {
                    case 'start-default-session':
                        // Redirect to main app with default session
                        window.location.href = 'index.html?category=rain&timer=60';
                        break;
                    case 'browse-sounds':
                        // Scroll to features or redirect to sound library
                        window.location.href = 'index.html#sound-library';
                        break;
                    case 'view-pricing':
                        // Scroll to pricing section
                        document.getElementById('pricingSection')?.scrollIntoView({ behavior: 'smooth' });
                        break;
                    default:
                        console.log('Unhandled CTA action:', action);
                }
            }

            // Hide loading indicator
            function hideLoadingIndicator() {
                const loading = document.getElementById('pageLoading');
                if (loading) {
                    loading.classList.add('hidden');
                    setTimeout(() => {
                        loading.style.display = 'none';
                    }, 300);
                }
            }

            // Start initialization when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializePage);
            } else {
                initializePage();
            }

        })();
    </script>

    <!-- Analytics (Add your tracking codes here) -->
    <!-- Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR-GA-ID"></script> -->
    <!-- <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR-GA-ID');
    </script> -->

</body>
</html>
