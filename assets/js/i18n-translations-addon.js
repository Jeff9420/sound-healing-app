/**
 * i18n Translation Add-ons
 * Cookie consent, Social sharing, and other missing translations
 * This file extends the base i18n system with additional translations
 */

// Wait for i18n system to be ready
document.addEventListener('DOMContentLoaded', () => {
    if (window.i18n) {
        // Add Cookie consent translations
        const cookieTranslations = {
            'zh-CN': {
                'cookie.title': '🍪 Cookie 偏好设置',
                'cookie.description': '我们使用 Cookie 来增强您的体验并分析网站流量。点击"接受全部"，即表示您同意我们使用 Cookie。',
                'cookie.acceptAll': '接受全部',
                'cookie.acceptAllDesc': '启用分析功能以获得更好的体验',
                'cookie.necessaryOnly': '仅必要',
                'cookie.necessaryOnlyDesc': '仅使用必要的 Cookie',
                'cookie.denyAll': '拒绝全部',
                'cookie.denyAllDesc': '除必要 Cookie 外不使用其他 Cookie',
                'cookie.preferences': '偏好设置',
                'cookie.acceptSelected': '接受选中',
                'cookie.privacyPolicy': '隐私政策',

                // Social sharing
                'share.title': '分享到社交媒体',
                'share.facebook': '分享到 Facebook',
                'share.twitter': '分享到 Twitter',
                'share.linkedin': '分享到 LinkedIn',
                'share.whatsapp': '分享到 WhatsApp',
                'share.email': '通过邮件分享',
                'share.copyLink': '复制链接',
                'share.linkCopied': '链接已复制到剪贴板',
                'share.close': '关闭',

                // GDPR/CCPA compliance
                'compliance.gdpr': '符合GDPR规定',
                'compliance.ccpa': '符合CCPA规定',
                'compliance.dataRights': '数据权利请求',
                'compliance.deleteData': '删除我的数据',
                'compliance.exportData': '导出我的数据',
                'compliance.optOut': '选择退出',

                // Authentication Dialog
                'auth.title': '登录 / 注册',
                'auth.login': '登录',
                'auth.signup': '注册',
                'auth.reset': '重置密码',
                'auth.email': '邮箱地址',
                'auth.emailPlaceholder': '请输入邮箱',
                'auth.password': '密码',
                'auth.passwordPlaceholder': '请输入密码',
                'auth.displayName': '显示名称',
                'auth.displayNamePlaceholder': '请输入您的昵称',
                'auth.loginButton': '登录',
                'auth.signupButton': '注册',
                'auth.googleLogin': '使用 Google 登录',
                'auth.anonymousLogin': '匿名登录',
                'auth.guestHint': '也可以先匿名体验，大部分功能随时再绑定邮箱。',
                'auth.guestCta': '先匿名体验',
                'auth.resetButton': '发送重置邮件',
                'auth.close': '×',
                'auth.filledEmail': '请填写邮箱和密码',
                'auth.passwordMinLength': '密码至少需要6位字符',
                'auth.resetEmailSent': '密码重置邮件已发送，请检查您的邮箱',

                // Statistics Dashboard
                'stats.title': '收听统计',
                'stats.totalPlays': '总播放次数',
                'stats.totalTime': '累计收听时长',
                'stats.favorites': '收藏数量',
                'stats.avgPerDay': '日均播放',
                'stats.topCategories': '最常听的分类',
                'stats.last7Days': '最近7天',
                'stats.achievements': '成就系统',
                'stats.visualAnalysis': '可视化分析',
                'stats.categoryDistribution': '分类占比',
                'stats.trendAnalysis': '趋势分析',
                'stats.noData': '暂无分类数据',
                'stats.plays': '次',

                // Achievements
                'achievement.first_play.name': '初次体验',
                'achievement.first_play.desc': '播放第一首音频',
                'achievement.play_10.name': '音乐爱好者',
                'achievement.play_10.desc': '累计播放10次',
                'achievement.play_50.name': '疗愈达人',
                'achievement.play_50.desc': '累计播放50次',
                'achievement.play_100.name': '声音大师',
                'achievement.play_100.desc': '累计播放100次',
                'achievement.hour_1.name': '入门疗愈',
                'achievement.hour_1.desc': '累计收听1小时',
                'achievement.hour_10.name': '疗愈爱好者',
                'achievement.hour_10.desc': '累计收听10小时',
                'achievement.hour_50.name': '疗愈专家',
                'achievement.hour_50.desc': '累计收听50小时',
                'achievement.daily_streak_7.name': '7天坚持',
                'achievement.daily_streak_7.desc': '连续7天收听',
                'achievement.favorite_10.name': '收藏家',
                'achievement.favorite_10.desc': '收藏10个音频',
                'achievement.explorer.name': '探索者',
                'achievement.explorer.desc': '收听所有分类',
            },

            'en-US': {
                'cookie.title': '🍪 Cookie Preferences',
                'cookie.description': 'We use cookies to enhance your experience and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',
                'cookie.acceptAll': 'Accept All',
                'cookie.acceptAllDesc': 'Enables analytics for better experience',
                'cookie.necessaryOnly': 'Necessary Only',
                'cookie.necessaryOnlyDesc': 'Essential cookies only',
                'cookie.denyAll': 'Deny All',
                'cookie.denyAllDesc': 'No cookies except essentials',
                'cookie.preferences': 'Preferences',
                'cookie.acceptSelected': 'Accept Selected',
                'cookie.privacyPolicy': 'Privacy Policy',

                // Social sharing
                'share.title': 'Share to Social Media',
                'share.facebook': 'Share on Facebook',
                'share.twitter': 'Share on Twitter',
                'share.linkedin': 'Share on LinkedIn',
                'share.whatsapp': 'Share on WhatsApp',
                'share.email': 'Share via Email',
                'share.copyLink': 'Copy Link',
                'share.linkCopied': 'Link copied to clipboard',
                'share.close': 'Close',

                // GDPR/CCPA compliance
                'compliance.gdpr': 'GDPR Compliant',
                'compliance.ccpa': 'CCPA Compliant',
                'compliance.dataRights': 'Data Rights Request',
                'compliance.deleteData': 'Delete My Data',
                'compliance.exportData': 'Export My Data',
                'compliance.optOut': 'Opt Out',

                // Authentication Dialog
                'auth.title': 'Login / Register',
                'auth.login': 'Login',
                'auth.signup': 'Register',
                'auth.reset': 'Reset Password',
                'auth.email': 'Email Address',
                'auth.emailPlaceholder': 'Enter your email',
                'auth.password': 'Password',
                'auth.passwordPlaceholder': 'Enter your password',
                'auth.displayName': 'Display Name',
                'auth.displayNamePlaceholder': 'Enter your nickname',
                'auth.loginButton': 'Login',
                'auth.signupButton': 'Register',
                'auth.googleLogin': 'Sign in with Google',
                'auth.anonymousLogin': 'Anonymous Login',
                'auth.guestHint': 'You can explore most features as a guest and link your email later.',
                'auth.guestCta': 'Continue as guest',
                'auth.resetButton': 'Send Reset Email',
                'auth.close': '×',
                'auth.filledEmail': 'Please fill in email and password',
                'auth.passwordMinLength': 'Password must be at least 6 characters',
                'auth.resetEmailSent': 'Password reset email has been sent, please check your email',

                // Statistics Dashboard
                'stats.title': 'Listening Statistics',
                'stats.totalPlays': 'Total Plays',
                'stats.totalTime': 'Total Listening Time',
                'stats.favorites': 'Favorites',
                'stats.avgPerDay': 'Daily Average',
                'stats.topCategories': 'Top Categories',
                'stats.last7Days': 'Last 7 Days',
                'stats.achievements': 'Achievements',
                'stats.visualAnalysis': 'Visual Analysis',
                'stats.categoryDistribution': 'Category Distribution',
                'stats.trendAnalysis': 'Trend Analysis',
                'stats.noData': 'No category data yet',
                'stats.plays': 'plays',

                // Achievements
                'achievement.first_play.name': 'First Experience',
                'achievement.first_play.desc': 'Played first audio',
                'achievement.play_10.name': 'Music Lover',
                'achievement.play_10.desc': 'Total 10 plays',
                'achievement.play_50.name': 'Healing Enthusiast',
                'achievement.play_50.desc': 'Total 50 plays',
                'achievement.play_100.name': 'Sound Master',
                'achievement.play_100.desc': 'Total 100 plays',
                'achievement.hour_1.name': 'Getting Started',
                'achievement.hour_1.desc': 'Listened for 1 hour',
                'achievement.hour_10.name': 'Healing Lover',
                'achievement.hour_10.desc': 'Listened for 10 hours',
                'achievement.hour_50.name': 'Healing Expert',
                'achievement.hour_50.desc': 'Listened for 50 hours',
                'achievement.daily_streak_7.name': '7-Day Streak',
                'achievement.daily_streak_7.desc': 'Listened for 7 consecutive days',
                'achievement.favorite_10.name': 'Collector',
                'achievement.favorite_10.desc': 'Favorited 10 audios',
                'achievement.explorer.name': 'Explorer',
                'achievement.explorer.desc': 'Listened to all categories',
            },

            'ja-JP': {
                'cookie.title': '🍪 Cookie設定',
                'cookie.description': 'ユーザー体験を向上させ、トラフィックを分析するためにCookieを使用しています。「すべて許可」をクリックすると、Cookieの使用に同意したことになります。',
                'cookie.acceptAll': 'すべて許可',
                'cookie.acceptAllDesc': 'より良い体験のために分析を有効にする',
                'cookie.necessaryOnly': '必要なもののみ',
                'cookie.necessaryOnlyDesc': '必須のCookieのみ',
                'cookie.denyAll': 'すべて拒否',
                'cookie.denyAllDesc': '必須Cookie以外は使用しない',
                'cookie.preferences': '設定',
                'cookie.acceptSelected': '選択したものを許可',
                'cookie.privacyPolicy': 'プライバシーポリシー',

                // Social sharing
                'share.title': 'ソーシャルメディアで共有',
                'share.facebook': 'Facebookで共有',
                'share.twitter': 'Twitterで共有',
                'share.linkedin': 'LinkedInで共有',
                'share.whatsapp': 'WhatsAppで共有',
                'share.email': 'メールで共有',
                'share.copyLink': 'リンクをコピー',
                'share.linkCopied': 'リンクをコピーしました',
                'share.close': '閉じる',

                // GDPR/CCPA compliance
                'compliance.gdpr': 'GDPR準拠',
                'compliance.ccpa': 'CCPA準拠',
                'compliance.dataRights': 'データ権限リクエスト',
                'compliance.deleteData': 'データを削除',
                'compliance.exportData': 'データをエクスポート',
                'compliance.optOut': 'オプトアウト',

                // Authentication Dialog
                'auth.title': 'ログイン / 登録',
                'auth.login': 'ログイン',
                'auth.signup': '登録',
                'auth.reset': 'パスワードリセット',
                'auth.email': 'メールアドレス',
                'auth.emailPlaceholder': 'メールアドレスを入力',
                'auth.password': 'パスワード',
                'auth.passwordPlaceholder': 'パスワードを入力',
                'auth.displayName': '表示名',
                'auth.displayNamePlaceholder': 'ニックネームを入力',
                'auth.loginButton': 'ログイン',
                'auth.signupButton': '登録',
                'auth.googleLogin': 'Googleでログイン',
                'auth.anonymousLogin': '匿名ログイン',
                'auth.resetButton': 'リセットメールを送信',
                'auth.close': '×',
                'auth.filledEmail': 'メールとパスワードを入力してください',
                'auth.passwordMinLength': 'パスワードは最低6文字必要です',
                'auth.resetEmailSent': 'パスワードリセットメールを送信しました。メールをご確認ください',

                // Statistics Dashboard
                'stats.title': '再生統計',
                'stats.totalPlays': '総再生回数',
                'stats.totalTime': '累計再生時間',
                'stats.favorites': 'お気に入り数',
                'stats.avgPerDay': '1日平均',
                'stats.topCategories': 'よく聴くカテゴリー',
                'stats.last7Days': '過去7日間',
                'stats.achievements': '実績システム',
                'stats.visualAnalysis': 'ビジュアル分析',
                'stats.categoryDistribution': 'カテゴリー別分布',
                'stats.trendAnalysis': 'トレンド分析',
                'stats.noData': 'カテゴリーデータがありません',
                'stats.plays': '回',

                // Achievements
                'achievement.first_play.name': '初体験',
                'achievement.first_play.desc': '最初の音声を再生',
                'achievement.play_10.name': '音楽愛好家',
                'achievement.play_10.desc': '累計10回再生',
                'achievement.play_50.name': 'ヒーリング達人',
                'achievement.play_50.desc': '累計50回再生',
                'achievement.play_100.name': 'サウンドマスター',
                'achievement.play_100.desc': '累計100回再生',
                'achievement.hour_1.name': 'ヒーリング入門',
                'achievement.hour_1.desc': '累計1時間再生',
                'achievement.hour_10.name': 'ヒーリング愛好家',
                'achievement.hour_10.desc': '累計10時間再生',
                'achievement.hour_50.name': 'ヒーリング専門家',
                'achievement.hour_50.desc': '累計50時間再生',
                'achievement.daily_streak_7.name': '7日連続',
                'achievement.daily_streak_7.desc': '7日連続で再生',
                'achievement.favorite_10.name': 'コレクター',
                'achievement.favorite_10.desc': '10個の音声をお気に入り',
                'achievement.explorer.name': '探検家',
                'achievement.explorer.desc': 'すべてのカテゴリーを再生',
            },

            'ko-KR': {
                'cookie.title': '🍪 쿠키 설정',
                'cookie.description': '사용자 경험을 향상시키고 트래픽을 분석하기 위해 쿠키를 사용합니다. "모두 허용"을 클릭하면 쿠키 사용에 동의하게 됩니다.',
                'cookie.acceptAll': '모두 허용',
                'cookie.acceptAllDesc': '더 나은 경험을 위한 분석 활성화',
                'cookie.necessaryOnly': '필수만 허용',
                'cookie.necessaryOnlyDesc': '필수 쿠키만 사용',
                'cookie.denyAll': '모두 거부',
                'cookie.denyAllDesc': '필수 쿠키 외에는 사용 안 함',
                'cookie.preferences': '설정',
                'cookie.acceptSelected': '선택 항목 허용',
                'cookie.privacyPolicy': '개인정보 처리방침',

                // Social sharing
                'share.title': '소셜 미디어 공유',
                'share.facebook': 'Facebook에 공유',
                'share.twitter': 'Twitter에 공유',
                'share.linkedin': 'LinkedIn에 공유',
                'share.whatsapp': 'WhatsApp으로 공유',
                'share.email': '이메일로 공유',
                'share.copyLink': '링크 복사',
                'share.linkCopied': '링크가 복사되었습니다',
                'share.close': '닫기',

                // GDPR/CCPA compliance
                'compliance.gdpr': 'GDPR 준수',
                'compliance.ccpa': 'CCPA 준수',
                'compliance.dataRights': '데이터 권한 요청',
                'compliance.deleteData': '내 데이터 삭제',
                'compliance.exportData': '내 데이터 내보내기',
                'compliance.optOut': '수신 거부',

                // Authentication Dialog
                'auth.title': '로그인 / 가입',
                'auth.login': '로그인',
                'auth.signup': '가입',
                'auth.reset': '비밀번호 재설정',
                'auth.email': '이메일 주소',
                'auth.emailPlaceholder': '이메일을 입력하세요',
                'auth.password': '비밀번호',
                'auth.passwordPlaceholder': '비밀번호를 입력하세요',
                'auth.displayName': '표시 이름',
                'auth.displayNamePlaceholder': '닉네임을 입력하세요',
                'auth.loginButton': '로그인',
                'auth.signupButton': '가입',
                'auth.googleLogin': 'Google로 로그인',
                'auth.anonymousLogin': '익명 로그인',
                'auth.resetButton': '재설정 이메일 보내기',
                'auth.close': '×',
                'auth.filledEmail': '이메일과 비밀번호를 입력하세요',
                'auth.passwordMinLength': '비밀번호는 최소 6자리여야 합니다',
                'auth.resetEmailSent': '비밀번호 재설정 이메일이 발송되었습니다. 이메일을 확인하세요',

                // Statistics Dashboard
                'stats.title': '청취 통계',
                'stats.totalPlays': '총 재생 횟수',
                'stats.totalTime': '누적 청취 시간',
                'stats.favorites': '즐겨찾기 수',
                'stats.avgPerDay': '일평균 재생',
                'stats.topCategories': '자주 듣는 카테고리',
                'stats.last7Days': '최근 7일',
                'stats.achievements': '업적 시스템',
                'stats.visualAnalysis': '시각적 분석',
                'stats.categoryDistribution': '카테고리별 분포',
                'stats.trendAnalysis': '트렌드 분석',
                'stats.noData': '카테고리 데이터 없음',
                'stats.plays': '회',

                // Achievements
                'achievement.first_play.name': '첫 경험',
                'achievement.first_play.desc': '첫 오디오 재생',
                'achievement.play_10.name': '음악 애호가',
                'achievement.play_10.desc': '총 10회 재생',
                'achievement.play_50.name': '힐링 마니아',
                'achievement.play_50.desc': '총 50회 재생',
                'achievement.play_100.name': '사운드 마스터',
                'achievement.play_100.desc': '총 100회 재생',
                'achievement.hour_1.name': '힐링 입문',
                'achievement.hour_1.desc': '총 1시간 청취',
                'achievement.hour_10.name': '힐링 애호가',
                'achievement.hour_10.desc': '총 10시간 청취',
                'achievement.hour_50.name': '힐링 전문가',
                'achievement.hour_50.desc': '총 50시간 청취',
                'achievement.daily_streak_7.name': '7일 연속',
                'achievement.daily_streak_7.desc': '7일 연속 청취',
                'achievement.favorite_10.name': '컬렉터',
                'achievement.favorite_10.desc': '10개 오디오 즐겨찾기',
                'achievement.explorer.name': '탐험가',
                'achievement.explorer.desc': '모든 카테고리 청취',
            },

            'es-ES': {
                'cookie.title': '🍪 Preferencias de Cookies',
                'cookie.description': 'Utilizamos cookies para mejorar su experiencia y analizar nuestro tráfico. Al hacer clic en "Aceptar todo", usted consiente el uso de cookies.',
                'cookie.acceptAll': 'Aceptar todo',
                'cookie.acceptAllDesc': 'Habilita análisis para una mejor experiencia',
                'cookie.necessaryOnly': 'Solo necesarias',
                'cookie.necessaryOnlyDesc': 'Solo cookies esenciales',
                'cookie.denyAll': 'Rechazar todo',
                'cookie.denyAllDesc': 'Sin cookies excepto las esenciales',
                'cookie.preferences': 'Preferencias',
                'cookie.acceptSelected': 'Aceptar selección',
                'cookie.privacyPolicy': 'Política de privacidad',

                // Social sharing
                'share.title': 'Compartir en redes sociales',
                'share.facebook': 'Compartir en Facebook',
                'share.twitter': 'Compartir en Twitter',
                'share.linkedin': 'Compartir en LinkedIn',
                'share.whatsapp': 'Compartir en WhatsApp',
                'share.email': 'Compartir por correo',
                'share.copyLink': 'Copiar enlace',
                'share.linkCopied': 'Enlace copiado al portapapeles',
                'share.close': 'Cerrar',

                // GDPR/CCPA compliance
                'compliance.gdpr': 'Cumple con GDPR',
                'compliance.ccpa': 'Cumple con CCPA',
                'compliance.dataRights': 'Solicitud de derechos de datos',
                'compliance.deleteData': 'Eliminar mis datos',
                'compliance.exportData': 'Exportar mis datos',
                'compliance.optOut': 'Darse de baja',

                // Authentication Dialog
                'auth.title': 'Iniciar Sesión / Registrarse',
                'auth.login': 'Iniciar Sesión',
                'auth.signup': 'Registrarse',
                'auth.reset': 'Restablecer Contraseña',
                'auth.email': 'Correo Electrónico',
                'auth.emailPlaceholder': 'Ingrese su correo',
                'auth.password': 'Contraseña',
                'auth.passwordPlaceholder': 'Ingrese su contraseña',
                'auth.displayName': 'Nombre para Mostrar',
                'auth.displayNamePlaceholder': 'Ingrese su apodo',
                'auth.loginButton': 'Iniciar Sesión',
                'auth.signupButton': 'Registrarse',
                'auth.googleLogin': 'Iniciar con Google',
                'auth.anonymousLogin': 'Iniciar Sesión Anónima',
                'auth.resetButton': 'Enviar Correo de Restablecimiento',
                'auth.close': '×',
                'auth.filledEmail': 'Por favor complete el correo y contraseña',
                'auth.passwordMinLength': 'La contraseña debe tener al menos 6 caracteres',
                'auth.resetEmailSent': 'El correo de restablecimiento de contraseña ha sido enviado, por favor revise su correo',

                // Statistics Dashboard
                'stats.title': 'Estadísticas de Escucha',
                'stats.totalPlays': 'Total de Reproducciones',
                'stats.totalTime': 'Tiempo Total de Escucha',
                'stats.favorites': 'Favoritos',
                'stats.avgPerDay': 'Promedio Diario',
                'stats.topCategories': 'Categorías Principales',
                'stats.last7Days': 'Últimos 7 Días',
                'stats.achievements': 'Logros',
                'stats.visualAnalysis': 'Análisis Visual',
                'stats.categoryDistribution': 'Distribución por Categoría',
                'stats.trendAnalysis': 'Análisis de Tendencias',
                'stats.noData': 'Sin datos de categorías',
                'stats.plays': 'veces',

                // Achievements
                'achievement.first_play.name': 'Primera Experiencia',
                'achievement.first_play.desc': 'Reproducir primer audio',
                'achievement.play_10.name': 'Amante de la Música',
                'achievement.play_10.desc': 'Total 10 reproducciones',
                'achievement.play_50.name': 'Entusiasta de la Sanación',
                'achievement.play_50.desc': 'Total 50 reproducciones',
                'achievement.play_100.name': 'Maestro del Sonido',
                'achievement.play_100.desc': 'Total 100 reproducciones',
                'achievement.hour_1.name': 'Introducción a la Sanación',
                'achievement.hour_1.desc': 'Escuchado durante 1 hora',
                'achievement.hour_10.name': 'Amante de la Sanación',
                'achievement.hour_10.desc': 'Escuchado durante 10 horas',
                'achievement.hour_50.name': 'Experto en Sanación',
                'achievement.hour_50.desc': 'Escuchado durante 50 horas',
                'achievement.daily_streak_7.name': 'Racha de 7 Días',
                'achievement.daily_streak_7.desc': 'Escuchado durante 7 días consecutivos',
                'achievement.favorite_10.name': 'Coleccionista',
                'achievement.favorite_10.desc': '10 audios favoritos',
                'achievement.explorer.name': 'Explorador',
                'achievement.explorer.desc': 'Escuchado todas las categorías',
            }
        };

        const uxEnhancementTranslations = {
            'zh-CN': {
                'nav.quick.start': '立即体验',
                'nav.quick.categories': '疗愈分类',
                'nav.quick.metrics': '疗愈成效',
                'nav.resources': '内容资源',
                'nav.history': '播放历史',
                'nav.favorites': '我的收藏',
                'hero.quick.sleep.title': '快速入睡',
                'hero.quick.sleep.desc': '15 分钟深度雨声',
                'hero.quick.focus.title': '专注冲刺',
                'hero.quick.focus.desc': '高频 α 波 + 白噪声',
                'hero.quick.relax.title': '午间焕新',
                'hero.quick.relax.desc': '7 分钟呼吸 + 钵声',
                'hero.panel.badge': 'SaaS 级音疗控制台',
                'hero.panel.copy': '以数据驱动的多语言声疗平台，即开即用的混音、睡眠定时与跨设备同步。',
                'hero.panel.footer': '已为 120K+ 次冥想提供声音引导',
                'hero.panel.link': '查看成效 →',
                'launchpad.eyebrow': '即时播放器',
                'launchpad.title': '一键唤醒疗愈声音',
                'launchpad.insight1.label': '个性流程',
                'launchpad.insight1.title': '选择状态，系统即刻推送最佳声音组合。',
                'launchpad.insight1.item1': '场景感知雾化灯效',
                'launchpad.insight1.item2': '跨设备同步播放队列',
                'launchpad.insight1.item3': '自动睡眠定时与唤醒',
                'launchpad.insight2.label': '团队支持',
                'launchpad.insight2.title': '专属音疗顾问在线协助，输出周报与使用洞察。',
                'launchpad.insight2.cta': '预约顾问 →',
                'recommendations.eyebrow': '为你精选',
                'recommendations.title': '基于当下状态的疗愈清单',
                'recommendations.body': '我们结合你的播放记录、收藏偏好和当前时间段，即时挑选 6 条更适合的声音。',
                'recommendations.refresh': '刷新推荐',
                'recommendations.play': '立即播放',
                'recommendations.loading': '正在准备你的个性化推荐...',
                'recommendations.empty': '先播放或收藏几首声音，我们就会为你生成专属清单。',
                'recommendations.descriptionFallback': '精选疗愈音频，随时沉浸。',
                'recommendations.reason.default': '为你推荐',
                'recommendations.nowPlaying': '已为你加载推荐声音',
                'tutorial.label': '新手引导',
                'tutorial.title': '3 分钟熟悉 Sound Healing',
                'tutorial.step1.title': '选择当下目标',
                'tutorial.step1.desc': '通过顶部快捷入口告诉我们你想睡眠、专注还是舒缓压力。',
                'tutorial.step2.title': '探索 200+ 分类',
                'tutorial.step2.desc': '点击任一分类卡片即可打开播放列表并查看多语言描述。',
                'tutorial.step3.title': '掌控播放器',
                'tutorial.step3.desc': '音量、睡眠定时和收藏都在底部播放器，键盘操作同样可用。',
                'tutorial.step4.title': '解锁推荐清单',
                'tutorial.step4.desc': '完成一首音轨后立即生成个性推荐，并记录到历史与收藏。',
                'tutorial.prev': '上一步',
                'tutorial.next': '下一步',
                'tutorial.start': '立即开始',
                'tutorial.help': '需要 3 分钟引导？'
            },
            'en-US': {
                'nav.quick.start': 'Start Experience',
                'nav.quick.categories': 'Browse Categories',
                'nav.quick.metrics': 'Impact Metrics',
                'nav.resources': 'Resource Library',
                'nav.history': 'Listening History',
                'nav.favorites': 'My Favorites',
                'hero.quick.sleep.title': 'Quick Sleep',
                'hero.quick.sleep.desc': '15-min deep rain session',
                'hero.quick.focus.title': 'Focus Boost',
                'hero.quick.focus.desc': 'High-frequency alpha + white noise',
                'hero.quick.relax.title': 'Midday Refresh',
                'hero.quick.relax.desc': '7-min breathing + bowls',
                'hero.panel.badge': 'SaaS Healing Console',
                'hero.panel.copy': 'Data-driven, multilingual sound therapy with instant mixing, sleep timers, and cross-device sync.',
                'hero.panel.footer': '120K+ guided sessions delivered',
                'hero.panel.link': 'View results →',
                'launchpad.eyebrow': 'Instant Player',
                'launchpad.title': 'Wake immersive healing audio in one tap',
                'launchpad.insight1.label': 'Personal Flow',
                'launchpad.insight1.title': 'Pick a state and get the best combination instantly.',
                'launchpad.insight1.item1': 'Scene-aware ambient lighting',
                'launchpad.insight1.item2': 'Cross-device queue sync',
                'launchpad.insight1.item3': 'Auto sleep timer and wake-up',
                'launchpad.insight2.label': 'Team Support',
                'launchpad.insight2.title': 'Dedicated consultants provide reports and insights.',
                'launchpad.insight2.cta': 'Book a consultant →',
                'recommendations.eyebrow': 'Personal spotlight',
                'recommendations.title': 'A healing list tailored for this moment',
                'recommendations.body': 'We blend your listening history, favorites, and time of day to surface six sounds that fit right now.',
                'recommendations.refresh': 'Refresh recommendations',
                'recommendations.play': 'Play now',
                'recommendations.loading': 'Preparing your personalized picks...',
                'recommendations.empty': 'Listen to or favorite a few tracks to unlock your tailored list.',
                'recommendations.descriptionFallback': 'Curated audio, ready whenever you are.',
                'recommendations.reason.default': 'Recommended for you',
                'recommendations.nowPlaying': 'Loaded your recommendation',
                'tutorial.label': 'Guided Tour',
                'tutorial.title': 'Get comfortable with Sound Healing in 3 minutes',
                'tutorial.step1.title': 'Choose your goal',
                'tutorial.step1.desc': 'Use the top shortcuts to tell us whether you want sleep, focus, or stress relief.',
                'tutorial.step2.title': 'Explore 200+ categories',
                'tutorial.step2.desc': 'Tap any card to open its playlist and see the multi-language description.',
                'tutorial.step3.title': 'Master the player',
                'tutorial.step3.desc': 'Volume, sleep timer, and favorites live in the bottom player and work with keyboard controls too.',
                'tutorial.step4.title': 'Unlock recommendations',
                'tutorial.step4.desc': 'Finishing one track instantly creates a personal list and saves it into history and favorites.',
                'tutorial.prev': 'Previous',
                'tutorial.next': 'Next',
                'tutorial.start': 'Start now',
                'tutorial.help': 'Need a tour'
            },
            'ja-JP': {
                'nav.quick.start': '今すぐ体験',
                'nav.quick.categories': 'カテゴリを見る',
                'nav.quick.metrics': '効果指標',
                'nav.resources': 'リソース集',
                'nav.history': '再生履歴',
                'nav.favorites': 'マイコレクション',
                'hero.quick.sleep.title': 'すぐに入眠',
                'hero.quick.sleep.desc': '15分の深い雨音',
                'hero.quick.focus.title': '集中ブースト',
                'hero.quick.focus.desc': '高周波α波 + ホワイトノイズ',
                'hero.quick.relax.title': '昼のリフレッシュ',
                'hero.quick.relax.desc': '7分の呼吸 + シンギングボウル',
                'hero.panel.badge': 'SaaS級ヒーリングコンソール',
                'hero.panel.copy': 'データ駆動の多言語サウンド療法。即時ミキシング・スリープタイマー・デバイス同期を提供。',
                'hero.panel.footer': '120K+ 回の瞑想をガイド',
                'hero.panel.link': '成果を見る →',
                'launchpad.eyebrow': 'インスタントプレーヤー',
                'launchpad.title': 'ワンタップでヒーリングサウンドを呼び覚ます',
                'launchpad.insight1.label': 'パーソナルフロー',
                'launchpad.insight1.title': '状態を選ぶだけで最適な組み合わせを即提案。',
                'launchpad.insight1.item1': 'シーン感知アンビエントライト',
                'launchpad.insight1.item2': 'デバイスを越えたキュー同期',
                'launchpad.insight1.item3': '自動スリープタイマー＆ウェイクアップ',
                'launchpad.insight2.label': 'チームサポート',
                'launchpad.insight2.title': '専任コンサルタントがレポートとインサイトを提供。',
                'launchpad.insight2.cta': 'コンサルを予約 →',
                'recommendations.eyebrow': 'あなたへのおすすめ',
                'recommendations.title': '今の気分に合わせたヒーリングリスト',
                'recommendations.body': '再生履歴・お気に入り・時間帯をもとに、今ちょうどいい6曲を即座に提示します。',
                'recommendations.refresh': 'おすすめを更新',
                'recommendations.play': '今すぐ再生',
                'recommendations.loading': 'あなただけのおすすめを準備しています…',
                'recommendations.empty': 'いくつか再生またはお気に入りにすると、専用リストが表示されます。',
                'recommendations.descriptionFallback': 'いつでも浸れる厳選オーディオです。',
                'recommendations.reason.default': 'あなたへのおすすめ',
                'recommendations.nowPlaying': 'おすすめのサウンドを読み込みました',
                'tutorial.label': 'ガイドツアー',
                'tutorial.title': '3分で Sound Healing をマスター',
                'tutorial.step1.title': '目標を選ぶ',
                'tutorial.step1.desc': 'ヘッダーのショートカットで睡眠・集中・リラックスなどを選択します。',
                'tutorial.step2.title': '200以上のカテゴリを探索',
                'tutorial.step2.desc': 'カードをタップするとプレイリストと多言語の説明が開きます。',
                'tutorial.step3.title': 'プレーヤーを操作する',
                'tutorial.step3.desc': '音量・スリープタイマー・お気に入りは下部プレーヤーやキーボードで操作できます。',
                'tutorial.step4.title': 'おすすめリストを解放',
                'tutorial.step4.desc': '1曲聴き終えると、履歴と連動したおすすめが生成されます。',
                'tutorial.prev': '前へ',
                'tutorial.next': '次へ',
                'tutorial.start': '今すぐ始める',
                'tutorial.help': 'ガイドを見る'
            },
            'ko-KR': {
                'nav.quick.start': '체험 시작',
                'nav.quick.categories': '카테고리 둘러보기',
                'nav.quick.metrics': '효과 지표',
                'nav.resources': '자료 센터',
                'nav.history': '재생 기록',
                'nav.favorites': '내 즐겨찾기',
                'hero.quick.sleep.title': '빠른 수면',
                'hero.quick.sleep.desc': '15분 딥 레인 세션',
                'hero.quick.focus.title': '집중 스퍼트',
                'hero.quick.focus.desc': '고주파 알파 + 화이트 노이즈',
                'hero.quick.relax.title': '오후 리프레시',
                'hero.quick.relax.desc': '7분 호흡 + 보울 사운드',
                'hero.panel.badge': 'SaaS급 힐링 콘솔',
                'hero.panel.copy': '데이터 기반 다국어 사운드 테라피, 즉시 믹싱 · 수면 타이머 · 기기 동기화 제공.',
                'hero.panel.footer': '120K+ 회 명상 세션 지원',
                'hero.panel.link': '성과 보기 →',
                'launchpad.eyebrow': '인스턴트 플레이어',
                'launchpad.title': '한 번의 탭으로 힐링 사운드를 깨우세요',
                'launchpad.insight1.label': '맞춤 플로우',
                'launchpad.insight1.title': '상태만 선택하면 최적 조합을 즉시 제공합니다.',
                'launchpad.insight1.item1': '장면 감지 무드 조명',
                'launchpad.insight1.item2': '기기간 큐 동기화',
                'launchpad.insight1.item3': '자동 수면 타이머와 기상',
                'launchpad.insight2.label': '팀 지원',
                'launchpad.insight2.title': '전담 컨설턴트가 보고서와 인사이트를 제공합니다.',
                'launchpad.insight2.cta': '컨설턴트 예약 →',
                'recommendations.eyebrow': '맞춤 추천',
                'recommendations.title': '지금 상태에 맞춘 힐링 리스트',
                'recommendations.body': '재생 기록, 즐겨찾기, 현재 시간대를 조합해 지금 딱 맞는 6가지 사운드를 골라드립니다.',
                'recommendations.refresh': '추천 새로고침',
                'recommendations.play': '지금 듣기',
                'recommendations.loading': '맞춤 추천을 준비하는 중...',
                'recommendations.empty': '몇 곡만 재생하거나 즐겨찾기에 추가하면 전용 리스트가 나타납니다.',
                'recommendations.descriptionFallback': '언제든 몰입할 수 있는 큐레이션 사운드입니다.',
                'recommendations.reason.default': '당신을 위한 추천',
                'recommendations.nowPlaying': '추천 사운드를 불러왔어요',
                'tutorial.label': '가이드 투어',
                'tutorial.title': '3분 안에 Sound Healing 배우기',
                'tutorial.step1.title': '목표 선택',
                'tutorial.step1.desc': '상단 빠른 실행에서 수면·집중·휴식 중 원하는 목표를 고르세요.',
                'tutorial.step2.title': '200+ 카테고리 탐색',
                'tutorial.step2.desc': '카드를 탭하면 재생 목록과 다국어 설명이 열립니다.',
                'tutorial.step3.title': '플레이어 조작',
                'tutorial.step3.desc': '볼륨, 수면 타이머, 즐겨찾기는 하단 플레이어와 키보드로 쉽게 제어할 수 있습니다.',
                'tutorial.step4.title': '추천 리스트 해제',
                'tutorial.step4.desc': '곡을 듣고 나면 기록과 연동된 추천 리스트가 즉시 생성됩니다.',
                'tutorial.prev': '이전',
                'tutorial.next': '다음',
                'tutorial.start': '지금 시작',
                'tutorial.help': '가이드 보기'
            },
            'es-ES': {
                'nav.quick.start': 'Iniciar experiencia',
                'nav.quick.categories': 'Explorar categorías',
                'nav.quick.metrics': 'Métricas de impacto',
                'nav.resources': 'Biblioteca de recursos',
                'nav.history': 'Historial de reproducción',
                'nav.favorites': 'Mis favoritos',
                'hero.quick.sleep.title': 'Sueño rápido',
                'hero.quick.sleep.desc': '15 min de lluvia profunda',
                'hero.quick.focus.title': 'Impulso de enfoque',
                'hero.quick.focus.desc': 'Ondas alfa de alta frecuencia + ruido blanco',
                'hero.quick.relax.title': 'Renovación de mediodía',
                'hero.quick.relax.desc': 'Respiración de 7 min + cuencos',
                'hero.panel.badge': 'Consola SaaS de sanación',
                'hero.panel.copy': 'Plataforma multilingüe impulsada por datos con mezcla instantánea, temporizador de sueño y sincronización entre dispositivos.',
                'hero.panel.footer': 'Más de 120K sesiones guiadas',
                'hero.panel.link': 'Ver resultados →',
                'launchpad.eyebrow': 'Reproductor instantáneo',
                'launchpad.title': 'Activa sonidos sanadores con un toque',
                'launchpad.insight1.label': 'Flujo personal',
                'launchpad.insight1.title': 'Elige tu estado y recibe la combinación ideal al instante.',
                'launchpad.insight1.item1': 'Iluminación ambiental inteligente',
                'launchpad.insight1.item2': 'Cola sincronizada entre dispositivos',
                'launchpad.insight1.item3': 'Temporizador y despertar automáticos',
                'launchpad.insight2.label': 'Soporte del equipo',
                'launchpad.insight2.title': 'Consultores dedicados aportan reportes e insights.',
                'launchpad.insight2.cta': 'Agenda un asesor →',
                'recommendations.eyebrow': 'Selección para ti',
                'recommendations.title': 'Lista de sanación personalizada para este momento',
                'recommendations.body': 'Tomamos tu historial, favoritos y la hora del día para mostrar seis sonidos perfectos para ahora.',
                'recommendations.refresh': 'Actualizar recomendaciones',
                'recommendations.play': 'Reproducir ahora',
                'recommendations.loading': 'Preparando tus recomendaciones personalizadas…',
                'recommendations.empty': 'Reproduce o guarda algunas pistas y aparecerá tu lista personalizada.',
                'recommendations.descriptionFallback': 'Audio curado, listo cuando tú lo estés.',
                'recommendations.reason.default': 'Recomendado para ti',
                'recommendations.nowPlaying': 'Cargamos tu recomendación',
                'tutorial.label': 'Tour guiado',
                'tutorial.title': 'Domina Sound Healing en 3 minutos',
                'tutorial.step1.title': 'Elige tu objetivo',
                'tutorial.step1.desc': 'Usa los accesos rápidos superiores para indicar si buscas dormir, concentrarte o relajarte.',
                'tutorial.step2.title': 'Explora más de 200 categorías',
                'tutorial.step2.desc': 'Toca cualquier tarjeta para abrir su lista y leer la descripción multilingüe.',
                'tutorial.step3.title': 'Controla el reproductor',
                'tutorial.step3.desc': 'Volumen, temporizador de sueño y favoritos están en el reproductor inferior y también aceptan atajos de teclado.',
                'tutorial.step4.title': 'Desbloquea tu lista recomendada',
                'tutorial.step4.desc': 'Al terminar una pista se genera al instante una lista personal y se guarda en historial y favoritos.',
                'tutorial.prev': 'Anterior',
                'tutorial.next': 'Siguiente',
                'tutorial.start': 'Comenzar ahora',
                'tutorial.help': 'Ver guía'
            }
        };

        // Extend existing translations
        Object.keys(cookieTranslations).forEach(lang => {
            const existingTranslations = window.i18n.translations.get(lang) || {};
            const mergedTranslations = {...existingTranslations, ...cookieTranslations[lang]};
            window.i18n.translations.set(lang, mergedTranslations);
        });
        Object.keys(uxEnhancementTranslations).forEach(lang => {
            const existingTranslations = window.i18n.translations.get(lang) || {};
            const mergedTranslations = {...existingTranslations, ...uxEnhancementTranslations[lang]};
            window.i18n.translations.set(lang, mergedTranslations);
        });

        const selectorBindings = [
            { selector: '.saas-nav__links li:nth-child(1) a', key: 'nav.quick.start' },
            { selector: '.saas-nav__links li:nth-child(2) a', key: 'nav.quick.categories' },
            { selector: '.saas-nav__links li:nth-child(3) a', key: 'nav.quick.metrics' },
            { selector: '.saas-nav__links li:nth-child(4) a', key: 'nav.resources' },
            { selector: '.saas-hero__quick-actions .quick-card:nth-child(1) p', key: 'hero.quick.sleep.title' },
            { selector: '.saas-hero__quick-actions .quick-card:nth-child(1) small', key: 'hero.quick.sleep.desc' },
            { selector: '.saas-hero__quick-actions .quick-card:nth-child(2) p', key: 'hero.quick.focus.title' },
            { selector: '.saas-hero__quick-actions .quick-card:nth-child(2) small', key: 'hero.quick.focus.desc' },
            { selector: '.saas-hero__quick-actions .quick-card:nth-child(3) p', key: 'hero.quick.relax.title' },
            { selector: '.saas-hero__quick-actions .quick-card:nth-child(3) small', key: 'hero.quick.relax.desc' },
            { selector: '.saas-panel__badge', key: 'hero.panel.badge' },
            { selector: '.saas-panel__copy', key: 'hero.panel.copy' },
            { selector: '.saas-panel__footer p', key: 'hero.panel.footer' },
            { selector: '.saas-panel__footer a', key: 'hero.panel.link' },
            { selector: '.experience-launchpad__title p', key: 'launchpad.eyebrow' },
            { selector: '.experience-launchpad__title h3', key: 'launchpad.title' },
            { selector: '.experience-launchpad__insights article:nth-child(1) .insight-card__label', key: 'launchpad.insight1.label' },
            { selector: '.experience-launchpad__insights article:nth-child(1) h4', key: 'launchpad.insight1.title' },
            { selector: '.experience-launchpad__insights article:nth-child(1) li:nth-child(1)', key: 'launchpad.insight1.item1' },
            { selector: '.experience-launchpad__insights article:nth-child(1) li:nth-child(2)', key: 'launchpad.insight1.item2' },
            { selector: '.experience-launchpad__insights article:nth-child(1) li:nth-child(3)', key: 'launchpad.insight1.item3' },
            { selector: '.experience-launchpad__insights article:nth-child(2) .insight-card__label', key: 'launchpad.insight2.label' },
            { selector: '.experience-launchpad__insights article:nth-child(2) h4', key: 'launchpad.insight2.title' },
            { selector: '.experience-launchpad__insights article:nth-child(2) a', key: 'launchpad.insight2.cta' }
        ];

        const applyUXBindings = () => {
            if (typeof document === 'undefined') return;
            const lang = window.i18n?.currentLanguage || 'en-US';
            const translate = (key) => {
                if (window.i18n && typeof window.i18n.t === 'function') {
                    return window.i18n.t(key);
                }
                return (uxEnhancementTranslations[lang] && uxEnhancementTranslations[lang][key]) ||
                    (uxEnhancementTranslations['en-US'] && uxEnhancementTranslations['en-US'][key]) ||
                    key;
            };

            selectorBindings.forEach(({ selector, key }) => {
                document.querySelectorAll(selector).forEach((node) => {
                    const value = translate(key);
                    if (value) {
                        node.textContent = value;
                    }
                });
            });
        };

        document.addEventListener('languageChanged', applyUXBindings);
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => applyUXBindings(), { once: true });
        } else {
            applyUXBindings();
        }

        // Re-apply current language to update Cookie banner
        if (window.i18n.currentLanguage && typeof window.i18n.updateDOM === 'function') {
            window.i18n.updateDOM();
        }

        console.log('✅ Cookie, sharing, and UX translations loaded');
    }
});
