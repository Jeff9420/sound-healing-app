/* =================================================================
   ğŸŒ™ å¤±çœ å‹å¥½UI - æ¸©æš–å¤œè‰²ä¸»é¢˜ (æ–¹æ¡ˆä¸€)
   ================================================================= */

/* å…¨å±€å¤±çœ å‹å¥½è®¾ç½® */
:root {
    /* === æ ¸å¿ƒé¢œè‰²å˜é‡ === */
    /* èƒŒæ™¯è‰²ç³» - æ¨¡æ‹Ÿèœ¡çƒ›å…‰ç¯å¢ƒ */
    --bg-deepest: #0d0704;      /* æ·±å’–å•¡é»‘ - æœ€æ·±èƒŒæ™¯ */
    --bg-deep: #1a0f08;         /* æ·±æš–æ£• - æ·±å±‚èƒŒæ™¯ */
    --bg-medium: #2d1810;       /* æ¸©æš–æ£• - ä¸­å±‚èƒŒæ™¯ */
    --bg-light: #3d2817;        /* æš–è¤è‰² - æµ…å±‚èƒŒæ™¯ */

    /* æ–‡å­—è‰²ç³» - æ¸©æš–é‡‘è‰²è°ƒ */
    --text-primary: #f4e4bc;    /* æ¸©æš–ç±³è‰² - ä¸»è¦æ–‡å­— */
    --text-secondary: #d4a574;  /* é‡‘è‰² - æ¬¡è¦æ–‡å­— */
    --text-tertiary: #b8956b;   /* æš—é‡‘è‰² - è¾…åŠ©æ–‡å­— */
    --text-muted: #9a7f5a;      /* é™éŸ³æ–‡å­— */

    /* å¼ºè°ƒå’Œäº¤äº’è‰²ç³» */
    --accent-primary: #8b4513;   /* æ·±æ£•è‰² - ä¸»è¦å¼ºè°ƒè‰² */
    --accent-warm: #cd853f;      /* æš–æ£•è‰² - æ¸©æš–å¼ºè°ƒè‰² */
    --accent-glow: #daa520;      /* é‡‘å…‰è‰² - å‘å…‰å¼ºè°ƒè‰² */

    /* åŠé€æ˜è¦†ç›–å±‚ */
    --overlay-dark: rgba(13, 7, 4, 0.9);        /* æ·±è‰²é®ç½© */
    --overlay-medium: rgba(45, 24, 16, 0.8);    /* ä¸­ç­‰é®ç½© */
    --overlay-light: rgba(61, 40, 23, 0.6);     /* æµ…è‰²é®ç½© */
    --overlay-subtle: rgba(77, 51, 34, 0.4);    /* å¾®å¦™é®ç½© */

    /* æ¸å˜å®šä¹‰ */
    --gradient-warm: linear-gradient(135deg, var(--bg-deepest) 0%, var(--bg-deep) 30%, var(--bg-medium) 70%, var(--bg-light) 100%);
    --gradient-card: linear-gradient(145deg, var(--overlay-medium) 0%, var(--overlay-light) 50%, var(--overlay-subtle) 100%);
    --gradient-glow: radial-gradient(circle at center, var(--accent-glow) 0%, transparent 70%);

    /* === å¤±çœ å‹å¥½æŠ€æœ¯å‚æ•° === */
    /* è“å…‰è¿‡æ»¤è®¾ç½® */
    --blue-light-filter: sepia(0.15) saturate(0.85) hue-rotate(18deg) brightness(0.88) contrast(0.92);
    --night-mode-filter: brightness(0.75) contrast(0.9) sepia(0.1);
    --deep-night-filter: brightness(0.65) contrast(0.85) sepia(0.15);

    /* è¿‡æ¸¡åŠ¨ç”» - 4ç§’å‘¼å¸èŠ‚å¾‹ */
    --smooth-transition: all 4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --gentle-transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --breathing-rhythm: 4s;

    /* é˜´å½±å®šä¹‰ - æ¸©æš–æŸ”å’Œ */
    --shadow-soft: 0 4px 20px rgba(139, 69, 19, 0.15);
    --shadow-medium: 0 8px 32px rgba(139, 69, 19, 0.25);
    --shadow-strong: 0 12px 48px rgba(139, 69, 19, 0.35);
    --shadow-glow: 0 0 24px rgba(218, 165, 32, 0.3);
    --shadow-text: 0 2px 8px rgba(13, 7, 4, 0.8);

    /* è¾¹æ¡†å’Œæè¾¹ */
    --border-warm: 1px solid rgba(212, 165, 116, 0.3);
    --border-glow: 1px solid rgba(218, 165, 32, 0.5);
    --border-soft: 1px solid rgba(139, 69, 19, 0.2);
}

/* =================================================================
   å…¨å±€åŸºç¡€æ ·å¼é‡ç½®
   ================================================================= */

/* å…¨å±€è“å…‰è¿‡æ»¤ */
html {
    filter: var(--blue-light-filter);
    background: var(--bg-deepest);
}

body {
    background: var(--gradient-warm);
    color: var(--text-primary);
    font-family: 'Microsoft YaHei', 'SF Pro Display', system-ui, -apple-system, sans-serif;
    transition: var(--smooth-transition);
    min-height: 100vh;
    /* ä¼˜åŒ–æ–‡å­—æ¸²æŸ“ */
    font-smooth: always;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* æ‰€æœ‰æ–‡å­—æ·»åŠ æ¸©æš–é˜´å½± */
h1, h2, h3, h4, h5, h6, p, span, div, button {
    text-shadow: var(--shadow-text);
    transition: var(--gentle-transition);
}

/* =================================================================
   æ ‡é¢˜å’Œæ–‡æœ¬æ ·å¼
   ================================================================= */

/* ä¸»æ ‡é¢˜ */
.simple-title, .titulo {
    color: var(--text-primary);
    font-weight: 700;
    letter-spacing: 1px;
    text-shadow:
        0 2px 4px rgba(13, 7, 4, 0.8),
        0 0 12px rgba(218, 165, 32, 0.3);
    background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-glow) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* å‰¯æ ‡é¢˜ */
.simple-subtitle {
    color: var(--text-secondary);
    font-weight: 400;
    opacity: 0.9;
}

/* æ¬¡è¦æ–‡æœ¬ */
.text-secondary, .room-count, .habitat-type {
    color: var(--text-secondary);
    opacity: 0.85;
}

/* é™éŸ³æ–‡æœ¬ */
.text-muted {
    color: var(--text-muted);
    opacity: 0.7;
}

/* =================================================================
   å¡ç‰‡å’Œå®¹å™¨æ ·å¼
   ================================================================= */

/* 3Dè½®æ’­å¡ç‰‡ */
.carrossel-item {
    background: var(--gradient-card);
    border: var(--border-warm);
    border-radius: 20px;
    backdrop-filter: blur(20px) saturate(1.2);
    box-shadow: var(--shadow-medium);
    transition: var(--smooth-transition);
    overflow: hidden;
    position: relative;
}

/* å¡ç‰‡æ‚¬æµ®æ•ˆæœ */
.carrossel-item:hover {
    background: linear-gradient(145deg,
        rgba(61, 40, 23, 0.9) 0%,
        rgba(77, 51, 34, 0.7) 50%,
        rgba(91, 60, 39, 0.5) 100%);
    border-color: var(--accent-glow);
    box-shadow:
        var(--shadow-strong),
        var(--shadow-glow);
    transform: translateY(-2px) scale(1.02);
}

/* æ´»è·ƒå¡ç‰‡æ ·å¼ */
.carrossel-item.active {
    border: 2px solid var(--accent-glow);
    box-shadow:
        var(--shadow-strong),
        var(--shadow-glow),
        inset 0 0 20px rgba(218, 165, 32, 0.1);
    animation: gentleGlow var(--breathing-rhythm) ease-in-out infinite alternate;
}

@keyframes gentleGlow {
    0% {
        box-shadow:
            var(--shadow-strong),
            0 0 24px rgba(218, 165, 32, 0.3),
            inset 0 0 20px rgba(218, 165, 32, 0.1);
    }
    100% {
        box-shadow:
            var(--shadow-strong),
            0 0 36px rgba(218, 165, 32, 0.5),
            inset 0 0 30px rgba(218, 165, 32, 0.15);
    }
}

/* ç›¸é‚»å¡ç‰‡æ ·å¼ */
.carrossel-item.adjacent {
    opacity: 0.7;
    border-color: rgba(212, 165, 116, 0.2);
}

/* =================================================================
   æŒ‰é’®æ ·å¼
   ================================================================= */

/* ä¸»è¦æŒ‰é’® */
.btn-controle, .nature-control-btn, .control-btn {
    background: var(--gradient-card);
    border: var(--border-warm);
    color: var(--text-primary);
    border-radius: 12px;
    padding: 12px 24px;
    font-weight: 500;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: var(--gentle-transition);
    backdrop-filter: blur(15px);
    box-shadow: var(--shadow-soft);
    position: relative;
    overflow: hidden;
}

/* æŒ‰é’®æ‚¬æµ®æ•ˆæœ */
.btn-controle:hover, .nature-control-btn:hover, .control-btn:hover {
    background: linear-gradient(145deg,
        rgba(77, 51, 34, 0.9) 0%,
        rgba(91, 60, 39, 0.8) 100%);
    border-color: var(--accent-glow);
    box-shadow:
        var(--shadow-medium),
        0 0 16px rgba(218, 165, 32, 0.25);
    transform: translateY(-2px);
    color: var(--accent-glow);
}

/* æŒ‰é’®æ¿€æ´»æ•ˆæœ */
.btn-controle:active, .nature-control-btn:active, .control-btn:active {
    transform: translateY(0);
    box-shadow: var(--shadow-soft);
}

/* æ’­æ”¾æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
.lotus-player, .nature-play-main {
    background: radial-gradient(circle,
        var(--accent-glow) 0%,
        var(--accent-warm) 70%);
    color: var(--bg-deepest);
    font-size: 1.2em;
    font-weight: bold;
    text-shadow: none;
    box-shadow:
        var(--shadow-medium),
        inset 0 2px 8px rgba(255, 255, 255, 0.1);
}

.lotus-player:hover, .nature-play-main:hover {
    background: radial-gradient(circle,
        rgba(218, 165, 32, 1.1) 0%,
        rgba(205, 133, 63, 1.1) 70%);
    box-shadow:
        var(--shadow-strong),
        var(--shadow-glow),
        inset 0 2px 8px rgba(255, 255, 255, 0.15);
}

/* =================================================================
   è¾“å…¥æ¡†å’Œæ»‘å—æ ·å¼
   ================================================================= */

/* æ»‘å—æ ·å¼ */
.nature-slider, .volume-slider, input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    height: 6px;
    border-radius: 3px;
    background: var(--overlay-dark);
    outline: none;
    transition: var(--gentle-transition);
}

/* æ»‘å—è½¨é“ */
.nature-slider::-webkit-slider-track,
.volume-slider::-webkit-slider-track {
    height: 6px;
    border-radius: 3px;
    background: var(--gradient-card);
    border: var(--border-soft);
}

/* æ»‘å—æ‹–åŠ¨ç‚¹ */
.nature-slider::-webkit-slider-thumb,
.volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--accent-glow);
    cursor: pointer;
    box-shadow:
        var(--shadow-soft),
        0 0 8px rgba(218, 165, 32, 0.4);
    transition: var(--gentle-transition);
}

.nature-slider::-webkit-slider-thumb:hover,
.volume-slider::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow:
        var(--shadow-medium),
        0 0 12px rgba(218, 165, 32, 0.6);
}

/* Firefoxæ»‘å—æ ·å¼ */
.nature-slider::-moz-range-thumb,
.volume-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--accent-glow);
    cursor: pointer;
    border: none;
    box-shadow:
        var(--shadow-soft),
        0 0 8px rgba(218, 165, 32, 0.4);
}

/* =================================================================
   è¿›åº¦æ¡æ ·å¼
   ================================================================= */

.nature-progress-container {
    background: var(--overlay-dark);
    border-radius: 4px;
    height: 8px;
    overflow: hidden;
    border: var(--border-soft);
}

.progress-fill, .nature-progress-slider::-webkit-slider-thumb {
    background: linear-gradient(90deg,
        var(--accent-warm) 0%,
        var(--accent-glow) 100%);
    height: 100%;
    border-radius: 4px;
    transition: var(--gentle-transition);
    box-shadow: 0 0 8px rgba(218, 165, 32, 0.3);
}

/* =================================================================
   æ’­æ”¾åˆ—è¡¨å’ŒéŸ³è½¨æ ·å¼
   ================================================================= */

/* æ’­æ”¾åˆ—è¡¨åŒºåŸŸ */
.playlist-section {
    background: var(--gradient-warm);
    border: var(--border-warm);
    border-radius: 20px;
    backdrop-filter: blur(25px);
    box-shadow: var(--shadow-strong);
}

/* æ’­æ”¾åˆ—è¡¨å¤´éƒ¨ */
.playlist-header, .organic-container {
    background: var(--overlay-medium);
    border: var(--border-warm);
    border-radius: 15px;
    backdrop-filter: blur(20px);
    box-shadow: var(--shadow-soft);
}

/* éŸ³è½¨é¡¹ç›® */
.track-item, .audio-item {
    background: var(--overlay-light);
    border: var(--border-soft);
    border-radius: 12px;
    margin: 8px 0;
    padding: 12px 16px;
    cursor: pointer;
    transition: var(--gentle-transition);
    box-shadow: var(--shadow-soft);
}

.track-item:hover, .audio-item:hover {
    background: var(--overlay-medium);
    border-color: var(--accent-glow);
    box-shadow:
        var(--shadow-medium),
        0 0 12px rgba(218, 165, 32, 0.2);
    transform: translateY(-1px);
}

/* æ­£åœ¨æ’­æ”¾çš„éŸ³è½¨ */
.track-item.playing, .audio-item.playing {
    background: linear-gradient(135deg,
        var(--accent-warm) 0%,
        var(--accent-primary) 100%);
    color: var(--text-primary);
    border-color: var(--accent-glow);
    box-shadow:
        var(--shadow-medium),
        var(--shadow-glow);
    animation: playingPulse var(--breathing-rhythm) ease-in-out infinite alternate;
}

@keyframes playingPulse {
    0% {
        box-shadow:
            var(--shadow-medium),
            0 0 16px rgba(218, 165, 32, 0.4);
    }
    100% {
        box-shadow:
            var(--shadow-medium),
            0 0 24px rgba(218, 165, 32, 0.6);
    }
}

/* =================================================================
   è¯­è¨€åˆ‡æ¢å™¨æ ·å¼
   ================================================================= */

.language-selector, .language-switcher {
    background: var(--overlay-medium);
    border: var(--border-warm);
    border-radius: 12px;
    backdrop-filter: blur(20px);
    box-shadow: var(--shadow-soft);
}

.language-toggle, .lang-btn {
    background: transparent;
    color: var(--text-secondary);
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: var(--gentle-transition);
}

.language-toggle:hover, .lang-btn:hover {
    background: var(--overlay-light);
    color: var(--accent-glow);
    box-shadow: 0 0 8px rgba(218, 165, 32, 0.2);
}

.lang-btn.active {
    background: var(--accent-glow);
    color: var(--bg-deepest);
    box-shadow:
        var(--shadow-soft),
        0 0 12px rgba(218, 165, 32, 0.4);
}

/* =================================================================
   æµ®åŠ¨æ§åˆ¶å™¨æ ·å¼
   ================================================================= */

.floating-controls {
    background: var(--gradient-card);
    border: var(--border-warm);
    border-radius: 16px;
    backdrop-filter: blur(25px);
    box-shadow: var(--shadow-strong);
    transition: var(--gentle-transition);
}

.control-header {
    background: var(--overlay-medium);
    border-bottom: var(--border-soft);
    border-radius: 16px 16px 0 0;
    padding: 12px 16px;
    cursor: move;
}

.control-content {
    padding: 16px;
}

/* =================================================================
   æ—¶é—´ç›¸å…³æ ·å¼ - åŠ¨æ€é€‚åº”
   ================================================================= */

/* æ™šé—´æ¨¡å¼ (20:00-24:00) */
.evening-mode {
    filter: var(--night-mode-filter);
}

/* æ·±å¤œæ¨¡å¼ (00:00-06:00) */
.deep-night-mode {
    filter: var(--deep-night-filter);
}

/* å‘¼å¸åŠ¨ç”» - æ¨¡æ‹Ÿè‡ªç„¶å‘¼å¸èŠ‚å¾‹ */
.breathing-element {
    animation: breathingGlow var(--breathing-rhythm) ease-in-out infinite alternate;
}

@keyframes breathingGlow {
    0% {
        opacity: 0.8;
        transform: scale(1);
    }
    100% {
        opacity: 1;
        transform: scale(1.02);
    }
}

/* =================================================================
   å“åº”å¼è®¾è®¡
   ================================================================= */

/* å¹³æ¿ç«¯é€‚é… */
@media (max-width: 768px) {
    :root {
        /* ç§»åŠ¨ç«¯å‡å°‘æ»¤é•œå¼ºåº¦ */
        --blue-light-filter: sepia(0.1) saturate(0.9) hue-rotate(15deg) brightness(0.9) contrast(0.95);
    }

    .carrossel-item {
        border-radius: 16px;
    }

    .btn-controle {
        padding: 10px 18px;
        font-size: 0.9rem;
    }
}

/* æ‰‹æœºç«¯é€‚é… */
@media (max-width: 480px) {
    :root {
        /* è¿›ä¸€æ­¥å‡å°‘æ»¤é•œä»¥ä¿æŒå¯è¯»æ€§ */
        --blue-light-filter: sepia(0.08) saturate(0.95) hue-rotate(12deg) brightness(0.92);
    }

    .simple-title, .titulo {
        font-size: 1.5rem;
    }

    .carrossel-item {
        border-radius: 12px;
    }

    /* ç®€åŒ–é˜´å½±ä»¥æå‡æ€§èƒ½ */
    .carrossel-item {
        box-shadow: 0 4px 16px rgba(139, 69, 19, 0.2);
    }

    .carrossel-item:hover {
        box-shadow: 0 6px 20px rgba(139, 69, 19, 0.3);
    }
}

/* =================================================================
   å¯è®¿é—®æ€§å¢å¼º
   ================================================================= */

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
@media (prefers-contrast: high) {
    :root {
        --text-primary: #fff;
        --text-secondary: #f0f0f0;
        --border-warm: 2px solid rgba(27, 16, 10, 0.5);
    }
}

/* å‡å°‘åŠ¨ç”»åå¥½æ”¯æŒ */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ç„¦ç‚¹å¯è§æ€§å¢å¼º */
button:focus-visible,
input:focus-visible,
[tabindex]:focus-visible {
    outline: 2px solid var(--accent-glow);
    outline-offset: 2px;
}

/* =================================================================
   æ‰“å°æ ·å¼
   ================================================================= */
@media print {
    body {
        background: #ffffff !important;
        color: black !important;
        filter: none !important;
    }

    .carrossel-item {
        background: #ffffff !important;
        border: 1px solid #ccc !important;
        box-shadow: none !important;
    }
}