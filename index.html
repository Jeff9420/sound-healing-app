<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å£°éŸ³ç–—æ„ˆ</title>

  <!-- Security: Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src 'self' https: data:; connect-src 'self' https:; img-src 'self' data: https:;">

  <!-- SEO and Performance -->
  <meta name="description" content="å£°éŸ³ç–—æ„ˆç©ºé—´ - ä¸“ä¸šçš„éŸ³é¢‘ç–—æ„ˆå¹³å°ï¼Œæä¾›å¤šç§ç–—æ„ˆéŸ³é¢‘ç±»å‹ï¼Œå¸®åŠ©æ‚¨æ”¾æ¾èº«å¿ƒï¼Œå›å½’å®é™">
  <meta name="keywords" content="å£°éŸ³ç–—æ„ˆ,éŸ³é¢‘ç–—æ„ˆ,å†¥æƒ³,æ”¾æ¾,å‡å‹,è‡ªç„¶éŸ³æ•ˆ">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://soundflows.app">
  <link rel="stylesheet" href="assets/css/app.css" />
  <script src="assets/js/audio-config.js"></script>

</head>
<body>
  <!-- Fallback for users without JavaScript -->
  <noscript>
    <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); display: flex; align-items: center; justify-content: center; z-index: 9999;">
      <div style="background: rgba(255,255,255,0.95); padding: 40px; border-radius: 15px; text-align: center; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
        <h1 style="color: #333; margin-bottom: 20px;">ğŸŒ¸ å£°éŸ³ç–—æ„ˆç©ºé—´</h1>
        <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">æ­¤åº”ç”¨éœ€è¦å¯ç”¨JavaScriptæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚<br/>è¯·åœ¨æµè§ˆå™¨è®¾ç½®ä¸­å¯ç”¨JavaScriptååˆ·æ–°é¡µé¢ã€‚</p>
        <p style="color: #999; font-size: 14px;"><strong>Sound Healing Space</strong><br/>This application requires JavaScript to function properly.</p>
      </div>
    </div>
  </noscript>
  <div class="mountain" aria-hidden="true"></div>

  <div class="grid">
    <div class="panel left-span healing-dashboard">
      <div class="dashboard-content">
        <!-- å“ç‰Œæ ‡è¯†åŒº -->
        <div class="brand-section">
          <div class="brand-icon">ğŸŒ¸</div>
          <div class="brand-info">
            <div class="brand-title" data-i18n="brand-title">å£°éŸ³ç–—æ„ˆç©ºé—´</div>
            <div class="brand-subtitle" data-i18n="brand-subtitle">è®©å¿ƒçµå›å½’å®é™</div>
          </div>
          <div class="language-selector">
            <button type="button" id="languageToggle" class="language-btn">
              <span class="language-icon">ğŸŒ</span>
              <span class="language-text" id="currentLanguage">ä¸­æ–‡</span>
            </button>
          </div>
        </div>

        <!-- å½“å‰çŠ¶æ€å¡ç‰‡ -->
        <div class="status-cards">
          <div class="status-card current-theme">
            <div class="card-icon" id="currentThemeIcon">ğŸµ</div>
            <div class="card-content">
              <div class="card-label" data-i18n="current-theme">å½“å‰ä¸»é¢˜</div>
              <div class="card-value" id="currentThemeName" data-i18n="select-theme">è¯·é€‰æ‹©ä¸»é¢˜</div>
              <div class="card-extra" id="currentThemeCount" data-i18n="start-journey">å¼€å§‹æ‚¨çš„ç–—æ„ˆä¹‹æ—…</div>
            </div>
          </div>

          <div class="status-card playback-state">
            <div class="card-icon" id="playbackIcon">â¸ï¸</div>
            <div class="card-content">
              <div class="card-label" data-i18n="playback-status">æ’­æ”¾çŠ¶æ€</div>
              <div class="card-value" id="playbackStatus" data-i18n="paused">æš‚åœ</div>
              <div class="card-extra" id="playbackExtra" data-i18n="ready-to-heal">å‡†å¤‡å¼€å§‹ç–—æ„ˆ</div>
            </div>
          </div>

          <div class="status-card session-info">
            <div class="card-icon">â°</div>
            <div class="card-content">
              <div class="card-label" data-i18n="session-info">æœ¬æ¬¡ä¼šè¯</div>
              <div class="card-value" id="uptime">--</div>
              <div class="card-extra" data-i18n="healing-time">ä¸“æ³¨ç–—æ„ˆæ—¶å…‰</div>
            </div>
          </div>
        </div>

        <!-- æŒ¯å¹…å¯è§†åŒ–æ˜¾ç¤º -->
        <div class="amplitude-visualization">
          <canvas id="mainAmplitudeCanvas" width="400" height="120"></canvas>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="healing-tip">
          <div class="tip-icon">ğŸ’¡</div>
          <div class="tip-text" data-i18n="headphone-tip">ä½¿ç”¨è€³æœºè·å¾—æœ€ä½³ç–—æ„ˆä½“éªŒ</div>
        </div>
      </div>
    </div>

    <div class="right">
      <div class="right-top">
        <div class="panel nature-scene">
          <div class="title" data-i18n="theme-scene">ä¸»é¢˜åœºæ™¯</div>
          <div class="chrome"><i></i><i></i><i></i></div>

          <!-- è‡ªç„¶åŠ¨ç”»èƒŒæ™¯ -->
          <div class="scene-container" id="sceneContainer">
            <canvas id="natureCanvas"></canvas>

            <!-- æµ®åŠ¨ç²’å­å±‚ -->
            <div class="floating-particles" id="floatingParticles"></div>

            <!-- ä¸»é¢˜åˆ‡æ¢æ§åˆ¶å™¨ -->
            <div class="theme-selector">
              <button type="button" class="theme-nav-btn" id="carouselPrev">â†</button>
              <div class="theme-info">
                <div class="theme-current" id="carouselActiveName" data-i18n="select-theme">è¯·é€‰æ‹©ä¸»é¢˜</div>
                <div class="theme-hint" id="scene-description" data-i18n="click-to-switch">ç‚¹å‡»åˆ‡æ¢åœºæ™¯</div>
              </div>
              <button type="button" class="theme-nav-btn" id="carouselNext">â†’</button>
            </div>

            <!-- ä¸»é¢˜å›¾æ ‡æ˜¾ç¤º -->
            <div class="scene-icon" id="sceneIcon">ğŸµ</div>
          </div>
        </div>

        <div class="panel clock-panel">
          <div class="clock">
            <div class="time" id="bigClock">--:--</div>
            <div class="date" id="dateStr">----</div>
          </div>
        </div>
      </div>

      <div class="right-bottom">
        <div class="panel audio-controller">
          <div class="audio-content">
            <!-- å½“å‰æ’­æ”¾ä¿¡æ¯ -->
            <div class="now-playing-section">
              <div class="track-info">
                <div class="track-title" id="nowPlayingTitle" data-i18n="not-playing">æš‚æœªæ’­æ”¾</div>
                <div class="track-theme" id="nowPlayingCategory" data-i18n="select-theme-to-start">è¯·é€‰æ‹©ä¸»é¢˜å¼€å§‹ç–—æ„ˆ</div>
              </div>
              <div class="playback-icon">ğŸµ</div>
            </div>

            <!-- è¿›åº¦æ¡ -->
            <div class="progress-section" role="group" aria-label="æ’­æ”¾è¿›åº¦">
              <div class="time-info" role="timer" aria-label="æ’­æ”¾æ—¶é—´">
                <div class="current-time" id="currentTime" aria-label="å½“å‰æ’­æ”¾æ—¶é—´">00:00</div>
                <div class="total-time" id="totalTime" aria-label="æ€»æ’­æ”¾æ—¶é•¿">--:--</div>
              </div>
              <div class="progress-bar-container"
                   id="progressContainer"
                   role="slider"
                   aria-label="æ’­æ”¾è¿›åº¦æ§åˆ¶"
                   aria-valuemin="0"
                   aria-valuemax="100"
                   aria-valuenow="0"
                   aria-valuetext="0%"
                   tabindex="0"
                   aria-describedby="currentTime totalTime">
                <div class="progress-bar-track">
                  <div class="progress-bar-fill" id="progressDisplay" aria-hidden="true"></div>
                  <div class="progress-bar-thumb" id="progressThumb" aria-hidden="true"></div>
                </div>
              </div>
            </div>

            <!-- æ’­æ”¾æ§åˆ¶ -->
            <div class="control-section" role="group" aria-label="æ’­æ”¾æ§åˆ¶">
              <button type="button"
                      class="control-btn secondary"
                      id="prevBtn"
                      aria-label="æ’­æ”¾ä¸Šä¸€é¦–éŸ³è½¨"
                      aria-keyshortcuts="Ctrl+ArrowLeft">
                <span class="control-icon" aria-hidden="true">â®</span>
                <span class="control-label" data-i18n="previous">ä¸Šä¸€é¦–</span>
              </button>

              <button type="button"
                      class="control-btn primary"
                      id="playPauseBtn"
                      aria-label="æ’­æ”¾/æš‚åœéŸ³é¢‘"
                      aria-pressed="false"
                      aria-keyshortcuts="Space">
                <span class="control-icon" aria-hidden="true">â–¶ï¸</span>
                <span class="control-label" data-i18n="play">æ’­æ”¾</span>
              </button>

              <button type="button"
                      class="control-btn secondary"
                      id="nextBtn"
                      aria-label="æ’­æ”¾ä¸‹ä¸€é¦–éŸ³è½¨"
                      aria-keyshortcuts="Ctrl+ArrowRight">
                <span class="control-icon" aria-hidden="true">â­</span>
                <span class="control-label" data-i18n="next">ä¸‹ä¸€é¦–</span>
              </button>
            </div>

            <!-- éŸ³é‡å’Œè®¡æ—¶å™¨ -->
            <div class="settings-section" role="group" aria-label="éŸ³é¢‘è®¾ç½®æ§åˆ¶">
              <div class="volume-control">
                <span class="setting-icon" aria-hidden="true">ğŸ”Š</span>
                <input type="range"
                       id="volumeRange"
                       min="0"
                       max="100"
                       value="50"
                       step="1"
                       class="healing-slider"
                       aria-label="éŸ³é‡æ§åˆ¶"
                       aria-describedby="volumeValue" />
                <span class="volume-value" id="volumeValue" aria-live="polite">50%</span>
              </div>

              <div class="timer-control">
                <span class="setting-icon" aria-hidden="true">â°</span>
                <select id="timerSelect"
                        class="healing-select"
                        aria-label="å®šæ—¶å™¨è®¾ç½®">
                  <option value="0" data-i18n="timer-no-limit">æ— é™åˆ¶</option>
                  <option value="15" data-i18n="timer-15min">15åˆ†é’Ÿ</option>
                  <option value="30" data-i18n="timer-30min">30åˆ†é’Ÿ</option>
                  <option value="60" data-i18n="timer-60min">60åˆ†é’Ÿ</option>
                  <option value="90" data-i18n="timer-90min">90åˆ†é’Ÿ</option>
                </select>
                <span class="timer-status" id="timerStatus" data-i18n="timer-disabled" aria-live="polite">æœªå¼€å¯</span>
              </div>

              <!-- æ’­æ”¾æ¨¡å¼æ§åˆ¶ -->
              <div class="playback-modes" role="group" aria-label="æ’­æ”¾æ¨¡å¼">
                <button type="button"
                        class="mode-btn"
                        id="shuffleBtnVisible"
                        data-mode="shuffle"
                        aria-pressed="false"
                        aria-label="éšæœºæ’­æ”¾æ¨¡å¼">
                  <span class="mode-icon" aria-hidden="true">ğŸ”€</span>
                  <span class="mode-label" data-i18n="shuffle">éšæœº</span>
                </button>

                <button type="button"
                        class="mode-btn"
                        id="repeatBtnVisible"
                        data-mode="repeat"
                        aria-pressed="false"
                        aria-label="å¾ªç¯æ’­æ”¾æ¨¡å¼">
                  <span class="mode-icon" aria-hidden="true">ğŸ”</span>
                  <span class="mode-label" data-i18n="repeat">å¾ªç¯</span>
                </button>
              </div>
            </div>

            <!-- éšè—çš„åŸå§‹æ§ä»¶ç”¨äºåŠŸèƒ½ä¿æŒ -->
            <div style="display: none;">
              <input type="range" id="progressRange" min="0" max="0" value="0" step="1" />
              <button type="button" id="shuffleBtn"></button>
              <button type="button" id="repeatBtn"></button>
            </div>
          </div>
        </div>

        <div class="panel notes-panel">
          <div class="term">
            <div class="editor" contenteditable="false" style="font-size: 11px; line-height: 1.3; max-height: 160px; overflow-y: auto;">
              <div id="trackList" style="color: #d3dde8;">
                <!-- Default content to prevent layout shift and improve first-screen rendering -->
                <div style="color: #aab3be; margin-bottom: 8px;" data-i18n="select-theme-for-tracklist">è¯·é€‰æ‹©ä¸»é¢˜æŸ¥çœ‹éŸ³è½¨åˆ—è¡¨</div>
                <div class="loading-placeholder" style="color: #8a94a0; font-size: 10px; line-height: 1.4;">
                  <div style="margin-bottom: 4px;">ğŸµ Available Categories:</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Animal sounds (26 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Chakra healing (7 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Fire sounds (4 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Hypnosis (70 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Meditation (14 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Rain sounds (14 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Running water (6 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Singing bowl (61 tracks)</div>
                  <div style="margin-left: 8px; margin-bottom: 2px;">â€¢ Subconscious therapy (11 tracks)</div>
                  <div style="margin-top: 6px; font-size: 9px; opacity: 0.7;">Total: 213+ healing tracks</div>
                </div>
              </div>

              <!-- æ’­æ”¾åˆ—è¡¨æ§åˆ¶ -->
              <div style="margin-top: 12px; padding-top: 8px; border-top: 1px solid rgba(255,255,255,0.1);">
                <button type="button" id="playFirstBtn" style="background: rgba(255,255,255,0.2); border: none; color: white; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 11px; margin-right: 8px;" data-i18n="play-all">æ’­æ”¾å…¨éƒ¨</button>
                <button type="button" id="togglePlaylistBtn" style="background: rgba(255,255,255,0.1); border: none; color: white; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 11px;" data-i18n="toggle-display">åˆ‡æ¢æ˜¾ç¤º</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- å“ç‰Œæ ‡è¯† -->
  <div class="brand-signature">
    å£°éŸ³ç–—æ„ˆç©ºé—´ <span class="theme-accent-dot"></span>
  </div>

  <script src="assets/js/app-new-ui.js"></script>
</body>
</html>
