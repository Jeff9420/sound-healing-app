<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å£°éŸ³ç–—æ„ˆ - 3Dæ’­æ”¾åˆ—è¡¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #1a2432 0%, #2d3748 30%, #1a202c 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: white;
        }

        .title {
            text-align: center;
            margin-bottom: 40px;
            color: white;
            font-size: 32px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 450px;
            perspective: 1000px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .carousel {
            position: relative;
            width: 350px;
            height: 480px;
            transform-style: preserve-3d;
            transition: transform 0.6s ease-in-out;
        }

        .carousel-item {
            position: absolute;
            width: 350px;
            height: 480px;
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            color: white;
            font-size: 16px;
            font-weight: 500;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            cursor: pointer;
            transition: all 0.4s ease;
            padding: 40px 30px;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        /* 9ä¸ªåˆ†ç±»çš„3Då¸ƒå±€ - æ¨¡æ‹ŸåŸç½‘ç«™çš„æ•ˆæœ */
        /* æ£®æ—æ –æ¯åœ° - Animal sounds */
        .carousel-item:nth-child(1) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        /* æ¸©æš–å£ç‚‰ - Fire */
        .carousel-item:nth-child(2) {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        /* æ¢¦å¢ƒèŠ±å›­ - hypnosis */
        .carousel-item:nth-child(3) {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        /* ç¦…å¢ƒå±±è°· - meditation */
        .carousel-item:nth-child(4) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        /* é›¨æ—åœ£åœ° - Rain */
        .carousel-item:nth-child(5) {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        /* æºªæµç§˜å¢ƒ - running water */
        .carousel-item:nth-child(6) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        /* é¢‚é’µåœ£æ®¿ - Singing bowl sound */
        .carousel-item:nth-child(7) {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* èƒ½é‡åœºåŸŸ - Chakra */
        .carousel-item:nth-child(8) {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        /* æ½œè¯†æ˜ŸåŸŸ - Subconscious Therapy */
        .carousel-item:nth-child(9) {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* 3Då¡ç‰‡ä½ç½®å¸ƒå±€ - åªæ˜¾ç¤º3å¼ å¡ç‰‡ */
        .carousel-item {
            opacity: 0;
            visibility: hidden;
            transform: translateX(0) rotateY(45deg) scale(0.8);
        }

        /* å·¦ä¾§å¡ç‰‡ */
        .carousel-item.prev {
            opacity: 0.7;
            visibility: visible;
            transform: translateX(-200px) rotateY(45deg) scale(0.85);
            z-index: 1;
        }

        /* ä¸­é—´å½“å‰å¡ç‰‡ */
        .carousel-item.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0) rotateY(0deg) scale(1);
            z-index: 3;
        }

        /* å³ä¾§å¡ç‰‡ */
        .carousel-item.next {
            opacity: 0.7;
            visibility: visible;
            transform: translateX(200px) rotateY(-45deg) scale(0.85);
            z-index: 1;
        }

        /* å¡ç‰‡å†…å®¹æ ·å¼ - æ¨¡æ‹ŸåŸç½‘ç«™è®¾è®¡ */
        .item-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .item-icon {
            font-size: 80px;
            margin-bottom: 20px;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .item-title {
            font-size: 28px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 8px;
            text-align: center;
        }

        .track-count {
            font-size: 18px;
            color: rgba(255,255,255,0.9);
            font-weight: 400;
            margin-bottom: 30px;
        }

        .item-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            text-align: center;
            width: 100%;
        }

        .play-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 16px 40px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .play-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .play-btn.active {
            background: rgba(255,255,255,0.4);
            color: white;
        }

        /* å±•å¼€çš„æ’­æ”¾åˆ—è¡¨ */
        .track-list {
            width: 100%;
            max-height: 250px;
            overflow-y: auto;
            overflow-x: hidden;
            margin-top: 20px;
            display: none;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 15px;
            scrollbar-width: thin;
            scrollbar-color: rgba(255,255,255,0.3) rgba(255,255,255,0.1);
        }

        .track-list.show {
            display: block;
        }

        .track-item {
            background: rgba(255,255,255,0.1);
            margin: 4px 0;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.4;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .track-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(4px);
        }

        /* æ§åˆ¶æŒ‰é’® */
        .controls {
            position: absolute;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            backdrop-filter: blur(10px);
            font-weight: 500;
        }

        .btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .auto-btn.active {
            background: rgba(76, 175, 80, 0.6);
            border-color: rgba(76, 175, 80, 0.8);
        }

        /* åº•éƒ¨åœ†ç‚¹å¯¼èˆª */
        .dots-container {
            position: absolute;
            bottom: -140px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dot.active {
            background: rgba(255,255,255,0.9);
            transform: scale(1.2);
        }

        .dot:hover {
            background: rgba(255,255,255,0.7);
        }

        /* æ»šåŠ¨æ¡ç¾åŒ– */
        .track-list::-webkit-scrollbar {
            width: 6px;
        }

        .track-list::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
        }

        .track-list::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
        }

        /* éŸ³é¢‘æ§åˆ¶å™¨æ ·å¼ */
        .audio-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(26, 36, 50, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 20px;
            width: 320px;
            max-width: 320px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .audio-controls h4 {
            color: white;
            margin-bottom: 15px;
            font-size: 14px;
            text-align: center;
        }

        .control-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .playback-buttons {
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        .control-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        .play-pause-btn {
            width: 50px;
            height: 50px;
            font-size: 20px;
            background: rgba(76, 175, 80, 0.3);
            border-color: rgba(76, 175, 80, 0.6);
        }

        .play-pause-btn:hover {
            background: rgba(76, 175, 80, 0.5);
        }

        .current-track-info {
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            width: 100%;
            overflow: hidden;
        }

        .track-name {
            color: white;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 4px;
            width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            position: relative;
        }

        .track-name.scrolling {
            animation: scroll-left 10s linear infinite;
        }

        @keyframes scroll-left {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .track-category {
            color: rgba(255,255,255,0.7);
            font-size: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .control-label {
            color: rgba(255,255,255,0.8);
            font-size: 12px;
            min-width: 40px;
        }

        .progress-slider, .volume-slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: rgba(255,255,255,0.2);
            outline: none;
            -webkit-appearance: none;
        }

        .progress-slider::-webkit-slider-thumb, .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .time-display {
            color: rgba(255,255,255,0.8);
            font-size: 11px;
            min-width: 40px;
            text-align: center;
        }

        .volume-display {
            color: rgba(255,255,255,0.8);
            font-size: 11px;
            min-width: 30px;
            text-align: center;
        }

        .timer-select {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            min-width: 80px;
        }

        .timer-status {
            color: rgba(255,255,255,0.7);
            font-size: 10px;
            min-width: 50px;
        }

        /* è¯­è¨€é€‰æ‹©å™¨æ ·å¼ */
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .language-btn {
            background: rgba(26, 36, 50, 0.9);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }

        .language-btn:hover {
            background: rgba(26, 36, 50, 1);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(26, 36, 50, 0.95);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 8px 0;
            min-width: 120px;
            display: none;
            backdrop-filter: blur(20px);
        }

        .language-dropdown.show {
            display: block;
        }

        .language-option {
            padding: 8px 12px;
            color: white;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s ease;
        }

        .language-option:hover {
            background: rgba(255,255,255,0.1);
        }

        @media (max-width: 768px) {
            .carousel-container {
                width: 250px;
                height: 160px;
            }

            .carousel-item {
                font-size: 16px;
            }

            .item-title {
                font-size: 20px;
            }

            .controls {
                bottom: -50px;
            }

            .btn {
                padding: 8px 16px;
                font-size: 12px;
            }

            .audio-controls {
                right: 10px;
                bottom: 10px;
                width: 280px;
                max-width: 280px;
                padding: 15px;
            }
        }
    </style>
    <script src="assets/js/audio-config.js"></script>
</head>
<body>
    <div class="title" data-i18n="app.title">ğŸµ å£°éŸ³ç–—æ„ˆ - 3Dæ’­æ”¾åˆ—è¡¨ ğŸµ</div>
    <div class="carousel-container">
        <div class="carousel" id="carousel">
            <!-- æ£®æ—æ –æ¯åœ° - Animal sounds -->
            <div class="carousel-item" data-category="Animal sounds">
                <div class="item-header">
                    <div class="item-icon">ğŸ¦…</div>
                    <div class="item-title">æ£®æ—æ –æ¯åœ°</div>
                    <div class="track-count">26 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">SPAéŸ³ä¹ç–—é¦† 1 - å‡å‹ç–—ç¨‹ The Curing Shop - For Decompression.mp3</div>
                        <div class="track-item">ã€å¤§è‡ªç„¶éŸµå¾‹ã€‘é¸Ÿå„¿æ¬¢å¿«çš„é¸£å«.mp3</div>
                        <div class="track-item">å¤©ç±ä¹‹éŸ³ï¼Œæ¸…è„†çš„é¸Ÿé¸£ã€æ”¾æ¾å‡å‹ã€‘.mp3</div>
                        <div class="track-item">å±±é—´æ¸…æ¾ˆçš„å°æºªå£°éŸ³ä¼´ç€æ¸…è„†çš„é¸Ÿå«ï¼ˆä¸Šï¼‰.mp3</div>
                        <div class="track-item">æ£®æ—é‡Œç™¾çµé¸Ÿé¸£å«.mp3</div>
                        <div class="track-item">æ­Œå”±çš„å°é¸Ÿ å‡å‹é™å¿ƒ é…èˆ’ç¼“éŸ³ä¹ï¼ˆä¸Šï¼‰.mp3</div>
                    </div>
                </div>
            </div>

            <!-- æ¸©æš–å£ç‚‰ - Fire -->
            <div class="carousel-item" data-category="Fire">
                <div class="item-header">
                    <div class="item-icon">ğŸ”¥</div>
                    <div class="item-title">æ¸©æš–å£ç‚‰</div>
                    <div class="track-count">3 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">æ²³è¾¹ç‚¹ç‡ƒç¯ç«ã€æ°´å£°å’Œæ¸…è„†çš„é¸Ÿé¸£01.mp3</div>
                        <div class="track-item">æ²³è¾¹ç‚¹ç‡ƒç¯ç«ã€æ°´å£°å’Œæ¸…è„†çš„é¸Ÿé¸£02.mp3</div>
                        <div class="track-item">æ²³è¾¹ç‚¹ç‡ƒç¯ç«ã€æ°´å£°å’Œæ¸…è„†çš„é¸Ÿé¸£03.mp3</div>
                    </div>
                </div>
            </div>

            <!-- æ¢¦å¢ƒèŠ±å›­ - hypnosis -->
            <div class="carousel-item" data-category="hypnosis">
                <div class="item-header">
                    <div class="item-icon">ğŸŒ™</div>
                    <div class="item-title">æ¢¦å¢ƒèŠ±å›­</div>
                    <div class="track-count">66 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">Bolo Ram.mp3</div>
                        <div class="track-item">Om Mani Padme Hum.mp3</div>
                        <div class="track-item">å‚¬çœ ä¸“ç”¨å†¥æƒ³éŸ³ä¹1.mp3</div>
                        <div class="track-item">å‚¬çœ éŸ³ä¹10.mp3</div>
                        <div class="track-item">æ”¾æ¾è½»éŸ³ä¹1.mp3</div>
                    </div>
                </div>
            </div>

            <!-- ç¦…å¢ƒå±±è°· - meditation -->
            <div class="carousel-item" data-category="meditation">
                <div class="item-header">
                    <div class="item-icon">ğŸ§˜â€â™€ï¸</div>
                    <div class="item-title">ç¦…å¢ƒå±±è°·</div>
                    <div class="track-count">14 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">å†¥æƒ³ ç‘œä¼½å¿…å¬.mp3</div>
                        <div class="track-item">å‡å‹èˆ’ç¼“æ”¾æ¾çš„ç¥å¥‡éŸ³ä¹.mp3</div>
                        <div class="track-item">å¸¦æ‚¨è¿›å…¥æ·±å±‚æ¬¡ç¡çœ .mp3</div>
                        <div class="track-item">é™å¿ƒ å¤§å½»å¤§æ‚Ÿ.mp3</div>
                    </div>
                </div>
            </div>

            <!-- é›¨æ—åœ£åœ° - Rain -->
            <div class="carousel-item" data-category="Rain">
                <div class="item-header">
                    <div class="item-icon">â˜”</div>
                    <div class="item-title">é›¨æ—åœ£åœ°</div>
                    <div class="track-count">13 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">ä¸€å£°é—·é›·ï¼Œå¤§é›¨å€¾ç›†.mp3</div>
                        <div class="track-item">å°æ—¶å€™æ‰“é›·ä¸‹é›¨-..å¿…å¤‡ï¼Œæ²»æ„ˆå¤±çœ 01.mp3</div>
                        <div class="track-item">å€¾å¬å±±è°·ä¸­å°é›¨ï¼Œå‡€åŒ–å¿ƒçµ.mp3</div>
                        <div class="track-item">èº«ä¸´æƒ…æ™¯çš„é›¨å£°.mp3</div>
                    </div>
                </div>
            </div>

            <!-- æºªæµç§˜å¢ƒ - running water -->
            <div class="carousel-item" data-category="running water">
                <div class="item-header">
                    <div class="item-icon">ğŸ’§</div>
                    <div class="item-title">æºªæµç§˜å¢ƒ</div>
                    <div class="track-count">5 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">ç¼“ç¼“æµæ°´ï¼Œæ¸©æŸ”çš„æŠšæ‘¸è„¸é¢Šï¼Œæ‹äººèˆ¬çš„æ„Ÿè§‰ï¼ˆä¸Šï¼‰.mp3</div>
                        <div class="track-item">ç¼“ç¼“æµæ°´ï¼Œæ¸©æŸ”çš„æŠšæ‘¸è„¸é¢Šï¼Œæ‹äººèˆ¬çš„æ„Ÿè§‰ï¼ˆä¸‹ï¼‰.mp3</div>
                        <div class="track-item">æ²³è¾¹ç‚¹ç‡ƒç¯ç«ã€æ°´å£°å’Œæ¸…è„†çš„é¸Ÿé¸£01.mp3</div>
                    </div>
                </div>
            </div>

            <!-- é¢‚é’µåœ£æ®¿ - Singing bowl sound -->
            <div class="carousel-item" data-category="Singing bowl sound">
                <div class="item-header">
                    <div class="item-icon">ğŸµ</div>
                    <div class="item-title">é¢‚é’µåœ£æ®¿</div>
                    <div class="track-count">61 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">01-Healing Bowls - Instrumental - Jane Winther.mp3</div>
                        <div class="track-item">é¢‚é’µéŸ³ç–—ï¼Œå¹³èººæˆ–ï¼Œæ”¾ä¸‹èº«å¿ƒï¼Œå…¨ç„¶èå…¥çš„ä½“ä¼š.mp3</div>
                        <div class="track-item">é¡¶çº§æ°´æ™¶é’µé¢‚éŸ³.éŸ³ç–—.mp3</div>
                        <div class="track-item">é’µéŸ³+æ°´å£°+é¸Ÿå«è‡ªç„¶å£° è®©ä½ å¹³é™ä¸‹æ¥çš„å£°éŸ³ 01.mp3</div>
                    </div>
                </div>
            </div>

            <!-- èƒ½é‡åœºåŸŸ - Chakra -->
            <div class="carousel-item" data-category="Chakra">
                <div class="item-header">
                    <div class="item-icon">ğŸŒˆ</div>
                    <div class="item-title">èƒ½é‡åœºåŸŸ</div>
                    <div class="track-count">7 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">Hals-Chakra è“ç‰è²å(å–‰è½®).mp3</div>
                        <div class="track-item">Scheitel-Chakra ç´«æ™¶è²å(é¡¶è½®).mp3</div>
                        <div class="track-item">Herz-Chakra ç¶ çŸ³è“®è¯(å¿ƒè¼ª).mp3</div>
                        <div class="track-item">Wurzel-Chakra ç¢§ç‰è²å(æµ·åº•è½®).mp3</div>
                    </div>
                </div>
            </div>

            <!-- æ½œè¯†æ˜ŸåŸŸ - Subconscious Therapy -->
            <div class="carousel-item" data-category="Subconscious Therapy">
                <div class="item-header">
                    <div class="item-icon">ğŸŒŒ</div>
                    <div class="item-title">æ½œè¯†æ˜ŸåŸŸ</div>
                    <div class="track-count">11 ä¸ªéŸ³é¢‘</div>
                </div>
                <div class="item-content">
                    <button class="play-btn">æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨</button>
                    <div class="track-list">
                        <div class="track-item">å…¨æ–°çš„å¼€å§‹.mp3</div>
                        <div class="track-item">æ¢¦èµ·å§‹çš„åœ°æ–¹.mp3</div>
                        <div class="track-item">é‡è§æ—é—´ç²¾çµ.mp3</div>
                        <div class="track-item">æ»´è½çš„æ˜Ÿå­.mp3</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn" onclick="rotateCarousel(-1)" data-i18n="carousel.prev">ä¸Šä¸€ä¸ª</button>
            <button class="btn auto-btn" onclick="toggleAuto()" id="autoBtn" data-i18n="carousel.auto">è‡ªåŠ¨æ’­æ”¾</button>
            <button class="btn" onclick="rotateCarousel(1)" data-i18n="carousel.next">ä¸‹ä¸€ä¸ª</button>
        </div>

        <!-- åœ†ç‚¹å¯¼èˆª -->
        <div class="dots-container">
            <div class="dot active" onclick="goToSlide(0)"></div>
            <div class="dot" onclick="goToSlide(1)"></div>
            <div class="dot" onclick="goToSlide(2)"></div>
            <div class="dot" onclick="goToSlide(3)"></div>
            <div class="dot" onclick="goToSlide(4)"></div>
            <div class="dot" onclick="goToSlide(5)"></div>
            <div class="dot" onclick="goToSlide(6)"></div>
            <div class="dot" onclick="goToSlide(7)"></div>
            <div class="dot" onclick="goToSlide(8)"></div>
        </div>
    </div>

    <!-- éŸ³é¢‘æ§åˆ¶å™¨ - å¢å¼ºç‰ˆ -->
    <div class="audio-controls">
        <h4 data-i18n="audioControl.title">ğŸµ æ’­æ”¾æ§åˆ¶å™¨</h4>

        <!-- æ’­æ”¾æ§åˆ¶æŒ‰é’® -->
        <div class="control-row playback-buttons">
            <button class="control-btn" id="prevBtn" data-i18n-title="controls.previous" title="ä¸Šä¸€é¦–">â®</button>
            <button class="control-btn play-pause-btn" id="playPauseBtn" data-i18n-title="controls.playPause" title="æ’­æ”¾/æš‚åœ">â–¶ï¸</button>
            <button class="control-btn" id="nextBtn" data-i18n-title="controls.next" title="ä¸‹ä¸€é¦–">â­</button>
        </div>

        <!-- å½“å‰æ’­æ”¾ä¿¡æ¯ -->
        <div class="current-track-info">
            <div class="track-name" id="currentTrackName" data-i18n="player.noTrack">æœªé€‰æ‹©éŸ³é¢‘</div>
            <div class="track-category" id="currentTrackCategory"></div>
        </div>

        <!-- è¿›åº¦æ§åˆ¶ -->
        <div class="control-row">
            <span class="control-label" data-i18n="controls.progress">è¿›åº¦</span>
            <span class="time-display" id="currentTime">00:00</span>
            <input type="range" class="progress-slider" id="progressSlider" min="0" max="100" step="0.1" value="0">
            <span class="time-display" id="totalTime">00:00</span>
        </div>

        <!-- éŸ³é‡æ§åˆ¶ -->
        <div class="control-row">
            <span class="control-label" data-i18n="controls.volume">éŸ³é‡</span>
            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
            <span class="volume-display" id="volumeDisplay">50%</span>
        </div>

        <!-- å®šæ—¶å™¨æ§åˆ¶ -->
        <div class="control-row timer-row">
            <span class="control-label" data-i18n="timer.label">å®šæ—¶</span>
            <select class="timer-select" id="timerSelect">
                <option value="0" data-i18n="timer.off">å…³é—­</option>
                <option value="15" data-i18n="timer.15min">15åˆ†é’Ÿ</option>
                <option value="30" data-i18n="timer.30min">30åˆ†é’Ÿ</option>
                <option value="60" data-i18n="timer.60min">60åˆ†é’Ÿ</option>
                <option value="90" data-i18n="timer.90min">90åˆ†é’Ÿ</option>
            </select>
            <span class="timer-status" id="timerStatus" data-i18n="timer.inactive">æœªå¯åŠ¨</span>
        </div>
    </div>

    <!-- è¯­è¨€é€‰æ‹©å™¨ -->
    <div class="language-selector" id="languageSelector">
        <button class="language-btn" id="languageBtn">ğŸŒ ä¸­æ–‡</button>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option" data-lang="zh-CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</div>
            <div class="language-option" data-lang="en-US">ğŸ‡ºğŸ‡¸ English</div>
            <div class="language-option" data-lang="ja-JP">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</div>
            <div class="language-option" data-lang="ko-KR">ğŸ‡°ğŸ‡· í•œêµ­ì–´</div>
        </div>
    </div>

    <script>
        let currentIndex = 0;
        let isAutoRotating = false;
        let autoInterval;
        const carousel = document.getElementById('carousel');
        const autoBtn = document.getElementById('autoBtn');
        const totalItems = 9;

        // éŸ³é¢‘ç›¸å…³å˜é‡
        let currentAudio = null;
        let isPlaying = false;
        let currentPlaylist = [];
        let currentTrackIndex = 0;
        let sleepTimer = null;
        let timerStartTime = null;
        let currentLanguage = 'zh-CN';

        // å¤šè¯­è¨€ç¿»è¯‘
        const translations = {
            'zh-CN': {
                'app.title': 'ğŸµ å£°éŸ³ç–—æ„ˆ - 3Dæ’­æ”¾åˆ—è¡¨ ğŸµ',
                'audioControl.title': 'ğŸµ æ’­æ”¾æ§åˆ¶å™¨',
                'controls.previous': 'ä¸Šä¸€é¦–',
                'controls.playPause': 'æ’­æ”¾/æš‚åœ',
                'controls.next': 'ä¸‹ä¸€é¦–',
                'controls.progress': 'è¿›åº¦',
                'controls.volume': 'éŸ³é‡',
                'timer.label': 'å®šæ—¶',
                'timer.off': 'å…³é—­',
                'timer.15min': '15åˆ†é’Ÿ',
                'timer.30min': '30åˆ†é’Ÿ',
                'timer.60min': '60åˆ†é’Ÿ',
                'timer.90min': '90åˆ†é’Ÿ',
                'timer.inactive': 'æœªå¯åŠ¨',
                'timer.active': 'å‰©ä½™',
                'player.noTrack': 'æœªé€‰æ‹©éŸ³é¢‘',
                'playlist.show': 'æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨',
                'playlist.hide': 'æ”¶èµ·åˆ—è¡¨',
                'carousel.prev': 'ä¸Šä¸€ä¸ª',
                'carousel.auto': 'è‡ªåŠ¨æ’­æ”¾',
                'carousel.autoStop': 'åœæ­¢æ’­æ”¾',
                'carousel.next': 'ä¸‹ä¸€ä¸ª',
                'tracks.count': 'ä¸ªéŸ³é¢‘'
            },
            'en-US': {
                'app.title': 'ğŸµ Sound Healing - 3D Playlist ğŸµ',
                'audioControl.title': 'ğŸµ Playback Controller',
                'controls.previous': 'Previous',
                'controls.playPause': 'Play/Pause',
                'controls.next': 'Next',
                'controls.progress': 'Progress',
                'controls.volume': 'Volume',
                'timer.label': 'Timer',
                'timer.off': 'Off',
                'timer.15min': '15 min',
                'timer.30min': '30 min',
                'timer.60min': '60 min',
                'timer.90min': '90 min',
                'timer.inactive': 'Inactive',
                'timer.active': 'Remaining',
                'player.noTrack': 'No track selected',
                'playlist.show': 'Show Playlist',
                'playlist.hide': 'Hide Playlist',
                'carousel.prev': 'Previous',
                'carousel.auto': 'Auto Play',
                'carousel.autoStop': 'Stop Auto',
                'carousel.next': 'Next',
                'tracks.count': ' tracks'
            },
            'ja-JP': {
                'app.title': 'ğŸµ ã‚µã‚¦ãƒ³ãƒ‰ãƒ’ãƒ¼ãƒªãƒ³ã‚° - 3Dãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆ ğŸµ',
                'audioControl.title': 'ğŸµ å†ç”Ÿã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼',
                'controls.previous': 'å‰ã¸',
                'controls.playPause': 'å†ç”Ÿ/ä¸€æ™‚åœæ­¢',
                'controls.next': 'æ¬¡ã¸',
                'controls.progress': 'é€²è¡ŒçŠ¶æ³',
                'controls.volume': 'éŸ³é‡',
                'timer.label': 'ã‚¿ã‚¤ãƒãƒ¼',
                'timer.off': 'ã‚ªãƒ•',
                'timer.15min': '15åˆ†',
                'timer.30min': '30åˆ†',
                'timer.60min': '60åˆ†',
                'timer.90min': '90åˆ†',
                'timer.inactive': 'éã‚¢ã‚¯ãƒ†ã‚£ãƒ–',
                'timer.active': 'æ®‹ã‚Š',
                'player.noTrack': 'ãƒˆãƒ©ãƒƒã‚¯æœªé¸æŠ',
                'playlist.show': 'ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º',
                'playlist.hide': 'ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’éš ã™',
                'carousel.prev': 'å‰ã¸',
                'carousel.auto': 'è‡ªå‹•å†ç”Ÿ',
                'carousel.autoStop': 'åœæ­¢',
                'carousel.next': 'æ¬¡ã¸',
                'tracks.count': 'ãƒˆãƒ©ãƒƒã‚¯'
            },
            'ko-KR': {
                'app.title': 'ğŸµ ì‚¬ìš´ë“œ íë§ - 3D í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ğŸµ',
                'audioControl.title': 'ğŸµ ì¬ìƒ ì»¨íŠ¸ë¡¤ëŸ¬',
                'controls.previous': 'ì´ì „',
                'controls.playPause': 'ì¬ìƒ/ì¼ì‹œì •ì§€',
                'controls.next': 'ë‹¤ìŒ',
                'controls.progress': 'ì§„í–‰ë¥ ',
                'controls.volume': 'ë³¼ë¥¨',
                'timer.label': 'íƒ€ì´ë¨¸',
                'timer.off': 'ë„ê¸°',
                'timer.15min': '15ë¶„',
                'timer.30min': '30ë¶„',
                'timer.60min': '60ë¶„',
                'timer.90min': '90ë¶„',
                'timer.inactive': 'ë¹„í™œì„±',
                'timer.active': 'ë‚¨ì€ì‹œê°„',
                'player.noTrack': 'íŠ¸ë™ ë¯¸ì„ íƒ',
                'playlist.show': 'í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ë³´ê¸°',
                'playlist.hide': 'í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìˆ¨ê¸°ê¸°',
                'carousel.prev': 'ì´ì „',
                'carousel.auto': 'ìë™ ì¬ìƒ',
                'carousel.autoStop': 'ì •ì§€',
                'carousel.next': 'ë‹¤ìŒ',
                'tracks.count': 'ê°œ íŠ¸ë™'
            }
        };

        // åˆ†ç±»ä¸­æ–‡åæ˜ å°„
        const categoryNames = {
            'Animal sounds': { 'zh-CN': 'æ£®æ—æ –æ¯åœ°', 'en-US': 'Forest Habitat', 'ja-JP': 'æ£®ã®ä½å‡¦', 'ko-KR': 'ìˆ² ì„œì‹ì§€' },
            'Fire': { 'zh-CN': 'æ¸©æš–å£ç‚‰', 'en-US': 'Warm Fireplace', 'ja-JP': 'æš–ã‹ã„æš–ç‚‰', 'ko-KR': 'ë”°ëœ»í•œ ë²½ë‚œë¡œ' },
            'hypnosis': { 'zh-CN': 'æ¢¦å¢ƒèŠ±å›­', 'en-US': 'Dream Garden', 'ja-JP': 'å¤¢ã®åº­', 'ko-KR': 'ê¿ˆì˜ ì •ì›' },
            'meditation': { 'zh-CN': 'ç¦…å¢ƒå±±è°·', 'en-US': 'Zen Valley', 'ja-JP': 'ç¦…ã®è°·', 'ko-KR': 'ì„ ê²½ ê³„ê³¡' },
            'Rain': { 'zh-CN': 'é›¨æ—åœ£åœ°', 'en-US': 'Rainforest Sanctuary', 'ja-JP': 'é›¨æ—è–åœ°', 'ko-KR': 'ìš°ë¦¼ ì„±ì§€' },
            'running water': { 'zh-CN': 'æºªæµç§˜å¢ƒ', 'en-US': 'Stream Secret', 'ja-JP': 'æ¸“æµç§˜å¢ƒ', 'ko-KR': 'ê³„ê³¡ ë¹„ê²½' },
            'Singing bowl sound': { 'zh-CN': 'é¢‚é’µåœ£æ®¿', 'en-US': 'Singing Bowl Temple', 'ja-JP': 'ã‚·ãƒ³ã‚®ãƒ³ã‚°ãƒœã‚¦ãƒ«è–æ®¿', 'ko-KR': 'ì‹±ì‰ë³¼ ì„±ì „' },
            'Chakra': { 'zh-CN': 'èƒ½é‡åœºåŸŸ', 'en-US': 'Energy Field', 'ja-JP': 'ã‚¨ãƒãƒ«ã‚®ãƒ¼å ´', 'ko-KR': 'ì—ë„ˆì§€ ì¥' },
            'Subconscious Therapy': { 'zh-CN': 'æ½œè¯†æ˜ŸåŸŸ', 'en-US': 'Subconscious Realm', 'ja-JP': 'æ½œåœ¨æ„è­˜ã®æ˜ŸåŸŸ', 'ko-KR': 'ì ì¬ì˜ì‹ ì„±ì—­' }
        };

        // æ›´æ–°å¡ç‰‡æ˜¾ç¤ºçŠ¶æ€ - æ¨¡æ‹ŸåŸç½‘ç«™3å¡ç‰‡å¸ƒå±€
        function updateCarouselDisplay() {
            const items = document.querySelectorAll('.carousel-item');
            const dots = document.querySelectorAll('.dot');

            // é‡ç½®æ‰€æœ‰å¡ç‰‡çŠ¶æ€
            items.forEach((item, index) => {
                item.classList.remove('active', 'prev', 'next');
            });

            // è®¡ç®—å‰ä¸€ä¸ªã€å½“å‰ã€ä¸‹ä¸€ä¸ªå¡ç‰‡ç´¢å¼•
            const prevIndex = (currentIndex - 1 + totalItems) % totalItems;
            const nextIndex = (currentIndex + 1) % totalItems;

            // è®¾ç½®å¡ç‰‡çŠ¶æ€
            items[prevIndex].classList.add('prev');
            items[currentIndex].classList.add('active');
            items[nextIndex].classList.add('next');

            // æ›´æ–°åœ†ç‚¹çŠ¶æ€
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        // å¯¼èˆªåˆ°æŒ‡å®šå¡ç‰‡
        function goToSlide(index) {
            if (index !== currentIndex) {
                currentIndex = index;
                updateCarouselDisplay();
            }
        }

        // æ—‹è½¬è½®æ’­å›¾
        function rotateCarousel(direction) {
            currentIndex = (currentIndex + direction + totalItems) % totalItems;
            updateCarouselDisplay();
        }

        // è‡ªåŠ¨æ’­æ”¾åˆ‡æ¢
        function toggleAuto() {
            isAutoRotating = !isAutoRotating;

            if (isAutoRotating) {
                autoBtn.textContent = translations[currentLanguage]['carousel.autoStop'] || 'åœæ­¢æ’­æ”¾';
                autoBtn.classList.add('active');
                autoInterval = setInterval(() => {
                    rotateCarousel(1);
                }, 3000);
            } else {
                autoBtn.textContent = translations[currentLanguage]['carousel.auto'] || 'è‡ªåŠ¨æ’­æ”¾';
                autoBtn.classList.remove('active');
                clearInterval(autoInterval);
            }
        }

        // æ’­æ”¾åˆ—è¡¨å±•å¼€/æ”¶èµ·
        function togglePlaylist(btn) {
            const trackList = btn.nextElementSibling;
            const isShown = trackList.classList.contains('show');

            // æ”¶èµ·æ‰€æœ‰å…¶ä»–å±•å¼€çš„åˆ—è¡¨
            document.querySelectorAll('.track-list.show').forEach(list => {
                list.classList.remove('show');
            });
            document.querySelectorAll('.play-btn.active').forEach(button => {
                button.classList.remove('active');
                button.textContent = translations[currentLanguage]['playlist.show'] || 'æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨';
            });

            // åˆ‡æ¢å½“å‰åˆ—è¡¨
            if (!isShown) {
                trackList.classList.add('show');
                btn.classList.add('active');
                btn.textContent = translations[currentLanguage]['playlist.hide'] || 'æ”¶èµ·åˆ—è¡¨';
            }
        }

        // å¤šè¯­è¨€å‡½æ•°
        function updateLanguage(lang) {
            currentLanguage = lang;

            // æ›´æ–°æ‰€æœ‰å¸¦data-i18nå±æ€§çš„å…ƒç´ 
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // æ›´æ–°æ‰€æœ‰å¸¦data-i18n-titleå±æ€§çš„å…ƒç´ 
            document.querySelectorAll('[data-i18n-title]').forEach(element => {
                const key = element.getAttribute('data-i18n-title');
                if (translations[lang] && translations[lang][key]) {
                    element.title = translations[lang][key];
                }
            });

            // æ›´æ–°å¡ç‰‡æ ‡é¢˜
            document.querySelectorAll('.carousel-item').forEach(item => {
                const category = item.dataset.category;
                const titleElement = item.querySelector('.item-title');
                if (titleElement && categoryNames[category] && categoryNames[category][lang]) {
                    titleElement.textContent = categoryNames[category][lang];
                }
            });

            // æ›´æ–°éŸ³é¢‘æ•°é‡æ˜¾ç¤º
            document.querySelectorAll('.track-count').forEach(element => {
                const text = element.textContent;
                const number = text.match(/\d+/);
                if (number) {
                    const count = number[0];
                    const tracksText = translations[lang]['tracks.count'] || 'ä¸ªéŸ³é¢‘';
                    element.textContent = count + tracksText;
                }
            });

            // æ›´æ–°æ’­æ”¾åˆ—è¡¨æŒ‰é’®æ–‡å­—
            document.querySelectorAll('.play-btn').forEach(btn => {
                if (!btn.classList.contains('active')) {
                    btn.textContent = translations[lang]['playlist.show'] || 'æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨';
                }
            });

            // æ›´æ–°è‡ªåŠ¨æ’­æ”¾æŒ‰é’®æ–‡å­—
            const autoBtn = document.getElementById('autoBtn');
            if (autoBtn && !isAutoRotating) {
                autoBtn.textContent = translations[lang]['carousel.auto'] || 'è‡ªåŠ¨æ’­æ”¾';
            } else if (autoBtn && isAutoRotating) {
                autoBtn.textContent = translations[lang]['carousel.autoStop'] || 'åœæ­¢æ’­æ”¾';
            }

            // æ›´æ–°è¯­è¨€æŒ‰é’®
            const langNames = {
                'zh-CN': 'ğŸ‡¨ğŸ‡³ ä¸­æ–‡',
                'en-US': 'ğŸ‡ºğŸ‡¸ English',
                'ja-JP': 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª',
                'ko-KR': 'ğŸ‡°ğŸ‡· í•œêµ­ì–´'
            };
            document.getElementById('languageBtn').textContent = `ğŸŒ ${langNames[lang].split(' ')[1]}`;

            localStorage.setItem('language', lang);
        }

        // åŠ¨æ€ç”ŸæˆéŸ³è½¨åˆ—è¡¨
        function generateTrackLists() {
            if (typeof AUDIO_CONFIG === 'undefined') {
                console.warn('AUDIO_CONFIG not loaded');
                return;
            }

            document.querySelectorAll('.carousel-item').forEach(item => {
                const category = item.dataset.category;
                const trackListContainer = item.querySelector('.track-list');

                if (AUDIO_CONFIG.categories[category] && trackListContainer) {
                    // æ¸…ç©ºç°æœ‰å†…å®¹
                    trackListContainer.innerHTML = '';

                    // ç”Ÿæˆå®Œæ•´çš„éŸ³è½¨åˆ—è¡¨
                    AUDIO_CONFIG.categories[category].files.forEach((fileName, index) => {
                        const trackItem = document.createElement('div');
                        trackItem.className = 'track-item';
                        trackItem.textContent = fileName;
                        trackItem.addEventListener('click', (e) => {
                            e.stopPropagation();

                            // é«˜äº®é€‰ä¸­çš„éŸ³é¢‘
                            trackListContainer.querySelectorAll('.track-item').forEach(track => {
                                track.style.background = 'rgba(255,255,255,0.1)';
                            });
                            trackItem.style.background = 'rgba(255,255,255,0.3)';

                            // æ’­æ”¾éŸ³é¢‘
                            playAudio(fileName, category, index);
                        });
                        trackListContainer.appendChild(trackItem);
                    });

                    // æ›´æ–°éŸ³é¢‘æ•°é‡æ˜¾ç¤º
                    const trackCountElement = item.querySelector('.track-count');
                    if (trackCountElement) {
                        const count = AUDIO_CONFIG.categories[category].files.length;
                        const tracksText = translations[currentLanguage]['tracks.count'] || 'ä¸ªéŸ³é¢‘';
                        trackCountElement.textContent = count + tracksText;
                    }
                }
            });
        }

        // è·å–å½“å‰åˆ†ç±»çš„æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶
        function getCategoryTracks(categoryName) {
            if (typeof AUDIO_CONFIG !== 'undefined' && AUDIO_CONFIG.categories[categoryName]) {
                return AUDIO_CONFIG.categories[categoryName].files;
            }

            // å¤‡ç”¨æ–¹æ¡ˆï¼šä»DOMè·å–
            const categoryElement = document.querySelector(`[data-category="${categoryName}"]`);
            if (!categoryElement) return [];

            const trackItems = categoryElement.querySelectorAll('.track-item');
            return Array.from(trackItems).map(item => item.textContent);
        }

        // éŸ³é¢‘æ’­æ”¾åŠŸèƒ½ - ä½¿ç”¨Archive.org
        function playAudio(fileName, categoryName, trackIndex = 0) {
            // åœæ­¢å½“å‰æ’­æ”¾çš„éŸ³é¢‘
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }

            // è·å–å½“å‰æ’­æ”¾åˆ—è¡¨
            currentPlaylist = getCategoryTracks(categoryName);
            currentTrackIndex = trackIndex;

            // æ›´æ–°æ’­æ”¾ä¿¡æ¯æ˜¾ç¤º
            updateCurrentTrackInfo(fileName, categoryName);

            // åˆ›å»ºæ–°çš„éŸ³é¢‘å¯¹è±¡
            currentAudio = new Audio();

            // ä½¿ç”¨Archive.orgçš„éŸ³é¢‘URL
            const archiveUrl = getArchiveAudioUrl(categoryName, fileName);
            console.log('å°è¯•æ’­æ”¾éŸ³é¢‘:', archiveUrl);

            // è®¾ç½®éŸ³é¢‘æº
            currentAudio.src = archiveUrl;
            currentAudio.crossOrigin = "anonymous";

            // è®¾ç½®éŸ³é‡
            const volumeSlider = document.getElementById('volumeSlider');
            currentAudio.volume = volumeSlider.value;

            // è®¾ç½®åŠ è½½è¶…æ—¶
            const loadTimeout = setTimeout(() => {
                console.log('ä¸»URLåŠ è½½è¶…æ—¶ï¼Œå°è¯•æ›¿ä»£URL');
                tryAlternativeUrls(categoryName, fileName);
            }, 8000);

            // éŸ³é¢‘äº‹ä»¶ç›‘å¬
            currentAudio.addEventListener('canplaythrough', () => {
                clearTimeout(loadTimeout);
                console.log('éŸ³é¢‘åŠ è½½å®Œæˆï¼Œå¼€å§‹æ’­æ”¾:', fileName);
            }, { once: true });

            currentAudio.addEventListener('loadstart', () => {
                console.log('å¼€å§‹åŠ è½½éŸ³é¢‘:', archiveUrl);
            }, { once: true });

            currentAudio.addEventListener('timeupdate', updateProgressBar);

            currentAudio.addEventListener('ended', () => {
                playNextTrack();
            });

            currentAudio.addEventListener('error', (e) => {
                clearTimeout(loadTimeout);
                console.error('éŸ³é¢‘åŠ è½½é”™è¯¯:', e, 'æ–‡ä»¶:', fileName);
                tryAlternativeUrls(categoryName, fileName);
            }, { once: true });

            // æ’­æ”¾éŸ³é¢‘
            currentAudio.play().then(() => {
                clearTimeout(loadTimeout);
                isPlaying = true;
                updatePlayPauseButton();
                console.log('éŸ³é¢‘æ’­æ”¾æˆåŠŸ:', fileName);
            }).catch(error => {
                clearTimeout(loadTimeout);
                console.error('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', error);
                console.log('å°è¯•çš„URL:', archiveUrl);
                // å°è¯•å…¶ä»–æ ¼å¼çš„URL
                tryAlternativeUrls(categoryName, fileName);
            });
        }

        // è·å–Archive.orgéŸ³é¢‘URL
        function getArchiveAudioUrl(categoryName, fileName) {
            // ä¼˜å…ˆä½¿ç”¨AUDIO_CONFIGä¸­çš„é…ç½®
            if (typeof AUDIO_CONFIG !== 'undefined' && AUDIO_CONFIG.categories[categoryName]) {
                const category = AUDIO_CONFIG.categories[categoryName];
                const baseUrl = AUDIO_CONFIG.baseUrl || 'https://archive.org/download/sound-healing-collection/';
                const folder = category.folder || categoryName.toLowerCase().replace(/\s+/g, '-');
                return `${baseUrl}${folder}/${encodeURIComponent(fileName)}`;
            }

            // å¤‡ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨é»˜è®¤æ˜ å°„
            const baseUrl = 'https://archive.org/download/sound-healing-collection/';
            const folderMap = {
                'Animal sounds': 'animal-sounds',
                'Fire': 'fire-sounds',
                'hypnosis': 'hypnosis',
                'meditation': 'meditation',
                'Rain': 'rain-sounds',
                'running water': 'water-sounds',
                'Singing bowl sound': 'singing-bowls',
                'Chakra': 'chakra',
                'Subconscious Therapy': 'subconscious-therapy'
            };

            const folder = folderMap[categoryName] || categoryName.toLowerCase().replace(/\s+/g, '-');
            return `${baseUrl}${folder}/${encodeURIComponent(fileName)}`;
        }

        // å°è¯•æ›¿ä»£URL - å¢å¼ºç‰ˆ
        function tryAlternativeUrls(categoryName, fileName) {
            // è·å–æ›´å¤šå¯èƒ½çš„æ–‡ä»¶å¤¹åç§°å’ŒURLç»„åˆ
            const folderVariations = [
                categoryName.toLowerCase().replace(/\s+/g, '-'),
                categoryName.toLowerCase().replace(/\s+/g, '_'),
                categoryName.toLowerCase().replace(/\s+/g, ''),
                categoryName,
                ''  // ç›´æ¥åœ¨æ ¹ç›®å½•
            ];

            const baseUrls = [
                'https://archive.org/download/sound-healing-collection/',
                'https://ia802307.us.archive.org/download/sound-healing-collection/',
                'https://ia601507.us.archive.org/download/sound-healing-collection/',
                'https://ia801507.us.archive.org/download/sound-healing-collection/'
            ];

            // ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„URLç»„åˆ
            const alternativeUrls = [];
            baseUrls.forEach(baseUrl => {
                folderVariations.forEach(folder => {
                    if (folder) {
                        alternativeUrls.push(`${baseUrl}${folder}/${encodeURIComponent(fileName)}`);
                    } else {
                        alternativeUrls.push(`${baseUrl}${encodeURIComponent(fileName)}`);
                    }
                });
            });

            // æ·»åŠ æ–‡ä»¶åå˜ä½“ï¼ˆå¤„ç†å¯èƒ½çš„ç¼–ç é—®é¢˜ï¼‰
            const fileNameVariations = [
                fileName,
                fileName.replace(/\s+/g, '%20'),
                fileName.replace(/\s+/g, '_'),
                fileName.replace(/\s+/g, '-')
            ];

            fileNameVariations.forEach(nameVariation => {
                if (nameVariation !== fileName) {
                    baseUrls.forEach(baseUrl => {
                        folderVariations.forEach(folder => {
                            if (folder) {
                                alternativeUrls.push(`${baseUrl}${folder}/${encodeURIComponent(nameVariation)}`);
                            }
                        });
                    });
                }
            });

            let urlIndex = 0;
            let maxRetries = Math.min(alternativeUrls.length, 15); // é™åˆ¶å°è¯•æ¬¡æ•°

            function tryNext() {
                if (urlIndex >= maxRetries) {
                    console.error('æ‰€æœ‰éŸ³é¢‘æºéƒ½æ— æ³•åŠ è½½:', fileName);
                    // æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯
                    const trackNameElement = document.getElementById('currentTrackName');
                    if (trackNameElement) {
                        trackNameElement.textContent = 'éŸ³é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·å°è¯•å…¶ä»–éŸ³é¢‘';
                    }
                    return;
                }

                const url = alternativeUrls[urlIndex];
                console.log(`å°è¯•æ›¿ä»£URL ${urlIndex + 1}/${maxRetries}:`, url);

                currentAudio.src = url;
                currentAudio.load();

                // è®¾ç½®è¶…æ—¶æœºåˆ¶
                const timeoutId = setTimeout(() => {
                    console.log('URLè¶…æ—¶ï¼Œå°è¯•ä¸‹ä¸€ä¸ª');
                    urlIndex++;
                    tryNext();
                }, 5000);

                currentAudio.addEventListener('canplaythrough', () => {
                    clearTimeout(timeoutId);
                    console.log('æ›¿ä»£URLæˆåŠŸ:', url);
                    currentAudio.play().then(() => {
                        isPlaying = true;
                        updatePlayPauseButton();
                    }).catch(error => {
                        console.error('æ’­æ”¾å¤±è´¥:', error);
                        urlIndex++;
                        tryNext();
                    });
                }, { once: true });

                currentAudio.addEventListener('error', (e) => {
                    clearTimeout(timeoutId);
                    console.log('URLåŠ è½½å¤±è´¥:', url, e);
                    urlIndex++;
                    tryNext();
                }, { once: true });
            }

            tryNext();
        }

        // å°è¯•å¤‡ç”¨éŸ³é¢‘æº
        function tryBackupAudioSources(urls, fileName, categoryName) {
            let urlIndex = 1;
            function tryNextUrl() {
                if (urlIndex >= urls.length) {
                    console.error('æ‰€æœ‰éŸ³é¢‘æºéƒ½æ— æ³•åŠ è½½');
                    return;
                }

                currentAudio.src = urls[urlIndex];
                currentAudio.load();

                currentAudio.addEventListener('canplaythrough', () => {
                    currentAudio.play().then(() => {
                        isPlaying = true;
                        updatePlayPauseButton();
                    });
                }, { once: true });

                currentAudio.addEventListener('error', () => {
                    urlIndex++;
                    tryNextUrl();
                }, { once: true });
            }

            tryNextUrl();
        }

        // æ›´æ–°å½“å‰æ’­æ”¾ä¿¡æ¯
        function updateCurrentTrackInfo(fileName, categoryName) {
            const trackNameElement = document.getElementById('currentTrackName');
            const trackCategoryElement = document.getElementById('currentTrackCategory');

            if (trackNameElement) {
                const cleanFileName = fileName.replace(/\.(mp3|wav|ogg)$/i, '');
                trackNameElement.textContent = cleanFileName;

                // æ£€æµ‹æ­Œæ›²åé•¿åº¦ï¼Œå¦‚æœè¶…è¿‡24ä¸ªå­—ç¬¦åˆ™åº”ç”¨æ»šåŠ¨åŠ¨ç”»
                if (cleanFileName.length > 24) {
                    trackNameElement.classList.add('scrolling');
                } else {
                    trackNameElement.classList.remove('scrolling');
                }
            }
            if (trackCategoryElement) {
                const categoryDisplay = categoryNames[categoryName]?.[currentLanguage] || categoryName;
                trackCategoryElement.textContent = categoryDisplay;
            }
        }

        // æ’­æ”¾/æš‚åœåˆ‡æ¢
        function togglePlayPause() {
            if (!currentAudio) return;

            if (isPlaying) {
                currentAudio.pause();
                isPlaying = false;
            } else {
                currentAudio.play().then(() => {
                    isPlaying = true;
                }).catch(error => {
                    console.error('æ’­æ”¾å¤±è´¥:', error);
                });
            }
            updatePlayPauseButton();
        }

        // æ›´æ–°æ’­æ”¾/æš‚åœæŒ‰é’®
        function updatePlayPauseButton() {
            const btn = document.getElementById('playPauseBtn');
            if (btn) {
                btn.textContent = isPlaying ? 'â¸ï¸' : 'â–¶ï¸';
            }
        }

        // æ’­æ”¾ä¸Šä¸€é¦–
        function playPreviousTrack() {
            if (currentPlaylist.length === 0) return;

            currentTrackIndex = (currentTrackIndex - 1 + currentPlaylist.length) % currentPlaylist.length;
            const fileName = currentPlaylist[currentTrackIndex];
            const categoryName = getCurrentCategory();
            playAudio(fileName, categoryName, currentTrackIndex);
        }

        // æ’­æ”¾ä¸‹ä¸€é¦–
        function playNextTrack() {
            if (currentPlaylist.length === 0) return;

            currentTrackIndex = (currentTrackIndex + 1) % currentPlaylist.length;
            const fileName = currentPlaylist[currentTrackIndex];
            const categoryName = getCurrentCategory();
            playAudio(fileName, categoryName, currentTrackIndex);
        }

        // è·å–å½“å‰åˆ†ç±»
        function getCurrentCategory() {
            const activeItem = document.querySelector('.carousel-item.active');
            return activeItem ? activeItem.dataset.category : 'Animal sounds';
        }

        // å®šæ—¶å™¨åŠŸèƒ½
        function startSleepTimer(minutes) {
            // æ¸…é™¤ç°æœ‰å®šæ—¶å™¨
            if (sleepTimer) {
                clearTimeout(sleepTimer);
                sleepTimer = null;
            }

            if (minutes === 0) {
                document.getElementById('timerStatus').textContent = translations[currentLanguage]['timer.inactive'];
                return;
            }

            timerStartTime = Date.now();
            const milliseconds = minutes * 60 * 1000;

            sleepTimer = setTimeout(() => {
                if (currentAudio && isPlaying) {
                    currentAudio.pause();
                    isPlaying = false;
                    updatePlayPauseButton();
                }
                document.getElementById('timerStatus').textContent = translations[currentLanguage]['timer.inactive'];
            }, milliseconds);

            // æ›´æ–°å®šæ—¶å™¨æ˜¾ç¤º
            updateTimerDisplay(minutes);
        }

        // æ›´æ–°å®šæ—¶å™¨æ˜¾ç¤º
        function updateTimerDisplay(totalMinutes) {
            const updateInterval = setInterval(() => {
                if (!sleepTimer) {
                    clearInterval(updateInterval);
                    return;
                }

                const elapsed = (Date.now() - timerStartTime) / 60000; // åˆ†é’Ÿ
                const remaining = Math.max(0, totalMinutes - elapsed);

                if (remaining <= 0) {
                    clearInterval(updateInterval);
                    document.getElementById('timerStatus').textContent = translations[currentLanguage]['timer.inactive'];
                } else {
                    const mins = Math.floor(remaining);
                    const secs = Math.floor((remaining - mins) * 60);
                    document.getElementById('timerStatus').textContent =
                        `${translations[currentLanguage]['timer.active']} ${mins}:${secs.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgressBar() {
            if (currentAudio && currentAudio.duration) {
                const progress = (currentAudio.currentTime / currentAudio.duration) * 100;
                document.getElementById('progressSlider').value = progress;

                // æ›´æ–°æ—¶é—´æ˜¾ç¤º
                document.getElementById('currentTime').textContent = formatTime(currentAudio.currentTime);
                document.getElementById('totalTime').textContent = formatTime(currentAudio.duration);
            }
        }

        // æ ¼å¼åŒ–æ—¶é—´
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // è¿›åº¦æ¡æ§åˆ¶
        document.getElementById('progressSlider').addEventListener('input', function() {
            if (currentAudio && currentAudio.duration) {
                const newTime = (this.value / 100) * currentAudio.duration;
                currentAudio.currentTime = newTime;
            }
        });

        // éŸ³é‡æ§åˆ¶
        document.getElementById('volumeSlider').addEventListener('input', function() {
            const volume = this.value;
            document.getElementById('volumeDisplay').textContent = Math.round(volume * 100) + '%';

            if (currentAudio) {
                currentAudio.volume = volume;
            }
        });

        // ç›¸é‚»å¡ç‰‡ç‚¹å‡»æ”¯æŒ
        document.querySelectorAll('.carousel-item').forEach((item, index) => {
            item.addEventListener('click', (e) => {
                // åªæœ‰åœ¨ç‚¹å‡»éå½“å‰å¡ç‰‡æ—¶æ‰åˆ‡æ¢
                if (index !== currentIndex && !e.target.closest('.play-btn') && !e.target.closest('.track-list')) {
                    goToSlide(index);
                }
            });
        });

        // æ’­æ”¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.play-btn').forEach((btn) => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                togglePlaylist(btn);
            });
        });

        // éŸ³é¢‘æ–‡ä»¶ç‚¹å‡»äº‹ä»¶ç°åœ¨ç”±åŠ¨æ€ç”Ÿæˆçš„éŸ³è½¨åˆ—è¡¨å¤„ç†

        // æ’­æ”¾æ§åˆ¶æŒ‰é’®äº‹ä»¶
        document.getElementById('playPauseBtn')?.addEventListener('click', togglePlayPause);
        document.getElementById('prevBtn')?.addEventListener('click', playPreviousTrack);
        document.getElementById('nextBtn')?.addEventListener('click', playNextTrack);

        // å®šæ—¶å™¨é€‰æ‹©äº‹ä»¶
        document.getElementById('timerSelect')?.addEventListener('change', function() {
            const minutes = parseInt(this.value);
            startSleepTimer(minutes);
        });

        // è¯­è¨€é€‰æ‹©å™¨äº‹ä»¶
        document.getElementById('languageBtn')?.addEventListener('click', function() {
            const dropdown = document.getElementById('languageDropdown');
            dropdown.classList.toggle('show');
        });

        document.querySelectorAll('.language-option').forEach(option => {
            option.addEventListener('click', function() {
                const lang = this.dataset.lang;
                updateLanguage(lang);
                document.getElementById('languageDropdown').classList.remove('show');
            });
        });

        // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­è¯­è¨€ä¸‹æ‹‰èœå•
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.language-selector')) {
                document.getElementById('languageDropdown').classList.remove('show');
            }
        });

        // è§¦æ‘¸/æ‹–æ‹½æ”¯æŒ
        let startX = 0;
        let isDragging = false;

        carousel.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isDragging = false;
        });

        carousel.addEventListener('touchmove', (e) => {
            if (!isDragging) {
                const deltaX = e.touches[0].clientX - startX;
                if (Math.abs(deltaX) > 30) {
                    isDragging = true;
                }
            }
        });

        carousel.addEventListener('touchend', (e) => {
            if (isDragging) {
                const endX = e.changedTouches[0].clientX;
                const deltaX = endX - startX;

                if (Math.abs(deltaX) > 80) {
                    if (deltaX > 0) {
                        rotateCarousel(-1);
                    } else {
                        rotateCarousel(1);
                    }
                }
            }
            isDragging = false;
        });

        // é¼ æ ‡æ‹–æ‹½æ”¯æŒ
        let isMouseDown = false;
        let mouseStartX = 0;
        let hasTriggeredDrag = false;

        carousel.addEventListener('mousedown', (e) => {
            isMouseDown = true;
            mouseStartX = e.clientX;
            hasTriggeredDrag = false;
            e.preventDefault();
        });

        document.addEventListener('mouseup', () => {
            isMouseDown = false;
            hasTriggeredDrag = false;
        });

        document.addEventListener('mousemove', (e) => {
            if (!isMouseDown || hasTriggeredDrag) return;

            const deltaX = e.clientX - mouseStartX;
            if (Math.abs(deltaX) > 100) {
                hasTriggeredDrag = true;
                if (deltaX > 0) {
                    rotateCarousel(-1);
                } else {
                    rotateCarousel(1);
                }
            }
        });

        // é”®ç›˜æ”¯æŒ
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                rotateCarousel(-1);
            } else if (e.key === 'ArrowRight') {
                rotateCarousel(1);
            } else if (e.key === ' ') {
                e.preventDefault();
                toggleAuto();
            }
        });

        // åˆå§‹åŒ–
        function initialize() {
            updateCarouselDisplay();

            // ç”ŸæˆåŠ¨æ€éŸ³è½¨åˆ—è¡¨
            generateTrackLists();

            // åŠ è½½ä¿å­˜çš„è¯­è¨€è®¾ç½®
            const savedLanguage = localStorage.getItem('language') || 'zh-CN';
            updateLanguage(savedLanguage);

            // è®¾ç½®é»˜è®¤éŸ³é‡æ˜¾ç¤º
            document.getElementById('volumeDisplay').textContent = '50%';
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initialize);
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initialize);
        } else {
            initialize();
        }
    </script>
</body>
</html>