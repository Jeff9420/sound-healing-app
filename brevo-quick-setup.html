<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Brevoé‚®ä»¶æœåŠ¡ä¸€é”®é…ç½®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .hero {
            background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
            color: white;
            padding: 50px;
            text-align: center;
            position: relative;
        }
        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }
        .hero p {
            font-size: 1.3rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }
        .benefits {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            position: relative;
            z-index: 1;
        }
        .benefit {
            text-align: center;
        }
        .benefit-number {
            font-size: 2rem;
            font-weight: bold;
            color: #FCD34D;
        }
        .benefit-text {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .content {
            padding: 50px;
        }
        .step-card {
            background: #F9FAFB;
            border-radius: 15px;
            padding: 35px;
            margin-bottom: 30px;
            border: 2px solid #E5E7EB;
            transition: all 0.3s;
        }
        .step-card:hover {
            border-color: #4F46E5;
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(79, 70, 229, 0.1);
        }
        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .step-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            margin-right: 20px;
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
        }
        .step-content h3 {
            color: #1F2937;
            margin-bottom: 15px;
            font-size: 1.6rem;
        }
        .step-content p {
            color: #4B5563;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        .highlight-box {
            background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
            border: 2px solid #F59E0B;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        .highlight-box h4 {
            color: #92400E;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .input-group {
            margin: 20px 0;
        }
        .input-group label {
            display: block;
            color: #374151;
            font-weight: 600;
            margin-bottom: 10px;
        }
        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #E5E7EB;
            border-radius: 10px;
            font-size: 16px;
            font-family: 'Monaco', 'Courier New', monospace;
            transition: all 0.3s;
        }
        .input-group input:focus {
            outline: none;
            border-color: #4F46E5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        .btn-primary {
            background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.4);
        }
        .btn-success {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }
        .progress-container {
            margin: 30px 0;
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #E5E7EB;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4F46E5, #7C3AED);
            border-radius: 5px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .status-message {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
            font-weight: 500;
        }
        .status-message.success {
            background: #D1FAE5;
            color: #065F46;
            border: 1px solid #6EE7B7;
            display: block;
        }
        .status-message.error {
            background: #FEE2E2;
            color: #991B1B;
            border: 1px solid #FCA5A5;
            display: block;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        .feature-title {
            color: #1F2937;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .feature-desc {
            color: #6B7280;
            font-size: 0.95rem;
        }
        .tutorial-steps {
            background: #EFF6FF;
            border: 2px solid #3B82F6;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        .tutorial-steps h4 {
            color: #1E40AF;
            margin-bottom: 15px;
        }
        .tutorial-steps ol {
            color: #1E40AF;
            padding-left: 20px;
        }
        .tutorial-steps li {
            margin: 10px 0;
        }
        .api-key-format {
            background: #F3F4F6;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Courier New', monospace;
            color: #4B5563;
            margin: 10px 0;
            text-align: center;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>ğŸš€ Brevoé‚®ä»¶æœåŠ¡é…ç½®</h1>
            <p>æ¯æœˆ9000å°å…è´¹é‚®ä»¶ - ä¸šç•Œæœ€å¤§å…è´¹é¢åº¦</p>
            <div class="benefits">
                <div class="benefit">
                    <div class="benefit-number">9000</div>
                    <div class="benefit-text">å…è´¹é‚®ä»¶/æœˆ</div>
                </div>
                <div class="benefit">
                    <div class="benefit-number">300</div>
                    <div class="benefit-text">å…è´¹é‚®ä»¶/å¤©</div>
                </div>
                <div class="benefit">
                    <div class="benefit-number">99%</div>
                    <div class="benefit-text">é€è¾¾ç‡</div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- æ­¥éª¤1ï¼šæ³¨å†Œ -->
            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>ğŸ“§ æ³¨å†ŒBrevoè´¦æˆ·ï¼ˆ2åˆ†é’Ÿï¼‰</h3>
                        <p>BrevoåŸåSendinblueï¼Œæ¬§æ´²é¢†å…ˆçš„é‚®ä»¶è¥é”€å¹³å°ï¼Œæ³¨å†Œä»…éœ€é‚®ç®±éªŒè¯ï¼</p>

                        <div class="tutorial-steps">
                            <h4>ğŸ“ æ³¨å†Œæ­¥éª¤ï¼š</h4>
                            <ol>
                                <li>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å‰å¾€æ³¨å†Œé¡µé¢</li>
                                <li>å¡«å†™é‚®ç®±ã€å¯†ç ã€å…¬å¸åç§°ï¼ˆå¯å¡«"SoundFlows"æˆ–ä¸ªäººï¼‰</li>
                                <li>æŸ¥æ”¶éªŒè¯é‚®ä»¶å¹¶ç‚¹å‡»éªŒè¯é“¾æ¥</li>
                                <li>å®Œæˆæ³¨å†Œåè‡ªåŠ¨è¿›å…¥Dashboard</li>
                            </ol>
                        </div>

                        <a href="https://www.brevo.com/free-signup/" target="_blank" class="btn-success">
                            ğŸš€ ç«‹å³å…è´¹æ³¨å†ŒBrevo
                        </a>

                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">ğŸ“¨</div>
                                <div class="feature-title">ä»…éœ€é‚®ç®±éªŒè¯</div>
                                <div class="feature-desc">æ— éœ€æ‰‹æœºçŸ­ä¿¡ï¼Œç®€å•å¿«æ·</div>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">ğŸŒ</div>
                                <div class="feature-title">æ”¯æŒä¸­æ–‡</div>
                                <div class="feature-desc">ç•Œé¢å‹å¥½ï¼Œæ“ä½œç®€å•</div>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">ğŸ’°</div>
                                <div class="feature-title">å®Œå…¨å…è´¹</div>
                                <div class="feature-desc">æ— ä¿¡ç”¨å¡ï¼Œæ°¸ä¹…å…è´¹é¢åº¦</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤2ï¼šè·å–APIå¯†é’¥ -->
            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>ğŸ”‘ è·å–APIå¯†é’¥ï¼ˆ1åˆ†é’Ÿï¼‰</h3>
                        <p>ç™»å½•åæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è·å–æ‚¨çš„APIå¯†é’¥ï¼š</p>

                        <div class="tutorial-steps">
                            <h4>ğŸ“ æŸ¥æ‰¾è·¯å¾„ï¼š</h4>
                            <ol>
                                <li>ç™»å½•åè¿›å…¥Dashboard</li>
                                <li>å·¦ä¾§èœå•æ‰¾åˆ° <strong>SMTP & API</strong></li>
                                <li>ç‚¹å‡» <strong>API Keys</strong> æ ‡ç­¾é¡µ</li>
                                <li>ç‚¹å‡» <strong>"Create a new API key"</strong></li>
                                <li>ç»™å¯†é’¥å‘½åï¼ˆå¦‚ï¼šSoundFlows-Emailï¼‰</li>
                                <li>å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰</li>
                            </ol>
                        </div>

                        <div class="highlight-box">
                            <h4>ğŸ” APIå¯†é’¥æ ¼å¼ç¤ºä¾‹ï¼š</h4>
                            <div class="api-key-format">
                                xkeysib-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                            </div>
                            <p style="color: #92400E; margin-top: 10px;">
                                <strong>é‡è¦æç¤ºï¼š</strong>APIå¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ç«‹å³å¤åˆ¶ä¿å­˜ï¼
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤3ï¼šé…ç½® -->
            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>âš¡ ä¸€é”®é…ç½®åˆ°ç½‘ç«™ï¼ˆ30ç§’ï¼‰</h3>
                        <p>å°†æ‚¨çš„APIå¯†é’¥å¡«å…¥ä¸‹æ–¹ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®ï¼š</p>

                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressBar" style="width: 0%;"></div>
                            </div>
                        </div>

                        <div class="highlight-box">
                            <h4>ğŸ“® Brevoé…ç½®ä¿¡æ¯</h4>

                            <div class="input-group">
                                <label for="apiKeyInput">API Keyï¼ˆv3å¯†é’¥ï¼‰</label>
                                <input type="password" id="apiKeyInput" placeholder="è¯·è¾“å…¥æ‚¨çš„Brevo API Keyï¼ˆæ ¼å¼ï¼šxkeysib-xxxxxxxxxxxï¼‰">
                            </div>

                            <button class="btn-primary pulse" onclick="configureBrevo()">
                                âœ¨ ä¸€é”®é…ç½®Brevo
                            </button>
                        </div>

                        <div id="statusMessage" class="status-message"></div>

                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">ğŸ“§</div>
                                <div class="feature-title">æ¬¢è¿é‚®ä»¶</div>
                                <div class="feature-desc">æ–°ç”¨æˆ·æ³¨å†Œè‡ªåŠ¨å‘é€</div>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">ğŸ”</div>
                                <div class="feature-title">å¯†ç é‡ç½®</div>
                                <div class="feature-desc">å®‰å…¨é‡ç½®é“¾æ¥å‘é€</div>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">â°</div>
                                <div class="feature-title">æ¯æ—¥æé†’</div>
                                <div class="feature-desc">å†¥æƒ³ç»ƒä¹ å®šæ—¶æé†’</div>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">ğŸ“Š</div>
                                <div class="feature-title">ä½¿ç”¨å‘¨æŠ¥</div>
                                <div class="feature-desc">ä¸ªæ€§åŒ–è¿›åº¦æŠ¥å‘Š</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let configProgress = 0;

        function updateProgress(percent) {
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percent + '%';
            configProgress = percent;
        }

        function showStatus(message, type = 'success') {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.className = `status-message ${type}`;
            statusDiv.textContent = message;
            statusDiv.style.display = 'block';
        }

        async function configureBrevo() {
            const apiKey = document.getElementById('apiKeyInput').value;

            // éªŒè¯è¾“å…¥
            if (!apiKey) {
                showStatus('âŒ è¯·è¾“å…¥API Key', 'error');
                return;
            }

            if (!apiKey.startsWith('xkeysib-') || apiKey.length < 30) {
                showStatus('âŒ API Keyæ ¼å¼ä¸æ­£ç¡®ï¼Œåº”ä¸º xkeysib-xxxxxxxxxxx', 'error');
                return;
            }

            // å¼€å§‹é…ç½®
            updateProgress(10);
            showStatus('ğŸ”„ æ­£åœ¨é…ç½®Brevoé‚®ä»¶æœåŠ¡...', 'success');

            try {
                // ä¿å­˜é…ç½®åˆ°localStorage
                await new Promise(resolve => setTimeout(resolve, 500));
                updateProgress(30);

                const config = {
                    service: 'brevo',
                    apiKey: apiKey,
                    savedAt: new Date().toISOString(),
                    freeLimit: {
                        daily: 300,
                        monthly: 9000
                    }
                };

                localStorage.setItem('emailServiceConfig', JSON.stringify(config));
                localStorage.setItem('brevoConfig', JSON.stringify(config));

                await new Promise(resolve => setTimeout(resolve, 500));
                updateProgress(60);

                // åˆ›å»ºé…ç½®æ–‡ä»¶ä¾›ä¸‹è½½
                const configContent = `// Brevoé‚®ä»¶æœåŠ¡é…ç½® - å·²è‡ªåŠ¨ç”Ÿæˆ
// ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString('zh-CN')}
// å…è´¹é¢åº¦: æ¯å¤©300å°ï¼Œæ¯æœˆ9000å°

const BREVO_CONFIG = {
    service: 'brevo',
    apiKey: '${apiKey}',
    endpoint: 'https://api.brevo.com/v3/smtp/email',
    freeLimit: {
        daily: 300,
        monthly: 9000
    }
};

// æ”¯æŒçš„é‚®ä»¶åŠŸèƒ½ï¼š
// - æ¬¢è¿é‚®ä»¶ (Welcome Email)
// - å¯†ç é‡ç½® (Password Reset)
// - æ¯æ—¥æé†’ (Daily Reminder)
// - ä½¿ç”¨å‘¨æŠ¥ (Weekly Digest)

// ä½¿ç”¨ç¤ºä¾‹ï¼š
// const emailService = new BrevoEmailService(BREVO_CONFIG.apiKey);
// await emailService.sendTemplateEmail(to, templateType, language, variables);`;

                // åˆ›å»ºä¸‹è½½é“¾æ¥
                const blob = new Blob([configContent], { type: 'text/javascript' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'brevo-email-config.js';
                a.click();
                window.URL.revokeObjectURL(url);

                await new Promise(resolve => setTimeout(resolve, 500));
                updateProgress(80);

                // æ›´æ–°é‚®ä»¶æœåŠ¡é…ç½®
                await new Promise(resolve => setTimeout(resolve, 500));
                updateProgress(100);

                showStatus('ğŸ‰ é…ç½®æˆåŠŸï¼æ‚¨ç°åœ¨æ‹¥æœ‰æ¯æœˆ9000å°å…è´¹é‚®ä»¶é¢åº¦ï¼é…ç½®æ–‡ä»¶å·²ä¸‹è½½ã€‚', 'success');

                // 3ç§’åæç¤ºæµ‹è¯•
                setTimeout(() => {
                    if (confirm('âœ¨ é…ç½®å®Œæˆï¼æ˜¯å¦ç«‹å³æµ‹è¯•é‚®ä»¶å‘é€åŠŸèƒ½ï¼Ÿ')) {
                        window.open('test-email-templates.html', '_blank');
                    }
                }, 3000);

            } catch (error) {
                showStatus('âŒ é…ç½®å¤±è´¥ï¼š' + error.message, 'error');
                updateProgress(0);
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥å·²æœ‰é…ç½®
        window.addEventListener('DOMContentLoaded', () => {
            const savedConfig = localStorage.getItem('brevoConfig') || localStorage.getItem('emailServiceConfig');

            if (savedConfig) {
                try {
                    const config = JSON.parse(savedConfig);
                    if (config.service === 'brevo' && config.apiKey) {
                        document.getElementById('apiKeyInput').value = config.apiKey;
                        updateProgress(100);
                        showStatus('âœ… æ£€æµ‹åˆ°å·²æœ‰Brevoé…ç½®ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨é‚®ä»¶åŠŸèƒ½ï¼', 'success');
                    }
                } catch (e) {
                    console.warn('é…ç½®è§£æå¤±è´¥:', e);
                }
            }
        });
    </script>
</body>
</html>